{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/helpers/dom/DomUtilities.ts","webpack:///./src/Constants.ts","webpack:///./src/helpers/Cookie.ts","webpack:///./src/SurveyManager.ts","webpack:///./src/helpers/Request.ts","webpack:///./src/helpers/filters/LanguageTextFilter.ts","webpack:///./src/Config.ts","webpack:///./src/helpers/templates.ts","webpack:///./src/helpers/filters/filter-utils.ts","webpack:///./src/helpers/dom/Select.ts","webpack:///./src/helpers/filters/ConditionalFlowFilter.ts","webpack:///./src/polyfills/ccsdk.polyfill.ts","webpack:///./src/CCSDKEntry.ts","webpack:///./src/Survey.ts","webpack:///./src/SurveyHandler.ts","webpack:///./src/css/main.scss?8357","webpack:///./src/css/main.scss","webpack:///./node_modules/rtl-css-loader/lib/css-base.js","webpack:///./node_modules/style-loader/lib/addStyles.js","webpack:///./node_modules/style-loader/lib/urls.js","webpack:///./src/helpers/filters/ConditionalTextFilter.ts","webpack:///./src/helpers/dom/DomSurvey.ts","webpack:///./src/helpers/dom/Theme.ts","webpack:///./src/helpers/dom/Slider.ts","webpack:///./src/TriggerManager.ts","webpack:///./src/Triggers.ts","webpack:///./src/helpers/TriggerUtils.ts","webpack:///./src/helpers/tracking.ts"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","templates_1","DomUtilities","selector","document","querySelectorAll","appendStyle","css","head","getElementsByTagName","style","createElement","type","styleSheet","cssText","appendChild","createTextNode","remove","el","parentNode","removeChild","removeAll","elements","Array","forEach","removeClassAll","className","_this","this","removeClass","addClassAll","addClass","classList","replace","RegExp","split","join","add","toggleClass","contains","hasClass","test","ready","fn","attachEvent","readyState","addEventListener","getParents","parentSelector","undefined","parents","push","listener","evt","sel","handler","internalHandler","event","target","Element","matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","indexOf","initListener","id","cb","checkIfListenerExists","ar","_i","ar_1","length","on","off","removeEventListener","removeListener","removeAllListeners","ar_2","trigger","eventName","data","CustomEvent","detail","createEvent","initCustomEvent","dispatchEvent","removeTrigger","shadeBlendConvert","from","to","sbcRip","RGB","slice","parseFloat","parseInt","Math","round","h","b","f","toString","hexToRGB","hex","alpha","substr","map","g","arrayContains","needle","findNaN","index","item","generateSelectOptions","arr","translatedArr","isArray","res","translatedOpt","generateLanguageSelectOptions","checkOptionContainsImage","opt","generateRadioImageOptions","optHtml","templates","option_radio_image","generateRadioIgnoreImageOptions","option_radio","generateRadioOptions","generateCheckboxImageOptions","option_checkbox_image","generateCheckboxIgnoreImageOptions","option_checkbox","generateCheckboxOptions","Constants","CCTriggerPageStartTime","CCTriggerPageElapsedTime","CCTriggerSiteStartTime","CCTriggerSiteElapsedTime","CCTriggerSitePageViewCount","CCTriggerIndividualPageViewCount","SURVEY_IMPRESSION_EVENT","SURVEY_START_EVENT","SURVEY_DATA_EVENT","SURVEY_END_EVENT","SURVEY_CLOSE_EVENT","SURVEY_QUESTION_EVENT","SURVEY_ANSWER_EVENT","SURVEY_CLICK_EVENT","GRANT_TYPE","AUTHORIZATION","AUTHORIZATION_BEARER","SURVEY_CLIENT","Cookie","set","days","path","date","Date","setTime","getTime","expires","toUTCString","dir","cookie","nameEQ","ca","charAt","substring","delete","getParameterByName","url","window","location","href","results","exec","decodeURIComponent","SurveyManager","initializeSurvey","surveyId","surveyInstances","setupSurvey","console","error","addSurvey","ccsdkDebug","log","surveyQueue","processQueueInterval","setInterval","processQueueIntervalCB","removeSurvey","survey","splice","clearInterval","globalSurveyRunning","pop","setSurveyRunning","globalSurveyStartTime","unsetSurveyRunning","prefillQueue","makeRequest","method","postParams","headers","successcb","errorcb","xhr","XMLHttpRequest","open","onload","status","response","match","JSON","parse","statusText","onerror","keys","setRequestHeader","send","RequestHelper","getWithHeaders","postWithHeaders","stringify","post","LanguageTextFilter","translateQuestionText","surveyHandler","question","ccsdk","config","language","translated","text","qText","translateMessages","surveyData","translateDisplayLegend","displayLegend","translateMultiSelect","multiSelect","translatedOptions_1","x","translateMultiSelectOption","option","effectiveMultiselect","Config","API_URL","SURVEY_BY_TOKEN","SURVEY_PARTIAL_RESPONSE","CDN_URL","CDN_ASSET_URL","POST_LOGIN_TOKEN","GET_SURVEY_THROTTLE_LOGIC","POST_THROTTLING","POST_THROTTLING_ADD_ENTRIES","POST_SURVEY_FINAL","GET_CAMPAIGN","QuestionSurvey","QuestionStart","QuestionSingleline","QuestionNumber","QuestionMultiline","QuestionCheckbox","QuestionRadio","QuestionRadioImage","QuestionScale","QuestionCSATAgreement5","QuestionCSATSatisfaction5","QuestionNPS","QuestionSelect","QuestionMultiSelect","QuestionSmile","QuestionSmileInverted","QuestionStar","QuestionSlider","OptionRadioImage","OptionRadio","OptionCheckbox","OptionCheckboxImage","ThankYou","question_survey","question_start","question_text","question_number","question_scale","question_csat_agreement_5","question_csat_satisfaction_5","question_nps","question_multi_line_text","question_multi_select","question_radio","question_radio_image","question_checkbox","question_select","question_smile_5","question_date","question_smile_5_inverted","question_star_5","question_slider","thankyou","language_selector","isNumberCheck","filterQuestion","answerCheck","isAnd","groupBy","toUpperCase","isOr","doesSatisfy","answer","getAnswerForQuestionId","questionId","toLowerCase","textInput","iFoundAll","getQuestionById","questionAnswerText","_a","aAnswer","displayType","numberInput","number","questionCompare","a","sequence","checkLanguage","fOption","DomUtilities_1","LanguageTextFilter_1","Select","qId","listeners","init","util","$body","$html","select","parent","getAttribute","self","classes","template","options","innerHTML","insertAdjacentHTML","setupListeners","ref2","e","selectOptions","selectWrapper","selectionTrigger","selectedOptionText","textContent","selectedValueText","addOrRemoveFromList","setAttribute","ref","ccSelect","stopPropagation","destroyListeners","setValue","selectTrigger","translatedSelection","selectOption","removeOption","csv","domOptions","allOptions_1","listAsString","list","itemIndex","filter_utils_1","ConditionalFlowFilter","aAddedCount","aRemovedCount","getConditionalSurveyQuestions","aQuestion","conditionalFilter","iSatisfied","iFailed","_b","_c","filterquestions","aFilterByQuestion","surveyQuestions","getSurveyQuestions","removeAnswer","sort","toStr","isCallable","maxSafeInteger","toLength","pow","len","Number","isNaN","isFinite","floor","abs","toInteger","min","max","arrayLike","items","TypeError","T","mapFn","arguments","kValue","A","k","params","bubbles","cancelable","Event","find","predicate","thisArg","configurable","writable","Cookie_1","SurveyManager_1","Survey_1","localCCSDK","destroy","hide","show","prefill","prefillByTag","prefillByNote","isMobile","innerWidth","CCSDK","queue","q","args","functionName","apply","queue_1","eventCCReady","initEvent","surveyToken","trim","isActive","Survey","tracking","trackEvent","token","action","directPrefills","byTagPrefills","byNotePrefills","dom","callback","restArgs","questionTag","questionNote","SurveyHandler_1","DomSurvey_1","Constants_1","TriggerManager_1","Triggers_1","Request_1","Config_1","tracking_1","requester","isThrottled","surveyDone","surveyStatus","surveyRunning","thorttlingLogic","MatomoTracker","textDirection","triggers","Triggers","TriggerManager","SurveyHandler","brandColor","setHtmlTextDirection","setDisplayOptions","setTimeout","username","password","cssSelector","setConditionalTriggers","getSurveyThrottlingLogic","getThrottleUrl","loginData","access_token","checkThrottling","inputIds","uniqueIDQuestionIdOrTag","logics","filter","postThrottleUrl","throttleResponse","addThrottlingEntries","isOpen","addThrottleUrl","user","mobile","emailId","customId","surveySentDate","surveyOpenDate","channel","isOpened","debug","initSurvey","ccSDKElement","querySelector","ccSDKDir","direction","surveyDisplay","position","welcomePopupAnimation","surveyPosition","search","getSurveyData","fetchQuestions","skipWelcomePage","hideLoader","questions","err","preFill","event_1","initSurveyQuestions","displayWelcomeQuestion","DomSurvey","setTheme","keepAlive","onImpressionEvent","startSurvey","setCoolDownPeriod","surveyStartTime","acceptAnswers","attachSurvey","initSurveyDom","onSurveyStartEvent","restOfArgs","prefillObject","fillPrefillDirect","fillPrefill","fillPrefillByNote","filterQuestions","enableClickTrigger","count","enablePageCountTrigger","count2","enableSiteCountTrigger","enablePageTimeTrigger","enableSiteTimeTrigger","enablePopUpByURLPatternTrigger","enablePopUpByNotURLPatternTrigger","enablePopUpByUTMPatternTrigger","enableScrollPixelsTrigger","ConditionalTextFilter_1","Select_1","ConditionalFlowFilter_1","answers","surveyAnswers","_prefillsPartiallyPosted","surveyPopupAnimation","domListeners","questionsToDisplay","prefillQuestions","conditionalQuestions","prefillResponses","prefillWithTags","prefillWithNote","prefillDirect","displayThankYouCb","finalPost","thankyouHtml","thankyouText","startText","startButtonText","branding","replaceInQuestionsContainer","thankyouContainer","onSurveyEndEvent","destroySurveyCb","acceptAnswersCb","postPartialAnswer","domSelectElements","setQIndex","randomNumber","String","random","surveyUrl","setupPrefill","setupSurveyContainer","cleanSurvey","displayQuestions","displayThankYou","destroySurvey","fillPrefillQuestionObject","surveyHtml","appendInBody","displayQuestionSelector","warningWelcomeText","onSurveyImpressionEvent","welcomeHtml","welcomeText","getElementById","showWelcomeContainer","welcomeQuestionDisplayTime","welcomeInterval","checkWelcomeQuestionDisplay","campaign","coolDownPeriod","now","killWelcomeQuestion","cancelKillWelcomeQuestion","displayLanguageSelector","options1","cTemplate1","concat","$questionContainer","firstChild","languageSelect","submitBtn","selectRes","removePrevListener","languageSelect2","languageQuestion","questionTags","fillPrefillQuestion","isRTL","loadFirstQuestion","getElementsByClassName","checkConditionals","compiledTemplate","compileTemplate","isPrefillQuestion","getPrefillResponseById","updatePrefillResponseById","prefillObj","postRecentPrefills","valueType","responseStored","questionText","getAnswerTypeFromDisplayType","postPrefillPartialAnswer","fullSubmission","partialResponseId","surveyPartialUrl","resp","complete","onSurveyAnswerEvent","postSurveyFinalUrl","lastAnswer","answersAll","timeAtPost","finalData","locationId","responses","nps","surveyClient","responseDuration","responseDateTime","_lastAnswer","questionTemplate","optMin","optMax","ConditionalTextFilter","filterText","isRequired","middleBlock","endBlock","dimension","tileColor","attributes","scaleColor","presentationMode","tileColorDark","startRange","endRange","endRangeLabel_1","startRangeLabel_1","midRangeLabel","anchorMetricName","metricName","optionsLength","customMetric","customMetrics","optionCategories","label","middleRange","categoryRange","endRange_1","displayLegend_1","mobileImageUrl","imageVisibility010","scaleVisibility","scaleImageContainer","imageVisibility110","divider","legendDimension","optionStyle","initial_1","cmwidthstart","cmwidthend","leftWidth","iterator","startRange_1","initial_2","endRange_2","color","initial_3","optionLeftExtraClass","optionMidExtraClass","optionRightExtraClass","optionMaxWidth","validationHint","characterLimit","acTemplate","multiSelect1","reverse","displayStyle","options2_1","options2_2","options3","acTemplate1","options2","invertedMultiSelect","acTemplate2","invertedMultiSelect_1","startRangeLabel","endRangeLabel","displayLegend2","startRangeLabel1","endRangeLabel1","displayLegend3","isRetired","isPrefillTags","isPrefillNote","isPrefillDirect","fillPrefillWithTags","fillPrefillWithNote","tag","innerHeight","note","apiFill","staffFill","isQuestionFilled","surveyContainer","getSurveyContainer","welcomeContainer","getWelcomeContainer","content","result","mediaQuery","alreadyImportedModules","memo","isOldIE","getElement","singletonCounter","addStylesToDom","styles","domStyle","stylesInDom","refs","j","parts","addStyle","listToStyles","newStyles","base","part","media","sourceMap","insertStyleElement","insertInto","Error","lastStyleElementInsertedAtTop","stylesInsertedAtTop","insertAt","nextSibling","insertBefore","removeStyleElement","idx","addAttrs","attrs","obj","update","transform","singleton","styleIndex","createStyleElement","applyToSingletonTag","URL","createObjectURL","revokeObjectURL","Blob","btoa","rel","link","createLinkElement","fixUrls","unescape","encodeURIComponent","oldSrc","newObj","DEBUG","mayRemove","newList","textStore","replaceText","replacement","Boolean","cssNode","childNodes","baseUrl","protocol","host","currentDir","pathname","fullMatch","origUrl","newUrl","unquotedOrigUrl","$1","conditionalText","conditionalText_1","setName","leadingDisplayTexts","filterByQuestion","groupTitle","__assign","assign","trackSelects","trackRadios","currentQuestionListeners","qIndex","qResponse","time","theme","Theme_1","Theme","getQindex","$startBtn","onSurveyClickEvent","showLoader","nextQue","nextQuestion","prevQue","prevQuestion","closeSurvey","onSurveyCloseEvent","bodyElement","minSurvey","minimizeSurvey","$popupContainer2","$popupContainer","resumeText","resumeButtonText","updateProgress","currentQuestionId","width","loadQuestionSpecifics","leftIcon","onSurveyQuestionEvent","span","validationSpan","validationRegex","regex","submitQuestion","nextQ","rightIcon","nextIcon","$loader","html","appendInQuestionsContainer","startContainer","showLanguageSelector","qType","setupListenersQuestionScale","setupListenersQuestionNPS","setupListenersQuestionMultiline","setupListenersQuestionSelect","setupListenersQuestionRadio","setupListenersQuestionRadioImage","setupListenersQuestionCheckbox","setupListenersQuestionStar","setupListenersQuestionSmile","setupListenersQuestionCsat","setupListenersQuestionSlider","setupListenersQuestionSingleline","setupListenersQuestionNumber","setupListenersForDate","selectedRating","selectedRating1","previousValue","previousSelection","allOptions","rating","previousValues_1","previousValues","checked","child","previousSibling","multilineRes","singlelineRes","model","dateQuestion","children","month","year","numberRes","sliderRes","sliderInput","Slider_1","Slider","inputRange","rangeTip","speed","clearTo","updateRangeTip","display","clearTimeout","timeout","animateHandler","currValue","maxValue","requestAnimationFrame","sitePageViewCount","lastIndexOf","individualPageViewCount","click","onscroll","doc","documentElement","top","pageXOffset","scrollLeft","clientLeft","pageYOffset","scrollTop","clientTop","ccsdkTopOffset","processScrollTriggers","onclick","triggerInstances","triggerInterval","processIntervalTriggers","processConditionalTriggers","scrollNow","pageCountTrigger","siteCountTrigger","pageTimeTrigger","siteTimeTrigger","urlParamTrigger","notUrlParamTrigger","utmParamTrigger","scrollPixelsTrigger","pageCountTriggerEnabled","siteCountTriggerEnabled","pageTimeTriggerEnabled","siteTimeTriggerEnabled","urlParamTriggerEnabled","notUrlParamTriggerEnabled","utmParamTriggerEnabled","scrollPixelsTriggerEnabled","conditionalTriggers","minPageCount","TriggerPopUpByPageCount","minSiteCount","minPageTime","TriggerPopUpByTimeSpentOnPage","minSiteTime","TriggerPopUpByTimeSpentOnSite","urlPattern","inUrl","TriggerPopUpByURLPattern","notinUrl","TriggerPopUpByNotURLPattern","utm","TriggerPopUpByUTMParameter","minScrollPixels","grepURL","onExitDetect","waitSeconds","scrollPercent","grepInvertURL","conditionalTrigger","isEnabled","pageStartTime","pageTime","TriggerUtils_1","TriggerUtils","checkTimeCondition","checkScroll","checkInUrl","processNonConditionalTriggers","TriggerPopUpByScrollPixels","pageCount","NaN","checkPageCount","siteStartTime","siteTime","TriggerPopUpByInactivity","utmP","utmVal","payload","successCb","errorCb","searchParams","idsite","rec","action_name","action_url","uid","1","rand","ceil","param"],"mappings":"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","file":"cc.en.bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 11);\n","import { templates } from '../templates';\r\nimport { Config } from '../../Config';\r\n\r\nclass DomUtilities {\r\n\r\n  sbcRip: any;\r\n\r\n  constructor() {\r\n    // HTMLElement.prototype.matches = HTMLElement.prototype.matches ||\r\n    // HTMLElement.prototype.matchesSelector ||\r\n    // HTMLElement.prototype.webkitMatchesSelector ||\r\n    // HTMLElement.prototype.mozMatchesSelector ||\r\n    // HTMLElement.prototype.msMatchesSelector ||\r\n    // HTMLElement.prototype.oMatchesSelector;\r\n  }\r\n\r\n  get(selector: string) {\r\n    return document.querySelectorAll(selector);\r\n  }\r\n\r\n  appendStyle(css: string): void {\r\n    let head: any = document.head || document.getElementsByTagName('head')[0];\r\n    let style: any = document.createElement('style');\r\n    style.type = 'text/css';\r\n    if (style.styleSheet) {\r\n      style.styleSheet.cssText = css;\r\n    } else {\r\n      style.appendChild(document.createTextNode(css));\r\n    }\r\n    head.appendChild(style);\r\n  }\r\n\r\n  remove(el: any) {\r\n    el.parentNode.removeChild(el);\r\n  }\r\n\r\n  removeAll(elements: any): void {\r\n    Array.prototype.forEach.call(elements, (el, i) => {\r\n      el.parentNode.removeChild(el);\r\n    });\r\n  }\r\n\r\n  css(elements: any, property: string, value: any) {\r\n    Array.prototype.forEach.call(elements, (el, i) => {\r\n      el.style[property] = value;\r\n    });\r\n  }\r\n\r\n  removeClassAll(elements: any, className: string): void {\r\n    Array.prototype.forEach.call(elements, (el, i) => {\r\n      this.removeClass(el, className);\r\n    });\r\n  }\r\n\r\n  addClassAll(elements: any, className: string): void {\r\n    Array.prototype.forEach.call(elements, (el, i) => {\r\n      this.addClass(el, className);\r\n    });\r\n  }\r\n\r\n  removeClass(el: any, className: string): void {\r\n    // console.log(el);\r\n    if (!el) {\r\n      return;\r\n    }\r\n    if (el.classList)\r\n      el.classList.remove(className);\r\n    else\r\n      el.className = el.className.replace(new RegExp('(^|\\\\b)' + className.split(' ').join('|') + '(\\\\b|$)', 'gi'), ' ');\r\n  }\r\n  addClass(el: any, className: string) {\r\n    if (!el) {\r\n      return;\r\n    }\r\n    if (el.classList)\r\n      el.classList.add(className);\r\n    else\r\n      el.className += ' ' + className;\r\n  }\r\n  toggleClass(el: any, className: string): void {\r\n    if (el.classList) {\r\n      if (el.classList.contains(className))\r\n        el.classList.remove(className);\r\n      else\r\n        el.classList.add(className);\r\n    }\r\n\r\n\r\n  }\r\n  hasClass(el: any, className: string) {\r\n    if (el.classList)\r\n      return el.classList.contains(className);\r\n    else\r\n      return new RegExp('(^| )' + className + '( |$)', 'gi').test(el.className);\r\n  }\r\n  ready(fn: any): void {\r\n    if ((<any>document).attachEvent ? document.readyState === \"complete\" : document.readyState !== \"loading\") {\r\n      fn();\r\n    } else {\r\n      document.addEventListener('DOMContentLoaded', fn);\r\n    }\r\n  }\r\n\r\n  getParents(el: any, parentSelector: any): any {\r\n    // If no parentSelector defined will bubble up all the way to *document*\r\n    if (parentSelector === undefined) {\r\n      parentSelector = document;\r\n    }\r\n\r\n    var parents = [];\r\n    var p = el.parentNode;\r\n\r\n    while (p !== parentSelector) {\r\n      var o = p;\r\n      parents.push(o);\r\n      p = o.parentNode;\r\n    }\r\n    parents.push(parentSelector); // Push that parentSelector you wanted to stop at\r\n\r\n    return parents;\r\n  }\r\n\r\n  listener(el: any, evt: any, sel: any, handler: any): any {\r\n    let selectorMatches = function (el, selector) {\r\n      var p = Element.prototype;\r\n      var f = p.matches || p.webkitMatchesSelector || (<any>p).mozMatchesSelector || (<any>p).msMatchesSelector || function (s) {\r\n        return [].indexOf.call(document.querySelectorAll(s), this) !== -1;\r\n      };\r\n      return f.call(el, selector);\r\n    }\r\n    let internalHandler = function (event) {\r\n      var t = event.target;\r\n      while (t && t !== this) {\r\n        if (selectorMatches(t, sel)) {\r\n          handler.call(t, event);\r\n        }\r\n        t = t.parentNode;\r\n      }\r\n    };\r\n    el.addEventListener(evt, internalHandler);\r\n    return internalHandler;\r\n  }\r\n\r\n\r\n\r\n\r\n  initListener(type: string, id: string, cb: any) {\r\n    let ref: any = {\r\n      id: id,\r\n      type: type,\r\n      cb: cb,\r\n      internalHandler: undefined,\r\n    };\r\n    return ref;\r\n  }\r\n\r\n  checkIfListenerExists(id: string, ar: any): boolean {\r\n    for (let listener of ar) {\r\n      if (listener.id == id) {\r\n        return true;\r\n      }\r\n    }\r\n    return false;\r\n  }\r\n\r\n  on(evt: any, el: any, handler: any) {\r\n    el.addEventListener(evt, handler);\r\n  }\r\n  off(evt: any, el: any, handler: any) {\r\n    el.removeEventListener(evt, handler);\r\n  }\r\n  removeListener(el: any, evt: any, handler: any) {\r\n    el.removeEventListener(evt, handler);\r\n  }\r\n  removeAllListeners(ar: any): boolean {\r\n    for (let listener of ar) {\r\n      this.removeListener(document.querySelectorAll(\"body\")[0], listener.type, listener.internalHandler);\r\n    }\r\n    return true;\r\n  }\r\n\r\n  trigger(el: any, eventName: string, data: Object) {\r\n    if (typeof CustomEvent === 'function') {\r\n      var event = <any>new CustomEvent(eventName, { detail: data });\r\n    } else {\r\n      var event = <any>document.createEvent('CustomEvent');\r\n      event.initCustomEvent(eventName, true, true, data);\r\n    }\r\n\r\n    el.dispatchEvent(event);\r\n  }\r\n\r\n  removeTrigger(el: any, eventName: string) {\r\n    el.removeEventListener(eventName);\r\n  }\r\n\r\n  shadeBlendConvert(p: number, from: any, to: string): string {\r\n    if (typeof (p) != \"number\" || p < -1 || p > 1 || typeof (from) != \"string\" || (from[0] != 'r' && from[0] != '#') || (typeof (to) != \"string\" && typeof (to) != \"undefined\")) return null; //ErrorCheck\r\n    if (!this.sbcRip) this.sbcRip = function (d) {\r\n      var l = d.length, RGB = new Object();\r\n      if (l > 9) {\r\n        d = d.split(\",\");\r\n        if (d.length < 3 || d.length > 4) return null;//ErrorCheck\r\n        RGB[0] = i(d[0].slice(4)), RGB[1] = i(d[1]), RGB[2] = i(d[2]), RGB[3] = d[3] ? parseFloat(d[3]) : -1;\r\n      } else {\r\n        if (l == 8 || l == 6 || l < 4) return null; //ErrorCheck\r\n        if (l < 6) d = \"#\" + d[1] + d[1] + d[2] + d[2] + d[3] + d[3] + (l > 4 ? d[4] + \"\" + d[4] : \"\"); //3 digit\r\n        d = i(d.slice(1), 16), RGB[0] = d >> 16 & 255, RGB[1] = d >> 8 & 255, RGB[2] = d & 255, RGB[3] = l == 9 || l == 5 ? r(((d >> 24 & 255) / 255) * 10000) / 10000 : -1;\r\n      }\r\n      return RGB;\r\n    }\r\n    var i = parseInt, r = Math.round, h = from.length > 9, h = typeof (to) == \"string\" ? to.length > 9 ? true : to == \"c\" ? !h : false : h, b = p < 0, p = b ? p * -1 : p, to = to && to != \"c\" ? to : b ? \"#000000\" : \"#FFFFFF\", f = this.sbcRip(from), t = this.sbcRip(to);\r\n    if (!f || !t) return null; //ErrorCheck\r\n    if (h) return \"rgb(\" + r((t[0] - f[0]) * p + f[0]) + \",\" + r((t[1] - f[1]) * p + f[1]) + \",\" + r((t[2] - f[2]) * p + f[2]) + (f[3] < 0 && t[3] < 0 ? \")\" : \",\" + (f[3] > -1 && t[3] > -1 ? r(((t[3] - f[3]) * p + f[3]) * 10000) / 10000 : t[3] < 0 ? f[3] : t[3]) + \")\");\r\n    else return \"#\" + (0x100000000 + (f[3] > -1 && t[3] > -1 ? r(((t[3] - f[3]) * p + f[3]) * 255) : t[3] > -1 ? r(t[3] * 255) : f[3] > -1 ? r(f[3] * 255) : 255) * 0x1000000 + r((t[0] - f[0]) * p + f[0]) * 0x10000 + r((t[1] - f[1]) * p + f[1]) * 0x100 + r((t[2] - f[2]) * p + f[2])).toString(16).slice(f[3] > -1 || t[3] > -1 ? 1 : 3);\r\n  }\r\n\r\n  hexToRGB(hex: string, alpha: any): string {\r\n    if (!hex || [4, 7].indexOf(hex.length) === -1) {\r\n      return; // throw new Error('Bad Hex');\r\n    }\r\n\r\n    hex = hex.substr(1);\r\n    // if shortcuts (#F00) -> set to normal (#FF0000)\r\n    if (hex.length === 3) {\r\n      hex = hex.split('').map(function (el) {\r\n        return el + el + '';\r\n      }).join('');\r\n    }\r\n\r\n    var r = parseInt(hex.slice(0, 2), 16),\r\n      g = parseInt(hex.slice(2, 4), 16),\r\n      b = parseInt(hex.slice(4, 6), 16);\r\n\r\n    if (alpha) {\r\n      return \"rgba(\" + r + \", \" + g + \", \" + b + \", \" + alpha + \")\";\r\n    } else {\r\n      return \"rgb(\" + r + \", \" + g + \", \" + b + \")\";\r\n    }\r\n  }\r\n\r\n\r\n  arrayContains(needle) {\r\n    // Per spec, the way to identify NaN is that it is not equal to itself\r\n    var findNaN = needle !== needle;\r\n    var indexOf;\r\n\r\n    if (!findNaN && typeof Array.prototype.indexOf === 'function') {\r\n      indexOf = Array.prototype.indexOf;\r\n    } else {\r\n      indexOf = function (needle) {\r\n        var i = -1, index = -1;\r\n\r\n        for (i = 0; i < this.length; i++) {\r\n          var item = this[i];\r\n\r\n          if ((findNaN && item !== item) || item === needle) {\r\n            index = i;\r\n            break;\r\n          }\r\n        }\r\n\r\n        return index;\r\n      };\r\n    }\r\n\r\n    return indexOf.call(this, needle) > -1;\r\n  }\r\n\r\n  generateSelectOptions(arr: string[], translatedArr: string[]) {\r\n    if (Array.isArray(arr)) {\r\n      let i: number = 0;\r\n      let res: string = '';\r\n      for (i = 0; i < arr.length; i++) {\r\n        let translatedOpt = (translatedArr[i] || arr[i]).split(';');\r\n        let arrOpt = arr[i].split(';');\r\n        res += '<option value=\"' + arrOpt[0] + '\">' + (translatedOpt[0]) + '</option>';\r\n      }\r\n      return res;\r\n    }\r\n  }\r\n  generateLanguageSelectOptions(arr: any) {\r\n    if (Array.isArray(arr)) {\r\n      let i: number = 0;\r\n      let res: string = '';\r\n      for (i = 0; i < arr.length; i++) {\r\n        if (arr[i] == 'default') {\r\n          res += '<option value=\"' + arr[i] + '\">English (Default)</option>';\r\n        } else {\r\n          res += '<option value=\"' + arr[i] + '\">' + arr[i] + '</option>';\r\n        }\r\n      }\r\n      return res;\r\n    }\r\n  }\r\n  checkOptionContainsImage(arr: any) {\r\n    if (Array.isArray(arr)) {\r\n      let i: number = 0;\r\n      let res: boolean = true;\r\n      for (i = 0; i < arr.length; i++) {\r\n        let opt: any = arr[i];\r\n        res = res && (opt.indexOf(';') !== -1) && (opt.indexOf('.') !== -1);\r\n      }\r\n      return res;\r\n    }\r\n  }\r\n\r\n  generateRadioImageOptions(arr: string[], translatedArr: string[], id: string) {\r\n    if (Array.isArray(arr)) {\r\n      let i: number = 0;\r\n      let res: string = '';\r\n      for (i = 0; i < arr.length; i++) {\r\n        let optHtml: string = templates.option_radio_image;\r\n        let opt: any = arr[i].split(';')\r\n        let translatedOpt = translatedArr[i].split(';')\r\n        //  optHtml = optHtml.replace(/{{image}}/g, Config.CDN_URL+opt[1] );\r\n        //  optHtml = optHtml.replace(/{{image}}/g, 'https://cx.getcloudcherry.com/microsurvey-assets/' + opt[0] + '_selected.svg');\r\n        optHtml = optHtml.replace(/{{image}}/g, 'https://cx.getcloudcherry.com/microsurvey-assets/' + opt[1]);\r\n        optHtml = optHtml.replace(/{{qId}}/g, \"nm\" + id);\r\n        optHtml = optHtml.replace(/{{label}}/g, translatedOpt[0]);\r\n        optHtml = optHtml.replace(/{{labelFor}}/g, translatedOpt[0].replace(/\\s+/g, '-'));\r\n        optHtml = optHtml.replace(/{{value}}/g, opt[0]);\r\n        res += optHtml;\r\n\r\n      }\r\n      return res;\r\n    }\r\n  }\r\n  generateRadioIgnoreImageOptions(arr: string[], translatedArr: string[], id: string) {\r\n    if (Array.isArray(arr)) {\r\n      let i: number = 0;\r\n      let res: string = '';\r\n      for (i = 0; i < arr.length; i++) {\r\n        let optHtml: string = templates.option_radio;\r\n        let opt: any = arr[i].split(';');\r\n        let translatedOpt = translatedArr[i].split(';');\r\n        //  optHtml = optHtml.replace(/{{image}}/g, Config.CDN_URL+opt[1] );\r\n        //  optHtml = optHtml.replace(/{{image}}/g, 'https://cx.getcloudcherry.com/microsurvey-assets/' + opt[0] + '_selected.svg');\r\n        optHtml = optHtml.replace(/{{qId}}/g, \"nm\" + id);\r\n        optHtml = optHtml.replace(/{{label}}/g, translatedOpt[0]);\r\n        optHtml = optHtml.replace(/{{labelFor}}/g, translatedOpt[0].replace(/\\s+/g, '-'));\r\n        optHtml = optHtml.replace(/{{value}}/g, opt[0]);\r\n        res += optHtml;\r\n\r\n      }\r\n      return res;\r\n    }\r\n  }\r\n\r\n\r\n  generateRadioOptions(arr: string, translatedArr: string[], id: string) {\r\n    if (Array.isArray(arr)) {\r\n      let i: number = 0;\r\n      let res: string = '';\r\n      for (i = 0; i < arr.length; i++) {\r\n        let optHtml: string = templates.option_radio;\r\n        let opt: any = arr[i].split(';');\r\n        // normal radio\r\n        let translatedOpt = translatedArr[i].split(';');\r\n        optHtml = optHtml.replace(/{{qId}}/g, \"nm\" + id);\r\n        optHtml = optHtml.replace(/{{label}}/g, translatedOpt[0]);\r\n        optHtml = optHtml.replace(/{{labelFor}}/g, translatedOpt[0].replace(/\\s+/g, '-'));\r\n        optHtml = optHtml.replace(/{{value}}/g, opt[0]);\r\n        res += optHtml;\r\n      }\r\n      return res;\r\n    }\r\n  }\r\n  generateCheckboxImageOptions(arr: string[], translatedArr: string[], id: string) {\r\n    if (Array.isArray(arr)) {\r\n      let i: number = 0;\r\n      let res: string = '';\r\n      for (i = 0; i < arr.length; i++) {\r\n        let optHtml: string = templates.option_checkbox_image;\r\n        let opt: any = arr[i].split(';');\r\n        let translatedOpt = translatedArr[i].split(';');\r\n        //  optHtml = optHtml.replace(/{{image}}/g, Config.CDN_URL+opt[1] );\r\n        //  optHtml = optHtml.replace(/{{image}}/g, 'https://cx.getcloudcherry.com/microsurvey-assets/' + opt[0] + '_selected.svg');\r\n        optHtml = optHtml.replace(/{{image}}/g, 'https://cx.getcloudcherry.com/microsurvey-assets/' + opt[1]);\r\n        optHtml = optHtml.replace(/{{qId}}/g, \"nm\" + id);\r\n        optHtml = optHtml.replace(/{{label}}/g, translatedOpt[0]);\r\n        optHtml = optHtml.replace(/{{labelFor}}/g, translatedOpt[0].replace(/\\s+/g, '-'));\r\n        optHtml = optHtml.replace(/{{value}}/g, opt[0]);\r\n        res += optHtml;\r\n      }\r\n      return res;\r\n    }\r\n  }\r\n\r\n  generateCheckboxIgnoreImageOptions(arr: string[], translatedArr: string[], id: string) {\r\n    if (Array.isArray(arr)) {\r\n      let i: number = 0;\r\n      let res: string = '';\r\n      for (i = 0; i < arr.length; i++) {\r\n        let optHtml: string = templates.option_checkbox;\r\n        let opt: any = arr[i].split(';');\r\n        let translatedOpt = translatedArr[i].split(';');\r\n\r\n        //  optHtml = optHtml.replace(/{{image}}/g, Config.CDN_URL+opt[1] );\r\n        //  optHtml = optHtml.replace(/{{image}}/g, 'https://cx.getcloudcherry.com/microsurvey-assets/' + opt[0] + '_selected.svg');\r\n        optHtml = optHtml.replace(/{{qId}}/g, \"nm\" + id);\r\n        optHtml = optHtml.replace(/{{label}}/g, translatedOpt[0]);\r\n        optHtml = optHtml.replace(/{{labelFor}}/g, translatedOpt[0].replace(/\\s+/g, '-'));\r\n        optHtml = optHtml.replace(/{{value}}/g, opt[0]);\r\n        res += optHtml;\r\n\r\n      }\r\n      return res;\r\n    }\r\n  }\r\n\r\n  generateCheckboxOptions(arr: string[], translatedArr: string[], id: string) {\r\n    if (Array.isArray(arr)) {\r\n      let i: number = 0;\r\n      let res: string = '';\r\n      for (i = 0; i < arr.length; i++) {\r\n        let optHtml: string = templates.option_checkbox;\r\n        let opt: any = arr[i].split(';');\r\n        let translatedOpt = translatedArr[i].split(';');\r\n        optHtml = optHtml.replace(/{{label}}/g, translatedOpt[0]);\r\n        optHtml = optHtml.replace(/{{labelFor}}/g, translatedOpt[0].replace(/\\s+/g, '-'));\r\n        optHtml = optHtml.replace(/{{value}}/g, opt[0]);\r\n\r\n        res += optHtml;\r\n\r\n      }\r\n      // console.log( res );\r\n      return res;\r\n    }\r\n  }\r\n}\r\n\r\n\r\n//add Math.round\r\n\r\n\r\nexport { DomUtilities };\r\n","class Constants {\r\n  static CCTriggerPageStartTime = \"cc-trigger-page-start-time\";\r\n  static CCTriggerPageElapsedTime = \"cc-trigger-page-elapsed-time\";\r\n  static CCTriggerSiteStartTime = \"cc-trigger-site-start-time\";\r\n  static CCTriggerSiteElapsedTime = \"cc-trigger-site-elapsed-time\";\r\n  static CCTriggerSitePageViewCount = \"cc-trigger-site-page-count\";\r\n  static CCTriggerIndividualPageViewCount = \"cc-trigger-individual-page-count\";\r\n  static SURVEY_IMPRESSION_EVENT = \"onImpression\";\r\n  static SURVEY_START_EVENT = \"onStart\";\r\n  static SURVEY_DATA_EVENT = \"onData\";\r\n  static SURVEY_END_EVENT = \"onEnd\";\r\n  static SURVEY_CLOSE_EVENT = \"onClose\";\r\n  static SURVEY_QUESTION_EVENT = \"onQuestion\";\r\n  static SURVEY_ANSWER_EVENT = \"onAnswer\";\r\n  static SURVEY_CLICK_EVENT = \"onClick\";\r\n  static GRANT_TYPE = \"password\";\r\n  static AUTHORIZATION = \"Authorization\";\r\n  static AUTHORIZATION_BEARER = \"Bearer\";\r\n  static SURVEY_CLIENT = \"JS-MicroWeb\";\r\n}\r\n\r\nexport { Constants };","class Cookie {\r\n    /**\r\n     * Set/Overwrite a cookie value\r\n     *\r\n     * @param name\r\n     * @param value\r\n     * @param days      OPTIONAL Days till this cookie will stay valid. Default is current session\r\n     * @param path      OPTIONAL domain root will be used by default\r\n     */\r\n    static set(name : any, value : any, days : any, path : any) {\r\n      if (days) {\r\n          var date = new Date();\r\n              date.setTime(date.getTime()+(days*24*60*60*1000));\r\n          var expires = \"; expires=\"+date.toUTCString();\r\n      } else var expires = \"\";\r\n\r\n      var dir = path || '/';\r\n      document.cookie = name+\"=\"+value+expires+\"; path=\"+dir;\r\n  }\r\n\r\n  /**\r\n   * Retrieve a cookie value\r\n   *\r\n   * @param name\r\n   * @return String|null\r\n   */\r\n  static get(name) {\r\n      var nameEQ = name + \"=\";\r\n      var ca = document.cookie.split(';');\r\n      for(var i=0;i < ca.length;i++) {\r\n          var c = ca[i];\r\n          while (c.charAt(0)==' ') c = c.substring(1,c.length);\r\n          if (c.indexOf(nameEQ) == 0) return c.substring(nameEQ.length,c.length);\r\n      }\r\n      return null;\r\n  }\r\n\r\n  /**\r\n   * Remove a cookie\r\n   *\r\n   * @param name\r\n   */\r\n  static delete(name) {\r\n    Cookie.set(name,\"\",-1, undefined);\r\n  }\r\n\r\n  static getParameterByName(name : string, url : any) {\r\n    if (!url) url = window.location.href;\r\n    name = name.replace(/[\\[\\]]/g, \"\\\\$&\");\r\n    var regex = new RegExp(\"[?&]\" + name + \"(=([^&#]*)|&|#|$)\"),\r\n        results = regex.exec(url);\r\n    if (!results) return null;\r\n    if (!results[2]) return '';\r\n    return decodeURIComponent(results[2].replace(/\\+/g, \" \"));\r\n  }\r\n}\r\n\r\nexport { Cookie };\r\n","\r\n//Survey Manager manages and queues survey.\r\n\r\nclass SurveyManager {\r\n\r\n  static surveyQueue: any = [];\r\n  static processQueueInterval: any = null;\r\n  static prefillQueue: any = {};\r\n  static surveyInstances: any = {};\r\n\r\n  static initializeSurvey(surveyId: string) {\r\n    //check if survey ran?\r\n    //do survey initialization.\r\n    if (!SurveyManager.surveyInstances || !SurveyManager.surveyInstances[surveyId]) {\r\n      console.error('Microsurvey not properly set up. Contact Support.');\r\n      return;\r\n    }\r\n\r\n    SurveyManager.surveyInstances[surveyId].setupSurvey();\r\n  }\r\n\r\n  static addSurvey(surveyId) {\r\n    (window as any).ccsdkDebug ? console.log(\"Adding survey ID : \" + surveyId) : '';\r\n    if (SurveyManager.surveyQueue.indexOf(surveyId) === -1) {\r\n      SurveyManager.surveyQueue.push(surveyId);\r\n    }\r\n    if (SurveyManager.processQueueInterval == null) {\r\n      SurveyManager.processQueueInterval = setInterval(SurveyManager.processQueueIntervalCB, 100);\r\n    }\r\n  }\r\n\r\n  static removeSurvey(surveyId) {\r\n    if (SurveyManager.surveyQueue.length > 0) {\r\n      for (let survey in SurveyManager.surveyQueue) {\r\n        if (SurveyManager.surveyQueue[survey].surveyId == surveyId) {\r\n          SurveyManager.surveyQueue.splice(survey, 1);\r\n          break;\r\n        }\r\n      }\r\n    }\r\n    if (SurveyManager.surveyQueue.length == 0) {\r\n      clearInterval(SurveyManager.processQueueInterval);\r\n    }\r\n  }\r\n\r\n  static processQueueIntervalCB() {\r\n    if ((window as any).globalSurveyRunning == true) {\r\n      return;\r\n    } else {\r\n      let surveyId = SurveyManager.surveyQueue.pop();\r\n      (window as any).ccsdkDebug ? console.log(\"Processing survey ID \" + surveyId) : '';\r\n      if (surveyId == undefined) {\r\n        clearInterval(SurveyManager.processQueueInterval);\r\n        SurveyManager.processQueueInterval = null;\r\n      } else {\r\n        (window as any).globalSurveyRunning = true;\r\n        SurveyManager.initializeSurvey(surveyId);\r\n      }\r\n    }\r\n  }\r\n\r\n  public static setSurveyRunning() {\r\n    (window as any).globalSurveyRunning = true;\r\n    (window as any).globalSurveyStartTime = new Date();\r\n  }\r\n\r\n  public static unsetSurveyRunning() {\r\n    (window as any).globalSurveyRunning = false;\r\n  }\r\n}\r\n\r\nexport { SurveyManager };","// import 'whatwg-fetch';\r\n\r\nfunction makeRequest( method: string, url: string, postParams: string, headers: any, successcb: any, errorcb: any ): any {\r\n  var xhr = new XMLHttpRequest();\r\n  xhr.open( method, url );\r\n  xhr.onload = function () {\r\n    if ( ( this as any ).status >= 200 && ( this as any ).status < 300 ) {\r\n      if ( xhr.response ) {\r\n      }\r\n      let res: any = xhr.response && typeof xhr.response === 'string' && !xhr.response.match( 'GIF' ) ? JSON.parse( xhr.response ) : '';\r\n      if ( successcb ) successcb( res );\r\n    } else {\r\n      if ( errorcb ) {\r\n        errorcb( {\r\n          status: ( this as any ).status,\r\n          statusText: xhr.statusText\r\n        } );\r\n      }\r\n    }\r\n  };\r\n  xhr.onerror = function () {\r\n    if ( errorcb ) {\r\n      errorcb( {\r\n        status: ( this as any ).status,\r\n        statusText: xhr.statusText\r\n      } );\r\n    }\r\n  };\r\n  if ( headers ) {\r\n    Object.keys( headers ).forEach( function ( key ) {\r\n      xhr.setRequestHeader( key, headers[ key ] );\r\n    } );\r\n  }\r\n  // var params : any = postParams;\r\n  // We'll need to stringify if we've been given an object\r\n  // If we have a string, this is skipped.\r\n  // if (params && typeof params === 'object') {\r\n  //   params = Object.keys(params).map(function (key) {\r\n  //     return encodeURIComponent(key) + '=' + encodeURIComponent(params[key]);\r\n  //   }).join('&');\r\n  // }\r\n  xhr.send( postParams );\r\n}\r\n\r\nclass RequestHelper {\r\n\r\n  static getWithHeaders( url: string, headers: any, successcb: any, errorcb: any ) {\r\n    return makeRequest( \"GET\", url, null, headers, successcb, errorcb );\r\n  }\r\n\r\n  static postWithHeaders( url: string, data: Object, headers: any, successcb: any, errorcb: any ) {\r\n    headers[ \"Content-Type\" ] = \"application/json;charset=utf-8\";\r\n    return makeRequest( \"POST\", url, JSON.stringify( data ), headers, successcb, errorcb );\r\n\r\n  }\r\n\r\n  static get( url: string, successcb: any, errorcb: any ) {\r\n    return makeRequest( \"GET\", url, null, null, successcb, errorcb );\r\n    // let request : Request = new Request( (url as any) , new Object());\r\n    // return fetch(request).then( (response : Response) => {\r\n    //   if (response.status >= 200 && response.status < 300) {\r\n    //     return Promise.resolve(response);\r\n    //   } else {\r\n    //     var error = new Error(response.statusText);\r\n    //     // error.response = response;\r\n    //     throw error;\r\n    //   }\r\n    // }).then( (response : Response) => {\r\n    //   return response.json();\r\n    // }).catch( (error : Error) => {\r\n    //   (window as any).ccsdkDebug?console.log('Request failed ', error):'';\r\n    // });\r\n  }\r\n\r\n  /**\r\n   *\r\n   * var data = new FormData()\r\n   *  data.append('file', input.files[0])\r\n   *  data.append('user', 'hubot')\r\n   *\r\n   * @static\r\n   * @param {any} url\r\n   * @param {any} data\r\n   * @memberof Request\r\n   */\r\n  static post( url: string, data: Object, successcb: any, errorcb: any ) {\r\n    //consider, file upload?\r\n    // (window as any).ccsdkDebug?console.log(\"[\" + JSON.stringify(data) + \"]\"):'';\r\n    ( window as any ).ccsdkDebug ? console.log( \"Sending : \" + data ) : '';\r\n    return makeRequest( \"POST\", url, JSON.stringify( data ), {}, successcb, errorcb );\r\n    // let request : Request = new Request( (url as any), {\r\n    //   method : \"POST\",\r\n    //   headers : {\r\n    //     \"Content-Type\" : \"application/json; charset=utf-8\"\r\n    //   },\r\n    //   body : JSON.stringify(data)\r\n    // });\r\n    // return fetch(request).then( (response : Response) => {\r\n    //   if (response.status >= 200 && response.status < 300) {\r\n    //     return Promise.resolve(response);\r\n    //   } else {\r\n    //     let error : Error = new Error(response.statusText);\r\n    //     // error.response = response;\r\n    //     throw error;\r\n    //   }\r\n    // }).then( (response : Response) => {\r\n    //   return response.json();\r\n    // }).catch( (error : Error) => {\r\n    //   (window as any).ccsdkDebug?console.log('Request failed ', error):'';\r\n    // });\r\n  }\r\n\r\n}\r\n\r\nexport { RequestHelper };\r\n","class LanguageTextFilter {\r\n\r\n    public static translateQuestionText( surveyHandler: any, question: any ) {\r\n        if ( surveyHandler.ccsdk.config.language.indexOf( 'Default' ) === -1 ) {\r\n            if ( question.translated != null &&\r\n                typeof question.translated[ surveyHandler.ccsdk.config.language ] !== 'undefined' ) {\r\n                if ( question.translated[ surveyHandler.ccsdk.config.language ].text ) {\r\n                    let qText = question.translated[ surveyHandler.ccsdk.config.language ].text.split( ':' );\r\n                    if ( question.translated[ surveyHandler.ccsdk.config.language ].text.indexOf( \":\" ) !== -1 ) {\r\n                        qText = qText[ 0 ] + ': <br><span class=\"text-normal\">' + qText[ 1 ] + '</span>';\r\n                    }\r\n                    return qText;\r\n                }\r\n                // else if ( question.translated[ surveyHandler.ccsdk.config.language ].text ) {\r\n                //     return question.translated[ surveyHandler.ccsdk.config.language ].text;\r\n                // }\r\n                // return question.translated[surveyHandler.ccsdk.config.language].text;\r\n            }\r\n        }\r\n        if ( question.text ) {\r\n            let qText = question.text.split( ':' );\r\n            if ( question.text.indexOf( \":\" ) !== -1 ) {\r\n                qText = qText[ 0 ] + ': <br><span class=\"text-normal\">' + qText[ 1 ] + '</span>';\r\n            }\r\n            return qText;\r\n        } else {\r\n            return question.text == null ? '' : question.text;\r\n        }\r\n    }\r\n\r\n    public static translateMessages( surveyHandler: any, type: string ) {\r\n        if ( surveyHandler.surveyData.translated != null && typeof surveyHandler.surveyData.translated[ surveyHandler.ccsdk.config.language ] !== 'undefined' ) {\r\n            if ( surveyHandler.ccsdk.config.language.indexOf( 'Default' ) === -1 ) {\r\n                if ( surveyHandler.surveyData.translated[ surveyHandler.ccsdk.config.language ] !== 'undefined' ) {\r\n                    if ( surveyHandler.surveyData.translated[ surveyHandler.ccsdk.config.language ][ type ] != null ) {\r\n                        return surveyHandler.surveyData.translated[ surveyHandler.ccsdk.config.language ][ type ];\r\n                    } else {\r\n                        return surveyHandler.surveyData[ type ];\r\n                    }\r\n                } else {\r\n                    return surveyHandler.surveyData[ type ];\r\n                }\r\n            } else {\r\n                return surveyHandler.surveyData[ type ];\r\n            }\r\n        }\r\n    }\r\n\r\n    public static translateDisplayLegend( surveyHandler: any, question: any ) {\r\n        if ( surveyHandler.ccsdk.config.language.indexOf( 'Default' ) === -1 ) {\r\n            if ( question.translated != null &&\r\n                typeof question.translated[ surveyHandler.ccsdk.config.language ] !== 'undefined' ) {\r\n                return question.translated[ surveyHandler.ccsdk.config.language ].displayLegend;\r\n            } else {\r\n                return question.displayLegend;\r\n            }\r\n        } else {\r\n            return question.displayLegend;\r\n        }\r\n    }\r\n\r\n    public static translateMultiSelect( surveyHandler: any, question: any ) {\r\n        if ( surveyHandler.ccsdk.config.language.indexOf( 'Default' ) === -1 ) {\r\n            if ( question.translated != null &&\r\n                typeof question.translated[ surveyHandler.ccsdk.config.language ] !== 'undefined' &&\r\n                question.translated[ surveyHandler.ccsdk.config.language ].multiSelect\r\n            ) {\r\n                let translatedOptions = question.translated[ surveyHandler.ccsdk.config.language ].multiSelect;\r\n                return question.multiSelect.map( ( x, i ) => {\r\n                    if ( translatedOptions[ i ] ) {\r\n                        return translatedOptions[ i ];\r\n                    } else {\r\n                        return x;\r\n                    }\r\n                } );\r\n            } else {\r\n                return question.multiSelect;\r\n            }\r\n        } else {\r\n            return question.multiSelect;\r\n        }\r\n    }\r\n\r\n    public static translateMultiSelectOption( surveyHandler: any, question: any, option: any ) {\r\n        let effectiveMultiselect = this.translateMultiSelect( surveyHandler, question );\r\n        if ( ( effectiveMultiselect instanceof Array ) && effectiveMultiselect.length > 0 ) {\r\n            for ( let i = 0; i < question.multiSelect.length; i++ ) {\r\n                let opt: any = question.multiSelect[ i ].split( ';' )\r\n                if ( opt[ 0 ] == option ) {\r\n                    return effectiveMultiselect[ i ].split( ';' )[ 0 ];\r\n                } else {\r\n\r\n                }\r\n            }\r\n        }\r\n        return option;\r\n    }\r\n\r\n}\r\n\r\nexport { LanguageTextFilter };","class Config {\r\n  static API_URL: String = \"https://api.getcloudcherry.com\";\r\n  static SURVEY_BY_TOKEN: String = \"/api/SurveyByToken/{token}/\";\r\n  // static SURVEY_BY_TOKEN : String  = \"/api/SurveyByToken/{token}/{tabletId}\";\r\n  static SURVEY_PARTIAL_RESPONSE: String = \"/api/PartialSurvey/{id}/{complete}/JS-MicroWeb\";\r\n  // static SURVEY_PARTIAL_RESPONSE : String =  \"/api/PartialSurvey/{id}/{complete}/JS-Web/{tabletId}\";\r\n  static CDN_URL: string = \"https://cx.getcloudcherry.com/\";\r\n  static CDN_ASSET_URL: string = \"https://cx.getcloudcherry.com/microsurvey-assets/\";\r\n  static POST_LOGIN_TOKEN = \"/api/LoginToken\";\r\n  static GET_SURVEY_THROTTLE_LOGIC = \"/api/SurveyThrottleLogic/{location}\";\r\n  static POST_THROTTLING = \"/api/Throttling\";\r\n  static POST_THROTTLING_ADD_ENTRIES = \"/api/Throttling/AddEntries\";\r\n  static POST_SURVEY_FINAL = \"/api/surveybytoken/{tokenId}\"\r\n  static GET_CAMPAIGN = \"/api/SurveyToken/Campaign/{token}/\"\r\n}\r\n\r\nexport { Config };\r\n","import '../css/main.scss';\r\nimport * as QuestionSurvey from '../templates/Survey.html';\r\nimport * as QuestionStart from '../templates/QuestionStart.html';\r\nimport * as QuestionSingleline from '../templates/QuestionSingleline.html';\r\nimport * as QuestionNumber from '../templates/QuestionNumber.html';\r\nimport * as QuestionMultiline from '../templates/QuestionMultiline.html';\r\nimport * as QuestionCheckbox from '../templates/QuestionCheckbox.html';\r\nimport * as QuestionRadio from '../templates/QuestionRadio.html';\r\nimport * as QuestionRadioImage from '../templates/QuestionRadioImage.html';\r\nimport * as QuestionScale from '../templates/QuestionScale.html';\r\nimport * as QuestionCSATAgreement5 from '../templates/QuestionCSATAgreement5.html';\r\nimport * as QuestionCSATSatisfaction5 from '../templates/QuestionCSATSatisfaction5.html';\r\nimport * as QuestionNPS from '../templates/QuestionNPS.html';\r\nimport * as QuestionSelect from '../templates/QuestionSelect.html';\r\nimport * as QuestionMultiSelect from '../templates/QuestionMultiSelect.html';\r\nimport * as QuestionSmile from '../templates/QuestionSmile.html';\r\nimport * as QuestionSmileInverted from '../templates/QuestionSmileInverted.html';\r\nimport * as QuestionStar from '../templates/QuestionStar.html';\r\nimport * as QuestionSlider from '../templates/QuestionSlider.html';\r\nimport * as OptionRadioImage from '../templates/OptionRadioImage.html';\r\nimport * as OptionRadio from '../templates/OptionRadio.html';\r\nimport * as OptionCheckbox from '../templates/OptionCheckbox.html';\r\nimport * as OptionCheckboxImage from '../templates/OptionCheckboxImage.html';\r\nimport * as ThankYou from '../templates/ThankYou.html';\r\nimport * as QuestionDate from '../templates/QuestionDate.html';\r\nimport * as LanguageSelector from '../templates/LanguageSelector.html';\r\n\r\nlet templates = {\r\n  question_survey: QuestionSurvey,\r\n  question_start: QuestionStart,\r\n  question_text: QuestionSingleline,\r\n  question_number: QuestionNumber,\r\n  question_scale: QuestionScale,\r\n  question_csat_agreement_5: QuestionCSATAgreement5,\r\n  question_csat_satisfaction_5: QuestionCSATSatisfaction5,\r\n  question_nps: QuestionNPS,\r\n  question_multi_line_text: QuestionMultiline,\r\n  question_multi_select: QuestionMultiSelect,\r\n  question_radio: QuestionRadio,\r\n  question_radio_image: QuestionRadioImage,\r\n  question_checkbox: QuestionCheckbox,\r\n  question_select: QuestionSelect,\r\n  question_smile_5: QuestionSmile,\r\n  question_date: QuestionDate,\r\n  question_smile_5_inverted: QuestionSmileInverted,\r\n  question_star_5: QuestionStar,\r\n  question_slider: QuestionSlider,\r\n  option_radio_image: OptionRadioImage,\r\n  option_radio: OptionRadio,\r\n  option_checkbox: OptionCheckbox,\r\n  option_checkbox_image: OptionCheckboxImage,\r\n  thankyou: ThankYou,\r\n  language_selector: LanguageSelector\r\n};\r\n\r\nexport { templates };\r\n","export function isAnd(filterQuestion: any): boolean {\r\n  if (!filterQuestion) {\r\n    return false;\r\n  }\r\n  if (filterQuestion.groupBy == null || filterQuestion.groupBy.toUpperCase() == \"AND\") {\r\n    return true;\r\n  }\r\n}\r\n\r\nexport function isOr(filterQuestion: any): boolean {\r\n  if (!filterQuestion) {\r\n    return false;\r\n  }\r\n  if (filterQuestion.groupBy != null && filterQuestion.groupBy.toUpperCase() == \"OR\") {\r\n    return true;\r\n  }\r\n}\r\n\r\nexport function isNumberCheck(filterQuestion: any): boolean {\r\n  if (!filterQuestion) {\r\n    return false;\r\n  }\r\n  if (filterQuestion.answerCheck[0] === \"lt\" || filterQuestion.answerCheck[0] === \"gt\" || filterQuestion.answerCheck[0] === \"eq\") {\r\n    return true;\r\n  }\r\n}\r\n\r\n\r\n/**\r\n  * Contains logic to control conditional flow and whether to show or hide the questions based on the user input\r\n  *\r\n  * @param filterQuestion\r\n  * @return\r\n  */\r\nexport function doesSatisfy(surveyHandler: any, filterQuestion: any): boolean {\r\n  const answer = surveyHandler.getAnswerForQuestionId(filterQuestion.questionId);\r\n  if (isNumberCheck(filterQuestion)) {\r\n    if (filterQuestion.answerCheck[0].toLowerCase() == \"lt\") {\r\n      if (answer)\r\n        if (answer.numberInput != null && answer.numberInput < filterQuestion.number) {\r\n          return true;\r\n        }\r\n    } else if (filterQuestion.answerCheck[0].toLowerCase() == (\"gt\")) {\r\n      if (answer)\r\n        if (answer.numberInput != null && answer.numberInput > filterQuestion.number) {\r\n          return true;\r\n        }\r\n    } else if (filterQuestion.answerCheck[0].toLowerCase() == (\"eq\")) {\r\n      if (answer)\r\n        if (answer.numberInput != null && answer.numberInput == filterQuestion.number) {\r\n          return true;\r\n        }\r\n    }\r\n  } else {\r\n    // any text match for text answers\r\n    if (filterQuestion.answerCheck[0] && filterQuestion.answerCheck[0].toLowerCase() === 'any text') {\r\n      if (answer && answer.textInput && answer.textInput !== ' ') {\r\n        return true;\r\n      } else {\r\n        return false;\r\n      }\r\n    }\r\n\r\n    let iFoundAll = false;\r\n    let question = surveyHandler.getQuestionById(filterQuestion.questionId);\r\n    let questionAnswerText = answer != null && answer.textInput != null ? answer.textInput : '';\r\n    if (!answer) {\r\n      return false;\r\n    }\r\n    for (let aAnswer of filterQuestion.answerCheck) {\r\n      if (question.displayType === 'MultiSelect') {\r\n        let selectedOptions = answer.textInput.split(',');\r\n        if (selectedOptions.indexOf(aAnswer) !== -1) {\r\n          iFoundAll = true;\r\n        }\r\n      } else if (questionAnswerText === aAnswer) {\r\n        iFoundAll = true;\r\n      }\r\n    }\r\n    return iFoundAll;\r\n  }\r\n  return false;\r\n}\r\n\r\nexport function questionCompare(a: any, b: any) {\r\n  return a.sequence - b.sequence;\r\n}\r\n\r\nexport function checkLanguage(surveyHandler, fOption) {\r\n  if (surveyHandler.ccsdk.config && surveyHandler.ccsdk.config.language) {\r\n    return fOption.language === surveyHandler.ccsdk.config.language\r\n  }\r\n  return false;\r\n}\r\n","import { DomUtilities } from \"./DomUtilities\";\r\nimport { LanguageTextFilter } from '../filters/LanguageTextFilter';\r\n\r\nclass Select {\r\n  util: DomUtilities;\r\n  $body: any;\r\n  $html: any;\r\n  qId: any;\r\n  select: any;\r\n  type: string;\r\n  listeners: any = [];\r\n  constructor(qId: string) {\r\n    this.qId = qId;\r\n  }\r\n  init(qId: string) {\r\n    this.util = new DomUtilities();\r\n    this.$body = document.querySelectorAll(\"body\")[0];\r\n    this.$html = document.querySelectorAll(\"html\")[0];\r\n    var select = document.querySelectorAll(\"#\" + qId + \" .cc-select\");\r\n\r\n    // var divSelect = document.querySelectorAll(\"div.cc-select\");\r\n    // this.util.removeAll(divSelect);\r\n    let parent = this;\r\n\r\n    //Assumption: iterating over array but there will always be one select at a time\r\n    this.type = select[0].getAttribute('data-type');\r\n    Array.prototype.forEach.call(select, function (el, i) {\r\n      var self = el;\r\n      var $selectOptions = document.querySelectorAll(\"#\" + qId + \" .cc-select-options\");\r\n      var classes = self.getAttribute(\"class\"),\r\n        id = self.getAttribute(\"id\"),\r\n        name = self.getAttribute(\"name\");\r\n      var template = '<div class=\"' + classes + '\">';\r\n      template += '<span class=\"cc-select-trigger\">' + self.getAttribute(\"placeholder\") + '</span>';\r\n      template += '<div class=\"cc-select-options-container\" cc-scrollbar-container><div class=\"cc-select-options\">';\r\n      var options = self.querySelectorAll(\"option\");\r\n      Array.prototype.forEach.call(options, function (el, i) {\r\n        template += '<span class=\"cc-select-option ' + el.getAttribute(\"class\") + '\" data-value=\"' + el.getAttribute(\"value\") + '\">' + el.innerHTML + '</span>';\r\n      });\r\n      template += '</div></div></div>';\r\n      parent.util.addClass(self, 'hide');\r\n      self.insertAdjacentHTML('afterend', template);\r\n    });\r\n    this.setupListeners();\r\n  }\r\n\r\n\r\n  setupListeners() {\r\n    var self = this;\r\n    var qId = self.qId;\r\n    let ref2 = this.util.initListener('click', \"#\" + qId + \" .cc-select-option\", function (e) {\r\n      // let ref2 = this.util.initListener(this.$body, \"click\", \"#\"+qId+\" .cc-select-option\", function(e) {\r\n      (window as any).ccsdkDebug ? console.log('click cc-select-option', this) : '';\r\n      let selfOption = this;\r\n      let value = this.getAttribute('data-value');\r\n      //select cc-select-wrapper\r\n      //todo: write a function to directly select parent via selector\r\n      let selectOptions = this.parentNode;\r\n      let select = selectOptions.parentNode.parentNode;\r\n      this.select = select;\r\n      let selectWrapper = select.parentNode;\r\n      (window as any).ccsdkDebug ? console.log(select) : '';\r\n      (window as any).ccsdkDebug ? console.log(selectOptions) : '';\r\n      (window as any).ccsdkDebug ? console.log(selectWrapper) : '';\r\n      let selectionTrigger = select.querySelectorAll('.cc-select-trigger')[0];\r\n\r\n      self.util.addClass(this, \"selection\");\r\n      let selectedOptionText = selectionTrigger.textContent;\r\n      let selectedValueText = selectionTrigger.getAttribute('data-selection-value') || '';\r\n\r\n      (window as any).ccsdkDebug ? console.log('select type', self.type) : '';\r\n      if (self.type !== 'multiple') {\r\n        (window as any).ccsdkDebug ? console.log('select type', self.type) : '';\r\n        selectedOptionText = selfOption.textContent;\r\n        (window as any).ccsdkDebug ? console.log('selected option', selectedOptionText) : '';\r\n        self.util.removeClassAll(document.querySelectorAll(\".cc-select\"), \"cc-opened\");\r\n        selectionTrigger.setAttribute('data-selection-value', value);\r\n        selectWrapper.querySelectorAll(\"select\")[0].value = value;\r\n        selectionTrigger.textContent = selectedOptionText;\r\n        self.util.removeClassAll(document.querySelectorAll(\"#\" + qId + \" .cc-select-option\"), 'selection');\r\n        self.util.addClass(self, 'selection');\r\n      } else {\r\n        (window as any).ccsdkDebug ? console.log(selectedOptionText) : '';\r\n        if (selectedOptionText != 'Select') {\r\n          selectedOptionText = self.addOrRemoveFromList(selectedOptionText, selfOption.textContent);\r\n          selectedValueText = self.addOrRemoveFromList(selectedValueText, value);\r\n        } else {\r\n          (window as any).ccsdkDebug ? console.log(selfOption.textContent) : '';\r\n          selectedOptionText = selfOption.textContent;\r\n          selectedValueText = value;\r\n        }\r\n\r\n        selectWrapper.querySelectorAll(\"select\")[0].value = selectedValueText;\r\n        selectionTrigger.setAttribute('data-selection-value', selectedValueText);\r\n        self.util.removeClassAll(document.querySelectorAll(\"#\" + qId + \" .cc-select-option\"), 'selection');\r\n        self.selectOptions(selectedValueText);\r\n\r\n        selectedValueText\r\n        if (selectedOptionText.length < 1) {\r\n          selectionTrigger.textContent = 'Select';\r\n        } else {\r\n          selectionTrigger.textContent = selectedOptionText;\r\n        }\r\n        return false;\r\n\r\n      }\r\n\r\n    });\r\n    this.listeners.push(ref2);\r\n    ref2.internalHandler = this.util.listener(this.$body, ref2.type, ref2.id, ref2.cb);\r\n    let ref = this.util.initListener('click', \"#\" + qId + \" .cc-select-trigger\", function (e) {\r\n      self.$html.addEventListener('click', function (e) {\r\n        if (!self.util.hasClass(e.target, 'cc-select-option')) {\r\n          self.util.removeClassAll(document.querySelectorAll(\".cc-select\"), \"cc-opened\");\r\n          self.$html.removeEventListener('click', function () {\r\n          });\r\n        }\r\n      })\r\n      var ccSelect = this.parentNode;\r\n      (window as any).ccsdkDebug ? console.log('click cc-select-trigger', ccSelect) : '';\r\n      self.util.toggleClass(ccSelect, \"cc-opened\");\r\n      e.stopPropagation();\r\n    });\r\n    this.listeners.push(ref);\r\n    ref.internalHandler = this.util.listener(this.$body, ref.type, ref.id, ref.cb);\r\n\r\n  }\r\n\r\n  destroyListeners() {\r\n    for (let listener of this.listeners) {\r\n      this.util.removeListener(this.$body, listener.type, listener.internalHandler);\r\n    }\r\n    return true;\r\n  }\r\n\r\n\r\n  setValue(value: string, question, surveyHandler) {\r\n    let self = this;\r\n    let qId = self.qId;\r\n    let select: any;\r\n\r\n    select = document.querySelectorAll(\"#\" + qId + \" select\")[0];\r\n    select.value = value;\r\n    let selectTrigger = document.querySelectorAll(\"#\" + qId + \" .cc-select-trigger\")[0];\r\n    let selectedValueList = value.split(',');\r\n    let translatedSelection = selectedValueList.map(x => LanguageTextFilter.translateMultiSelectOption(surveyHandler, question, x));\r\n    selectTrigger.textContent = translatedSelection.join(',');\r\n    selectTrigger.setAttribute('data-selection-value', value);\r\n  }\r\n\r\n  selectOption(el: any) {\r\n    this.util.addClass(el, 'selection');\r\n  }\r\n\r\n  removeOption(el) {\r\n    this.util.removeClass(el, 'selection');\r\n  }\r\n\r\n  selectOptions(csv: string) {\r\n    let self = this;\r\n    if (csv) {\r\n      let allOptions = csv.split(',');\r\n      for (let option of allOptions) {\r\n        let domOptions = document.querySelectorAll(\"#\" + self.qId + \" .cc-select-option\");\r\n        Array.prototype.forEach.call(domOptions, function (el, i) {\r\n          if (el.getAttribute('data-value') == option) {\r\n            self.selectOption(el);\r\n          } else {\r\n\r\n          }\r\n        });\r\n      }\r\n    }\r\n  }\r\n\r\n  addOrRemoveFromList(listAsString: string, item: string) {\r\n    let list = listAsString.split(',');\r\n    let itemIndex = list.indexOf(item);\r\n    if (itemIndex !== -1) {\r\n      list.splice(itemIndex, 1);\r\n    } else {\r\n      list.push(item);\r\n    }\r\n    return list.join(',');\r\n  }\r\n\r\n}\r\nexport { Select }\r\n","import { isArray } from \"util\";\r\nimport { LanguageTextFilter } from \"./LanguageTextFilter\";\r\nimport { isAnd, isOr, doesSatisfy, questionCompare } from './filter-utils';\r\n\r\nclass ConditionalFlowFilter {\r\n  public static filterQuestion( surveyHandler: any, question: any ) {\r\n    let aAddedCount = 0;\r\n    let aRemovedCount = 0;\r\n\r\n    if ( surveyHandler.getAnswerForQuestionId( question.id ) != null ) {\r\n      for ( let aQuestion of surveyHandler.getConditionalSurveyQuestions() ) {\r\n        // console.log( aQuestion );\r\n        if ( aQuestion.conditionalFilter != null ) {\r\n          let iSatisfied = false;\r\n          let iFailed = false;\r\n          for ( let aFilterByQuestion of aQuestion.conditionalFilter.filterquestions ) {\r\n            if ( isAnd( aFilterByQuestion ) ) {\r\n              if ( doesSatisfy( surveyHandler, aFilterByQuestion ) && !iFailed ) {\r\n                iSatisfied = true;\r\n              } else {\r\n                iFailed = true;\r\n                break;\r\n              }\r\n            } else if ( isOr( aFilterByQuestion ) ) {\r\n              if ( doesSatisfy( surveyHandler, aFilterByQuestion ) ) {\r\n                iSatisfied = true;\r\n                break;\r\n              }\r\n            }\r\n          }\r\n          const surveyQuestions = surveyHandler.getSurveyQuestions();\r\n          if ( iSatisfied && !iFailed ) {\r\n            if ( surveyQuestions.indexOf( aQuestion ) === -1 ) {\r\n              surveyQuestions.push( aQuestion );\r\n              aAddedCount++;\r\n            }\r\n          } else {\r\n            if ( surveyQuestions.indexOf( aQuestion ) !== -1 ) {\r\n              aRemovedCount++;\r\n              surveyQuestions.splice( surveyQuestions.indexOf( aQuestion ), 1 );\r\n              // surveyHandler.removePartial(aQuestion.id);\r\n              //removing from partial requires not posting partial after each question rather than posting them all at once.\r\n              surveyHandler.removeAnswer( aQuestion.id );\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n    if ( aAddedCount > 0 || aRemovedCount > 0 ) {\r\n      surveyHandler.getSurveyQuestions().sort( questionCompare );\r\n      // surveyHandler.sendConditionalFLowQuestionsData(surveyHandler.getSurveyQuestions().size());\r\n      return true;\r\n    } else {\r\n      // return false;\r\n    }\r\n    // ( window as any ).ccsdkDebug ? console.log( surveyHandler.getSurveyQuestions() ) : '';\r\n  }\r\n}\r\n\r\nexport { ConditionalFlowFilter };","// Production steps of ECMA-262, Edition 6, 22.1.2.1\r\nif (!(<any>Array).from) {\r\n  (<any>Array).from = (function () {\r\n    var toStr = Object.prototype.toString;\r\n    var isCallable = function (fn) {\r\n      return typeof fn === 'function' || toStr.call(fn) === '[object Function]';\r\n    };\r\n    var toInteger = function (value) {\r\n      var number = Number(value);\r\n      if (isNaN(number)) {\r\n        return 0;\r\n      }\r\n      if (number === 0 || !isFinite(number)) {\r\n        return number;\r\n      }\r\n      return (number > 0 ? 1 : -1) * Math.floor(Math.abs(number));\r\n    };\r\n    var maxSafeInteger = Math.pow(2, 53) - 1;\r\n    var toLength = function (value) {\r\n      var len = toInteger(value);\r\n      return Math.min(Math.max(len, 0), maxSafeInteger);\r\n    };\r\n\r\n    // The length property of the from method is 1.\r\n    return function from(arrayLike /*, mapFn, thisArg */) {\r\n      // 1. Let C be the this value.\r\n      var C = this;\r\n\r\n      // 2. Let items be ToObject(arrayLike).\r\n      var items = Object(arrayLike);\r\n\r\n      // 3. ReturnIfAbrupt(items).\r\n      if (arrayLike == null) {\r\n        throw new TypeError('Array.from requires an array-like object - not null or undefined');\r\n      }\r\n\r\n      // 4. If mapfn is undefined, then let mapping be false.\r\n      var mapFn = arguments.length > 1 ? arguments[1] : void undefined;\r\n      var T;\r\n      if (typeof mapFn !== 'undefined') {\r\n        // 5. else\r\n        // 5. a If IsCallable(mapfn) is false, throw a TypeError exception.\r\n        if (!isCallable(mapFn)) {\r\n          throw new TypeError('Array.from: when provided, the second argument must be a function');\r\n        }\r\n\r\n        // 5. b. If thisArg was supplied, let T be thisArg; else let T be undefined.\r\n        if (arguments.length > 2) {\r\n          T = arguments[2];\r\n        }\r\n      }\r\n\r\n      // 10. Let lenValue be Get(items, \"length\").\r\n      // 11. Let len be ToLength(lenValue).\r\n      var len = toLength(items.length);\r\n\r\n      // 13. If IsConstructor(C) is true, then\r\n      // 13. a. Let A be the result of calling the [[Construct]] internal method \r\n      // of C with an argument list containing the single item len.\r\n      // 14. a. Else, Let A be ArrayCreate(len).\r\n      var A = isCallable(C) ? Object(new C(len)) : new Array(len);\r\n\r\n      // 16. Let k be 0.\r\n      var k = 0;\r\n      // 17. Repeat, while k < len… (also steps a - h)\r\n      var kValue;\r\n      while (k < len) {\r\n        kValue = items[k];\r\n        if (mapFn) {\r\n          A[k] = typeof T === 'undefined' ? mapFn(kValue, k) : mapFn.call(T, kValue, k);\r\n        } else {\r\n          A[k] = kValue;\r\n        }\r\n        k += 1;\r\n      }\r\n      // 18. Let putStatus be Put(A, \"length\", len, true).\r\n      A.length = len;\r\n      // 20. Return A.\r\n      return A;\r\n    };\r\n  }());\r\n}\r\n\r\n// custom event polyfill\r\n(function () {\r\n\r\n  if (typeof (<any>window).CustomEvent === \"function\") return false;\r\n\r\n  function CustomEvent(event, params) {\r\n    params = params || {\r\n      bubbles: false,\r\n      cancelable: false,\r\n      detail: undefined\r\n    };\r\n    var evt = document.createEvent('CustomEvent');\r\n    evt.initCustomEvent(event, params.bubbles, params.cancelable, params.detail);\r\n    return evt;\r\n  }\r\n\r\n  CustomEvent.prototype = (<any>window).Event.prototype;\r\n\r\n  (<any>window).CustomEvent = CustomEvent;\r\n})();\r\n\r\n// https://tc39.github.io/ecma262/#sec-array.prototype.find\r\nif (!(<any>Array.prototype).find) {\r\n  Object.defineProperty(Array.prototype, 'find', {\r\n    value: function (predicate) {\r\n      // 1. Let O be ? ToObject(this value).\r\n      if (this == null) {\r\n        throw new TypeError('\"this\" is null or not defined');\r\n      }\r\n\r\n      var o = Object(this);\r\n\r\n      // 2. Let len be ? ToLength(? Get(O, \"length\")).\r\n      var len = o.length >>> 0;\r\n\r\n      // 3. If IsCallable(predicate) is false, throw a TypeError exception.\r\n      if (typeof predicate !== 'function') {\r\n        throw new TypeError('predicate must be a function');\r\n      }\r\n\r\n      // 4. If thisArg was supplied, let T be thisArg; else let T be undefined.\r\n      var thisArg = arguments[1];\r\n\r\n      // 5. Let k be 0.\r\n      var k = 0;\r\n\r\n      // 6. Repeat, while k < len\r\n      while (k < len) {\r\n        // a. Let Pk be ! ToString(k).\r\n        // b. Let kValue be ? Get(O, Pk).\r\n        // c. Let testResult be ToBoolean(? Call(predicate, T, « kValue, k, O »)).\r\n        // d. If testResult is true, return kValue.\r\n        var kValue = o[k];\r\n        if (predicate.call(thisArg, kValue, k, o)) {\r\n          return kValue;\r\n        }\r\n        // e. Increase k by 1.\r\n        k++;\r\n      }\r\n\r\n      // 7. Return undefined.\r\n      return undefined;\r\n    },\r\n    configurable: true,\r\n    writable: true\r\n  });\r\n}","import { Cookie } from './helpers/Cookie';\r\nimport { SurveyManager } from \"./SurveyManager\";\r\nimport { Survey } from \"./Survey\";\r\nimport { PrefillsBatchOrSingle, PrefillDictionary } from './types';\r\n\r\n/**\r\n * functions that are exposed to SDK User are written here.\r\n * Entry point for CCSDK.\r\n */\r\n// declare var Sentry: any;\r\n\r\nlet localCCSDK = {\r\n  init: init,\r\n  destroy: destroy,\r\n  trigger: trigger,\r\n  hide: hide,\r\n  show: show,\r\n  on: on,\r\n  prefill: prefill,\r\n  prefillByTag: prefillByTag,\r\n  prefillByNote: prefillByNote\r\n};\r\n\r\n// let instances : any = {};\r\n\r\n(window as any).globalSurveyRunning = false;\r\n(window as any).ccsdkDebug = false;\r\n(window as any).isMobile = window.innerWidth <= 768 ? true : false;\r\n\r\nif (typeof (window as any).CCSDK !== 'undefined') {\r\n  var queue = (window as any).CCSDK.q;\r\n  (window as any).CCSDK = function () {\r\n    if (arguments && arguments.length == 0) {\r\n      var time = new Date();\r\n    } else {\r\n      (window as any).ccsdkDebug ? console.log(arguments) : '';\r\n      var args = (Array as any).from(arguments);\r\n      //Call this functions as ccsdk('functionName', ['argument1', 'argument2']);\r\n      var functionName = args.splice(0, 1)[0];\r\n      (window as any).ccsdkDebug ? console.log(functionName) : '';\r\n      return localCCSDK[functionName].apply(this, args);\r\n    }\r\n  };\r\n  if (queue) {\r\n    for (var q of queue) {\r\n      var args = (Array as any).from(q);\r\n      var functionName = args.splice(0, 1)[0];\r\n      localCCSDK[functionName].apply(this, args);\r\n    }\r\n  }\r\n  let eventCCReady: Event = document.createEvent('Event');\r\n  eventCCReady.initEvent('ccready', true, true);\r\n  document.dispatchEvent(eventCCReady);\r\n}\r\n\r\nexport function init(surveyToken: any) {\r\n  //config options can be set in arguments[1]\r\n  //available config options : themeColor\r\n  surveyToken = decodeURIComponent(surveyToken).trim();\r\n  let config = (typeof arguments[1] === 'object') ? arguments[1] : {};\r\n  //create survey instance\r\n  if (typeof Cookie.get(surveyToken + '-finish') !== 'undefined' && Cookie.get(surveyToken + '-finish')) {\r\n    return;\r\n  }\r\n  if (typeof Cookie.get(surveyToken + '-coolDown') !== 'undefined' && Cookie.get(surveyToken + '-coolDown')) {\r\n    return;\r\n  }\r\n\r\n  if (typeof config.isActive !== 'undefined' && config.isActive) {\r\n    SurveyManager.surveyInstances[surveyToken] = (SurveyManager.surveyInstances[surveyToken]) ? SurveyManager.surveyInstances[surveyToken] : new Survey(surveyToken, config);\r\n    SurveyManager.surveyInstances[surveyToken].tracking.trackEvent('Init MicroSurvey', {\r\n      token: surveyToken,\r\n      data: {\r\n        name: (<any>window).isMobile ? 'Mobile Mode' : 'Desktop Mode',\r\n        action: surveyToken\r\n      }\r\n    }, null, null);\r\n\r\n    if (SurveyManager.prefillQueue[surveyToken]) {\r\n      let object = SurveyManager.prefillQueue[surveyToken];\r\n      SurveyManager.surveyInstances[surveyToken].tracking.trackEvent('Init MicroSurvey', {\r\n        token: surveyToken,\r\n        data: {\r\n          name: 'Prefill lazily',\r\n          action: surveyToken\r\n        }\r\n      }, null, null);\r\n      if (object.directPrefills) {\r\n        object.directPrefills.forEach(x => {\r\n          SurveyManager.surveyInstances[surveyToken].prefill(x, 'DIRECT');\r\n        });\r\n        delete object.directPrefills;\r\n      } else if (object.byTagPrefills) {\r\n        object.byTagPrefills.forEach(x => {\r\n          SurveyManager.surveyInstances[surveyToken].prefill(x, 'BY_TAG');\r\n        });\r\n        delete object.byTagPrefills;\r\n      } else if (object.byNotePrefills) {\r\n        object.byTagPrefills.forEach(x => {\r\n          SurveyManager.surveyInstances[surveyToken].prefill(x, 'BY_NOTE');\r\n        });\r\n        delete object.byNotePrefills;\r\n      }\r\n    }\r\n    return SurveyManager.surveyInstances[surveyToken];\r\n  } else {\r\n    //do nothing\r\n  }\r\n\r\n}\r\n\r\nexport function destroy(surveyToken: string) {\r\n  //remove from trigger manager, delete instance.\r\n  if (!SurveyManager ||\r\n    !SurveyManager.surveyInstances ||\r\n    !SurveyManager.surveyInstances[surveyToken] ||\r\n    !SurveyManager.surveyInstances[surveyToken].dom) {\r\n    return;\r\n  }\r\n  SurveyManager.surveyInstances[surveyToken].dom.destroyListeners();\r\n  SurveyManager.surveyInstances[surveyToken].destroy();\r\n  delete SurveyManager.surveyInstances[surveyToken];\r\n}\r\n//\r\nexport function trigger(surveyToken: string, type: string, target: string) {\r\n  (window as any).ccsdkDebug ? console.log(SurveyManager.surveyInstances) : '';\r\n\r\n  if (typeof SurveyManager.surveyInstances[surveyToken] != 'undefined') {\r\n    SurveyManager.surveyInstances[surveyToken].tracking.trackEvent('Trigger Type', {\r\n      token: surveyToken,\r\n      data: {\r\n        name: type,\r\n        action: surveyToken\r\n      }\r\n    }, null, null);\r\n    SurveyManager.surveyInstances[surveyToken].trigger(type, target);\r\n  }\r\n  //tell trigger manager to register trigger.\r\n}\r\n\r\nexport function on(surveyToken: string, type: string, callback: any) {\r\n  if (typeof SurveyManager.surveyInstances[surveyToken] != 'undefined') {\r\n    SurveyManager.surveyInstances[surveyToken].tracking.trackEvent('Event Listeners', {\r\n      token: surveyToken,\r\n      data: {\r\n        name: type,\r\n        action: surveyToken\r\n      }\r\n    }, null, null);\r\n    SurveyManager.surveyInstances[surveyToken].on(type, callback);\r\n  }\r\n}\r\n\r\nexport function prefill(surveyToken: string, ...restArgs: PrefillsBatchOrSingle) {\r\n  if (typeof SurveyManager.surveyInstances[surveyToken] != 'undefined') {\r\n    let questionId;\r\n    if (typeof restArgs[0] === 'string') {\r\n      questionId = restArgs[0];\r\n    } else {\r\n      questionId = Object.keys((<PrefillDictionary>restArgs[0])).length + ' Questions';\r\n    }\r\n    SurveyManager.surveyInstances[surveyToken].tracking.trackEvent('Prefill', {\r\n      token: surveyToken,\r\n      data: {\r\n        name: questionId,\r\n        action: surveyToken\r\n      }\r\n    }, null, null);\r\n    SurveyManager.surveyInstances[surveyToken].prefill(restArgs, 'DIRECT');\r\n  } else {\r\n    if (SurveyManager.prefillQueue[surveyToken]) {\r\n      SurveyManager.prefillQueue[surveyToken].directPrefills.push(restArgs);\r\n    } else {\r\n      SurveyManager.prefillQueue[surveyToken] = {\r\n        directPrefills: [restArgs]\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nexport function prefillByTag(surveyToken: string, ...restArgs: PrefillsBatchOrSingle) {\r\n  if (typeof SurveyManager.surveyInstances[surveyToken] != 'undefined') {\r\n    let questionTag;\r\n    if (typeof restArgs[0] === 'string') {\r\n      questionTag = restArgs[0];\r\n    } else {\r\n      questionTag = Object.keys((<PrefillDictionary>restArgs[0])).length + ' Questions';\r\n    }\r\n    SurveyManager.surveyInstances[surveyToken].tracking.trackEvent('Prefill by tag', {\r\n      token: surveyToken,\r\n      data: {\r\n        name: questionTag,\r\n        action: surveyToken\r\n      }\r\n    }, null, null);\r\n    SurveyManager.surveyInstances[surveyToken].prefill(restArgs, 'BY_TAG');\r\n  } else {\r\n    if (SurveyManager.prefillQueue[surveyToken]) {\r\n      SurveyManager.prefillQueue[surveyToken].byTagPrefills.push(restArgs);\r\n    } else {\r\n      SurveyManager.prefillQueue[surveyToken] = {\r\n        byTagPrefills: [restArgs]\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nexport function prefillByNote(surveyToken: string, ...restArgs: PrefillsBatchOrSingle) {\r\n  if (typeof SurveyManager.surveyInstances[surveyToken] != 'undefined') {\r\n    let questionNote;\r\n    if (typeof restArgs[0] === 'string') {\r\n      questionNote = restArgs[0];\r\n    } else {\r\n      questionNote = Object.keys((<PrefillDictionary>restArgs[0])).length + ' Questions';\r\n    }\r\n    SurveyManager.surveyInstances[surveyToken].tracking.trackEvent('Prefill by Note', {\r\n      token: surveyToken,\r\n      data: {\r\n        name: questionNote,\r\n        action: surveyToken\r\n      }\r\n    }, null, null);\r\n    SurveyManager.surveyInstances[surveyToken].prefill(restArgs, 'BY_NOTE');\r\n  } else {\r\n    if (SurveyManager.prefillQueue[surveyToken]) {\r\n      SurveyManager.prefillQueue[surveyToken].byNotePrefills.push(restArgs);\r\n    } else {\r\n      SurveyManager.prefillQueue[surveyToken] = {\r\n        byNotePrefills: [restArgs]\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nexport function show(surveyToken: string) {\r\n  if (typeof SurveyManager.surveyInstances[surveyToken] != 'undefined') {\r\n    SurveyManager.surveyInstances[surveyToken].show();\r\n  }\r\n}\r\n\r\nexport function hide(surveyToken: string) {\r\n  if (typeof SurveyManager.surveyInstances[surveyToken] != 'undefined') {\r\n    SurveyManager.surveyInstances[surveyToken].dom.destroyListeners();\r\n    SurveyManager.surveyInstances[surveyToken].destroy();\r\n    SurveyManager.surveyInstances[surveyToken].hide();\r\n  }\r\n}","import { CCSDKConfig } from \"./interfaces/CCSDKConfig\";\r\nimport { DisplayConfig } from \"./interfaces/DisplayConfig\";\r\nimport { SurveyHandler } from \"./SurveyHandler\";\r\nimport { DomSurvey } from \"./helpers/dom/DomSurvey\";\r\nimport { DomUtilities } from \"./helpers/dom/DomUtilities\";\r\nimport { Scrollbar } from \"./helpers/dom/ScrollBar\";\r\nimport { Cookie } from './helpers/Cookie';\r\nimport { Constants } from './Constants';\r\nimport { Slider } from \"./helpers/dom/Slider\";\r\nimport { SurveyManager } from \"./SurveyManager\";\r\nimport { TriggerManager } from \"./TriggerManager\";\r\nimport { Triggers } from './Triggers';\r\nimport { RequestHelper } from './helpers/Request';\r\nimport { Config } from './Config';\r\nimport { MatomoTracker } from './helpers/tracking';\r\nimport { templates } from \"./helpers/templates\";\r\nimport { PrefillsBatchOrSingle, PrefillType } from \"./types\";\r\n\r\nclass Survey {\r\n  survey: SurveyHandler;\r\n  dom: DomSurvey;\r\n  surveyData: any;\r\n  util: DomUtilities;\r\n  scrollbar: Scrollbar;\r\n  slider: Slider;\r\n  config: CCSDKConfig;\r\n  surveyToken: string;\r\n  triggers: Triggers;\r\n  surveyRunning: boolean;\r\n  surveyDone: boolean;\r\n  surveyStatus: string;\r\n  isThrottled: boolean;\r\n  thorttlingLogic: any;\r\n  loginData: any;\r\n  debug: false;\r\n  surveyStartTime: any;\r\n  requester = new RequestHelper();\r\n  tracking: MatomoTracker;\r\n\r\n  constructor(surveyToken: string, config: CCSDKConfig) {\r\n    this.isThrottled = true;\r\n    this.surveyDone = false;\r\n    this.surveyStatus = '';\r\n    this.surveyToken = surveyToken;\r\n    this.config = config;\r\n    this.surveyRunning = false;\r\n    this.thorttlingLogic = null;\r\n    this.tracking = new MatomoTracker();\r\n    this.tracking.token = surveyToken;\r\n    if (typeof this.config.textDirection === 'undefined') {\r\n      this.config.textDirection = \"ltr\";\r\n    }\r\n\r\n    this.triggers = new Triggers(this);\r\n    TriggerManager.addSurvey(this.surveyToken, this.triggers);\r\n    this.survey = new SurveyHandler(this);\r\n    this.util = new DomUtilities;\r\n    //set themeColor of survey\r\n    this.config.brandColor = (this.config && this.config.brandColor) ?\r\n      this.config.brandColor : \"#db3c39\";\r\n    //use config variable textDirection and set dir\r\n    this.setHtmlTextDirection();\r\n    this.setDisplayOptions();\r\n    setTimeout(() => {\r\n      this.util.trigger(document, this.surveyToken + '-ready', { 'survey': this });\r\n    }, 100)\r\n    //do login\r\n    this.config.username = \"test\";\r\n    this.config.password = \"test\";\r\n    this.config.location = \"location\";\r\n    this.config.language = \"English (Default)\";\r\n    //check trigger conditions and add itself to \r\n    //based on new config\r\n    //gotta and these.\r\n    this.trigger(\"click\", this.config.cssSelector);\r\n    this.triggers.setConditionalTriggers(this.config);\r\n  }\r\n\r\n  getSurveyThrottlingLogic(cb) {\r\n    let getThrottleUrl = Config.API_URL + Config.GET_SURVEY_THROTTLE_LOGIC.replace('{location}', this.config.location);\r\n    let headers = {};\r\n    headers[Constants.AUTHORIZATION] = Constants.AUTHORIZATION_BEARER + \" \" + this.loginData.access_token;\r\n    let self = this;\r\n    let successcb = function (data) {\r\n      self.thorttlingLogic = data;\r\n      self.checkThrottling(cb);\r\n    };\r\n\r\n    RequestHelper.getWithHeaders(getThrottleUrl, headers, successcb, null);\r\n  }\r\n\r\n  checkThrottling(cb) {\r\n    if (this.thorttlingLogic != null) {\r\n      if (this.thorttlingLogic.inputIds == null) {\r\n        this.thorttlingLogic.inputIds = [];\r\n      }\r\n      this.thorttlingLogic.inputIds.push(this.thorttlingLogic[this.thorttlingLogic.uniqueIDQuestionIdOrTag.toLowerCase()]);\r\n      if (this.thorttlingLogic.logics != null && this.thorttlingLogic.logics.length > 0 && this.config != null) {\r\n        this.thorttlingLogic.logics[0].filter.location = [];\r\n        this.thorttlingLogic.logics[0].filter.location.push(this.config.location);\r\n      }\r\n    }\r\n    let self = this;\r\n    let postThrottleUrl = Config.API_URL + Config.POST_THROTTLING;\r\n    let headers = {};\r\n    headers[Constants.AUTHORIZATION] = Constants.AUTHORIZATION + \" \" + this.loginData.access_token;\r\n    let successcb = function (throttleResponse) {\r\n\r\n      if (typeof throttleResponse[0][self.thorttlingLogic.uniqueIDQuestionIdOrTag.toLowerCase()] && throttleResponse[0].value) {\r\n        //get survey data?  \r\n        cb();\r\n      }\r\n    };\r\n\r\n    RequestHelper.postWithHeaders(postThrottleUrl, this.thorttlingLogic, headers, successcb, null);\r\n  }\r\n\r\n  addThrottlingEntries(isOpen: boolean) {\r\n    let addThrottleUrl = Config.API_URL + Config.POST_THROTTLING_ADD_ENTRIES;\r\n    let headers = {};\r\n    this.loginData = { access_token: \"help\" };\r\n    headers[Constants.AUTHORIZATION] = Constants.AUTHORIZATION + \" \" + this.loginData.access_token;\r\n    //fill this from config and data.\r\n    let successcb = (throttleResponse) => {\r\n      this.debug ? console.log(throttleResponse) : '';\r\n    }\r\n\r\n    RequestHelper.postWithHeaders(addThrottleUrl, {\r\n      user: \"\",\r\n      mobile: \"\",\r\n      emailId: \"\",\r\n      customId: \"\",\r\n      surveySentDate: \"\",\r\n      surveyOpenDate: \"\",\r\n      channel: \"\",\r\n      isOpened: isOpen\r\n    }, headers, successcb, null);\r\n\r\n  }\r\n\r\n  setupSurvey() {\r\n    this.initSurvey();\r\n  }\r\n\r\n  setHtmlTextDirection() {\r\n    let ccSDKElement = document.querySelector('.cc-sdk');\r\n    if (!ccSDKElement) {\r\n      return;\r\n    }\r\n    let ccSDKDir: string = ccSDKElement.getAttribute('dir');\r\n    let direction: string = (this.config && this.config.textDirection) ?\r\n      this.config.textDirection : (ccSDKDir ? ccSDKDir : \"ltr\");\r\n    ccSDKElement.setAttribute('dir', direction);\r\n  }\r\n\r\n  setDisplayOptions() {\r\n    this.survey.surveyDisplay.position = this.config && this.config.position ?\r\n      this.config.position : \"bottom right\";\r\n    let welcomePopupAnimation = 'hide-right-left';\r\n\r\n    switch (this.survey.surveyDisplay.position) {\r\n      case 'bottom right':\r\n        welcomePopupAnimation = 'hide-right-left';\r\n        break;\r\n      case 'right bottom':\r\n        welcomePopupAnimation = 'hide-right-left';\r\n        break;\r\n      case 'top right':\r\n        welcomePopupAnimation = 'hide-right-left';\r\n        break;\r\n      case 'right top':\r\n        welcomePopupAnimation = 'hide-right-left';\r\n        break;\r\n      case 'bottom left':\r\n        welcomePopupAnimation = 'hide-left-right';\r\n        break;\r\n      case 'left bottom':\r\n        welcomePopupAnimation = 'hide-left-right';\r\n        break;\r\n      case 'top left':\r\n        welcomePopupAnimation = 'hide-left-right';\r\n        break;\r\n      case 'left top':\r\n        welcomePopupAnimation = 'hide-left-right';\r\n        break;\r\n      default:\r\n        welcomePopupAnimation = 'hide-right-left';\r\n        break;\r\n    }\r\n    this.survey.surveyDisplay.welcomePopupAnimation = welcomePopupAnimation;\r\n    this.tracking.trackEvent('Welcome Pop up Position', {\r\n      token: this.tracking.token,\r\n      data: {\r\n        name: this.survey.surveyDisplay.position,\r\n        action: null\r\n      }\r\n    }, null, null);\r\n\r\n    this.survey.surveyDisplay.surveyPosition = this.config.position.search(/bottom/gi) == -1 ? \"top\" : \"bottom\";\r\n  }\r\n\r\n  getSurveyData() {\r\n    let self: Survey = this;\r\n    let successcb = function (surveyData) {\r\n      self.debug ? console.log(surveyData) : '';\r\n\r\n      let event = new CustomEvent(Constants.SURVEY_DATA_EVENT + \"-\" + self.surveyToken, { detail: JSON.parse(JSON.stringify(surveyData)) });\r\n      document.dispatchEvent(event);\r\n      if (!self.config.skipWelcomePage) {\r\n        self.dom.hideLoader();\r\n      }\r\n\r\n      self.surveyData = surveyData;\r\n      if (surveyData && surveyData.questions && surveyData.questions[0]) {\r\n        self.tracking.username = surveyData.questions[0].user;\r\n      }\r\n\r\n      self.tracking.token = self.surveyToken;\r\n      if (self.surveyData) {\r\n        self.tracking.trackEvent('Login Success', {\r\n          token: self.tracking.token,\r\n          data: {\r\n            name: 'Token',\r\n            action: self.surveyToken\r\n          }\r\n        }, console.log, (err) => console.error(err));\r\n        self.tracking.trackEvent('Survey Length', {\r\n          token: self.tracking.token,\r\n          data: {\r\n            name: `${surveyData.questions.length} Questions`,\r\n            action: `${surveyData.preFill ? surveyData.preFill.length : 0} Prefills`\r\n          }\r\n        }, null, null);\r\n\r\n        let event = new CustomEvent(Constants.SURVEY_DATA_EVENT + \"-\" + self.surveyToken, { detail: JSON.parse(JSON.stringify(surveyData)) });\r\n\r\n        document.dispatchEvent(event);\r\n        if (!self.config.skipWelcomePage) {\r\n          self.dom.hideLoader();\r\n        }\r\n        if (self.surveyData) {\r\n          self.initSurveyQuestions();\r\n        }\r\n      } else {\r\n        self.tracking.trackEvent('Expired Survey', {\r\n          token: self.tracking.token,\r\n          data: {\r\n            name: null,\r\n            action: null\r\n          }\r\n        }, null, null);\r\n        self.survey.displayWelcomeQuestion(\"The Survey has been expired\");\r\n      }\r\n\r\n    };\r\n    let errorcb = null;\r\n    this.survey.fetchQuestions(successcb, errorcb);\r\n  }\r\n\r\n\r\n  initSurvey() {\r\n    //if survey already run don't run?\r\n    //if default trigger initiated and survey already run then don't run.\r\n    let self: Survey = this;\r\n\r\n    self.surveyRunning = true;\r\n    self.dom = new DomSurvey(this);\r\n    self.dom.setTheme(self.config.brandColor, this.config.keepAlive ? this.config.keepAlive : 0);\r\n    self.config.language = \"default\";\r\n    if (self.surveyToken && decodeURIComponent(self.surveyToken).trim() !== '' && !self.config.skipWelcomePage) {\r\n      self.survey.displayWelcomeQuestion();\r\n    } else if (self.config.skipWelcomePage) {\r\n      let onImpressionEvent = new CustomEvent(Constants.SURVEY_IMPRESSION_EVENT + \"-\" + this.surveyToken);\r\n      document.dispatchEvent(onImpressionEvent);\r\n      self.dom.startSurvey();\r\n      self.survey.setCoolDownPeriod(self.config, self.surveyToken);\r\n      this.surveyStartTime = new Date();\r\n      self.survey.acceptAnswers();\r\n    }\r\n    self.dom.setupListeners();\r\n  }\r\n\r\n  initSurveyQuestions() {\r\n    let self: Survey = this;\r\n    self.survey.attachSurvey(this.surveyData);\r\n    self.config.language = \"default\";\r\n\r\n    this.dom.initSurveyDom();\r\n    let onSurveyStartEvent = new CustomEvent(Constants.SURVEY_START_EVENT + \"-\" + this.surveyToken);\r\n    document.dispatchEvent(onSurveyStartEvent);\r\n  }\r\n\r\n  public on(type: string, callback: any) {\r\n    document.addEventListener(type + \"-\" + this.surveyToken, function (e: any) {\r\n      callback(e.detail);\r\n    });\r\n  }\r\n\r\n  public show() {\r\n    //do show and hide things.\r\n    SurveyManager.setSurveyRunning();\r\n    //show survey\r\n    this.setupSurvey();\r\n\r\n  }\r\n\r\n  public hide() {\r\n    SurveyManager.unsetSurveyRunning();\r\n    this.survey.destroy();\r\n    this.tracking.trackEvent('Survey Destroyed', {\r\n      token: this.tracking.token,\r\n      data: {\r\n        name: (<any>new Date() - (<any>window).globalSurveyStartTime) + 's',\r\n        action: null\r\n      }\r\n    }, null, null);\r\n  }\r\n\r\n  public destroy() {\r\n    //remove all listeners?\r\n    SurveyManager.unsetSurveyRunning();\r\n    this.survey.destroy();\r\n  }\r\n\r\n\r\n  public prefill(restOfArgs: PrefillsBatchOrSingle, type: PrefillType) {\r\n    let prefillObject;\r\n    if (typeof restOfArgs[0] !== 'object') {\r\n      prefillObject = {\r\n        [<string>restOfArgs[0]]: restOfArgs[1]\r\n      };\r\n    } else {\r\n      prefillObject = restOfArgs[0];\r\n    }\r\n    //save this in this.surveyHandler\r\n    if (type === 'DIRECT') {\r\n      this.survey.fillPrefillDirect(prefillObject);\r\n    } else if (type === 'BY_TAG') {\r\n      this.survey.fillPrefill(prefillObject);\r\n    } else if (type === 'BY_NOTE') {\r\n      this.survey.fillPrefillByNote(prefillObject);\r\n    }\r\n\r\n    // map prefills from prefill buckets to prefillQueue\r\n    this.survey.filterQuestions();\r\n  }\r\n\r\n\r\n  public trigger(type: string, target: any) {\r\n    let self: Survey = this;\r\n    switch (type) {\r\n      case 'click':\r\n        // console.log( 'enable click trigger ##' )\r\n        this.triggers.enableClickTrigger(target, function () {\r\n          SurveyManager.addSurvey(self.surveyToken);\r\n\r\n        });\r\n        break;\r\n      case 'page-count':\r\n        let count: number = parseInt(target);\r\n        this.triggers.enablePageCountTrigger(count);\r\n\r\n        break;\r\n      case 'site-count':\r\n        let count2: number = parseInt(target);\r\n        this.triggers.enableSiteCountTrigger(count2);\r\n        break;\r\n      case 'page-time':\r\n        this.triggers.enablePageTimeTrigger(parseInt(target));\r\n        break;\r\n      case 'site-time':\r\n        this.triggers.enableSiteTimeTrigger(parseInt(target));\r\n        break;\r\n      case 'url-match':\r\n        this.triggers.enablePopUpByURLPatternTrigger(target);\r\n        break;\r\n      case 'url-not-match':\r\n        this.triggers.enablePopUpByNotURLPatternTrigger(target);\r\n        break;\r\n      case 'utm-match':\r\n        this.triggers.enablePopUpByUTMPatternTrigger(target);\r\n        break;\r\n      case 'scroll-pixels':\r\n        this.triggers.enableScrollPixelsTrigger(parseInt(target));\r\n        break;\r\n      case 'launch':\r\n        SurveyManager.addSurvey(self.surveyToken);\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n  }\r\n}\r\n\r\nexport { Survey };","// import 'whatwg-fetch';\r\nimport { Config } from \"./Config\";\r\nimport { DisplayConfig } from \"./interfaces/DisplayConfig\";\r\nimport { RequestHelper } from \"./helpers/Request\";\r\nimport { templates } from \"./helpers/templates\";\r\nimport { DomUtilities } from \"./helpers/dom/DomUtilities\";\r\nimport { DomSurvey } from \"./helpers/dom/DomSurvey\";\r\nimport { ConditionalTextFilter } from \"./helpers/filters/ConditionalTextFilter\";\r\nimport { Constants } from \"./Constants\";\r\nimport { LanguageTextFilter } from \"./helpers/filters/LanguageTextFilter\";\r\nimport { Select } from \"./helpers/dom/Select\";\r\nimport { Cookie } from \"./helpers/Cookie\";\r\nimport { ConditionalFlowFilter } from \"./helpers/filters/ConditionalFlowFilter\";\r\nimport { PrefillDictionary } from \"./types\";\r\nimport { start } from \"repl\";\r\n\r\nclass SurveyHandler {\r\n  surveyToken: string;\r\n  surveyData: any;\r\n  questions: any;\r\n  prefillQuestions: any;\r\n  questionsToDisplay: any;\r\n  randomNumber: Number;\r\n  welcomeQuestion: any;\r\n  welcomeQuestionButtonText: any;\r\n  prefillResponses: any;\r\n  prefillDirect: any;\r\n  prefillWithTags: any;\r\n  prefillWithNote: any;\r\n  questionResponses: any;\r\n  answers: any = {};\r\n  surveyAnswers: any = {};\r\n  util: DomUtilities;\r\n  dom: DomSurvey;\r\n  displayThankYouCb: any;\r\n  destroySurveyCb: any;\r\n  acceptAnswersCb: any;\r\n  surveyDisplay: DisplayConfig;\r\n  currentQuestion: any;\r\n  conditionalQuestions: any;\r\n  ccsdk: any;\r\n  welcomeInterval: any;\r\n  welcomeQuestionDisplayTime: any;\r\n  domListeners: any;\r\n  languageSelect: any;\r\n  private _prefillsPartiallyPosted = false;\r\n  // isPartialAvailable : Boolean;\r\n\r\n  constructor(ccsdk) {\r\n    this.surveyToken = ccsdk.surveyToken;\r\n    this.surveyData = {};\r\n    this.surveyDisplay = {\r\n      position: \"\",\r\n      surveyPosition: \"\",\r\n      welcomePopupAnimation: \"\",\r\n      surveyPopupAnimation: \"\"\r\n    };\r\n    this.ccsdk = ccsdk;\r\n    this.domListeners = [];\r\n    this.questions = [];\r\n    this.questionsToDisplay = [];\r\n    this.prefillQuestions = [];\r\n    this.conditionalQuestions = [];\r\n    this.prefillResponses = [];\r\n    this.prefillWithTags = {};\r\n    this.prefillWithNote = {};\r\n    this.prefillDirect = {};\r\n    this.answers = {};\r\n    this.util = new DomUtilities();\r\n    this.dom = ccsdk.dom;\r\n    this.displayThankYouCb = (e: any) => {\r\n      //perform final post\r\n      this.finalPost(null, null);\r\n      if (this.ccsdk && this.ccsdk.tracking) {\r\n        this.ccsdk.tracking.trackEvent(\r\n          \"Completed Survey\",\r\n          {\r\n            token: this.ccsdk.tracking.token,\r\n            data: {\r\n              name: null,\r\n              action: null\r\n            }\r\n          },\r\n          null,\r\n          null\r\n        );\r\n      }\r\n\r\n      let thankyouHtml: any = templates.thankyou;\r\n      // thankyouHtml = thankyouHtml.replace(\"{{question}}\", this.surveyData.thankyouText);\r\n      // thankyouHtml = thankyouHtml.replace(\"{{question}}\", LanguageTextFilter.translateMessages(this, \"thankyouText\"));\r\n      let thankyouText = this.ccsdk.config.thankyouText\r\n        ? this.ccsdk.config.thankyouText\r\n        : this.surveyData.thankyouText\r\n          ? this.surveyData.thankyouText\r\n          : \"Thank You\";\r\n      let startText = this.ccsdk.config.startButtonText\r\n        ? this.ccsdk.config.startButtonText\r\n        : \"Start\";\r\n      thankyouHtml = thankyouHtml.replace(\"{{question}}\", thankyouText);\r\n      thankyouHtml = thankyouHtml.replace(\"{{button}}\", startText);\r\n      thankyouHtml = thankyouHtml.replace(\r\n        \"{{branding}}\",\r\n        this.surveyData.branding &&\r\n          this.surveyData.branding.toUpperCase() === \"NONE\"\r\n          ? \"no-branding\"\r\n          : \"full-branding\"\r\n      );\r\n      this.ccsdk.dom.replaceInQuestionsContainer(thankyouHtml);\r\n      //TODO : Fix this Add class not working???\r\n      let thankyouContainer: any = this.util.get(\"#cc-thankyou-container\");\r\n      (window as any).ccsdkDebug ? console.log(thankyouContainer) : \"\";\r\n      this.util.addClass(thankyouContainer[0], \"show-thankyou-slide\");\r\n      let onSurveyEndEvent = new CustomEvent(\r\n        Constants.SURVEY_END_EVENT + \"-\" + this.ccsdk.surveyToken\r\n      );\r\n      document.dispatchEvent(onSurveyEndEvent);\r\n      //set done cookie for 30 days.\r\n      Cookie.set(this.surveyToken + \"-finish\", \"true\", 30, \"/\");\r\n      setTimeout(() => {\r\n        this.ccsdk.dom.destroyListeners();\r\n        this.destroy();\r\n      }, 2000);\r\n    };\r\n\r\n    this.destroySurveyCb = (e: any) => {\r\n      let self: SurveyHandler = this;\r\n      //send end survey event.\r\n      let onSurveyEndEvent = new CustomEvent(\r\n        Constants.SURVEY_END_EVENT + \"-\" + this.ccsdk.surveyToken\r\n      );\r\n      document.dispatchEvent(onSurveyEndEvent);\r\n      self.destroy();\r\n    };\r\n\r\n    this.acceptAnswersCb = (e: any) => {\r\n      let self: SurveyHandler = this;\r\n      // (window as any).ccsdkDebug?console.log(self):'';\r\n      // (window as any).ccsdkDebug?console.log('question answered',e:'')\r\n      let data: any = <any>e.detail;\r\n      let response: any = {};\r\n      response.questionId = data.questionId;\r\n\r\n      switch (data.type) {\r\n        case \"scale\":\r\n          response.text = null;\r\n          response.number = Number(data.data.number);\r\n          self.postPartialAnswer(data.index, response, false, null, null);\r\n          self.ccsdk.dom.domSelectElements();\r\n          // self.ccsdk.dom.nextQuestion();\r\n          break;\r\n        case \"nps\":\r\n          response.text = null;\r\n          response.number = Number(data.data.number);\r\n          self.postPartialAnswer(data.index, response, false, null, null);\r\n          self.ccsdk.dom.domSelectElements();\r\n          // self.ccsdk.dom.nextQuestion();\r\n          break;\r\n        case \"radio\":\r\n          response.text = data.data.text;\r\n          response.number = null;\r\n          // response.number = Number(data.data.number);\r\n          self.postPartialAnswer(data.index, response, false, null, null);\r\n          self.ccsdk.dom.domSelectElements();\r\n          // self.ccsdk.dom.nextQuestion();\r\n          break;\r\n        case \"radioImage\":\r\n          response.text = data.data.text;\r\n          response.number = null;\r\n          self.postPartialAnswer(data.index, response, false, null, null);\r\n          self.ccsdk.dom.domSelectElements();\r\n          // self.ccsdk.dom.nextQuestion();\r\n          break;\r\n        case \"smile\":\r\n          response.text = null;\r\n          response.number = Number(data.data.number);\r\n          self.postPartialAnswer(data.index, response, false, null, null);\r\n          self.ccsdk.dom.domSelectElements();\r\n          // self.ccsdk.dom.nextQuestion();\r\n          break;\r\n        case \"star\":\r\n          response.text = null;\r\n          response.number = Number(data.data.number);\r\n          self.postPartialAnswer(data.index, response, false, null, null);\r\n          self.ccsdk.dom.domSelectElements();\r\n          // self.ccsdk.dom.nextQuestion();\r\n          break;\r\n        case \"multiline\":\r\n          response.text = data.data.text;\r\n          response.number = null;\r\n          // (window as any).ccsdkDebug?console.log(data):'';\r\n          self.postPartialAnswer(data.index, response, false, null, null);\r\n          self.ccsdk.dom.domSelectElements();\r\n          self.ccsdk.dom.setQIndex(data.index);\r\n          // self.ccsdk.dom.nextQuestion();\r\n          break;\r\n        case \"singleline\":\r\n          response.text = data.data.text;\r\n          response.number = null;\r\n          // (window as any).ccsdkDebug?console.log(data):'';\r\n          self.postPartialAnswer(data.index, response, false, null, null);\r\n          self.ccsdk.dom.domSelectElements();\r\n          self.ccsdk.dom.setQIndex(data.index);\r\n          // self.ccsdk.dom.nextQuestion();\r\n          break;\r\n        case \"number\":\r\n          response.text = null;\r\n          response.number = Number(data.data.number);\r\n          // (window as any).ccsdkDebug?console.log(data):'';\r\n          self.postPartialAnswer(data.index, response, false, null, null);\r\n          self.ccsdk.dom.domSelectElements();\r\n          self.ccsdk.dom.setQIndex(data.index);\r\n          // self.ccsdk.dom.nextQuestion();\r\n          break;\r\n        case \"checkbox\":\r\n          response.text = data.data.text;\r\n          response.number = null;\r\n          // (window as any).ccsdkDebug?console.log(data):'';\r\n          self.postPartialAnswer(data.index, response, false, null, null);\r\n          self.ccsdk.dom.domSelectElements();\r\n          self.ccsdk.dom.setQIndex(data.index);\r\n          // self.ccsdk.dom.nextQuestion();\r\n          break;\r\n        case \"select\":\r\n          response.text = data.data.text;\r\n          response.number = null;\r\n          // (window as any).ccsdkDebug?console.log(data):'';\r\n          self.postPartialAnswer(data.index, response, false, null, null);\r\n          self.ccsdk.dom.domSelectElements();\r\n          self.ccsdk.dom.setQIndex(data.index);\r\n          // self.ccsdk.dom.nextQuestion();\r\n          break;\r\n        case \"slider\":\r\n          response.text = data.data.text;\r\n          response.number = Number(data.data.number);\r\n          // (window as any).ccsdkDebug?console.log(data):'';\r\n          self.postPartialAnswer(data.index, response, false, null, null);\r\n          self.ccsdk.dom.domSelectElements();\r\n          self.ccsdk.dom.setQIndex(data.index);\r\n          // self.ccsdk.dom.nextQuestion();\r\n          break;\r\n\r\n        default:\r\n          break;\r\n      }\r\n    };\r\n  }\r\n\r\n  fetchQuestions(successcb, errorcb) {\r\n    this.randomNumber = parseInt(String(Math.random() * 1000));\r\n    let surveyUrl = Config.SURVEY_BY_TOKEN.replace(\r\n      \"{token}\",\r\n      \"\" + this.surveyToken\r\n    );\r\n    // surveyUrl = surveyUrl.replace(\"{tabletId}\", \"\" + this.randomNumber);\r\n    surveyUrl = Config.API_URL + surveyUrl;\r\n    RequestHelper.get(surveyUrl, successcb, errorcb);\r\n\r\n    // (window as any).ccsdkDebug?console.log(data):'';\r\n    // this.surveyData = data.then(function();\r\n    // (window as any).ccsdkDebug?console.log(this.surveyData):'';\r\n  }\r\n\r\n  removeAnswer(questionId) {\r\n    delete this.answers[questionId];\r\n    delete this.surveyAnswers[questionId];\r\n  }\r\n\r\n  attachSurvey(surveyData: any) {\r\n    this.surveyData = surveyData;\r\n    this.setupPrefill();\r\n    this.setupSurveyContainer();\r\n    //clean survey\r\n    this.cleanSurvey();\r\n    this.displayQuestions();\r\n    this.displayThankYou();\r\n    this.destroySurvey();\r\n  }\r\n\r\n  setupPrefill() {\r\n    if (\r\n      this.surveyData &&\r\n      this.surveyData.preFill &&\r\n      this.surveyData.preFill.length > 0\r\n    ) {\r\n      this.surveyData.preFill.map(response => {\r\n        this.fillPrefillQuestionObject(response.questionId, response);\r\n      });\r\n    }\r\n  }\r\n\r\n  cleanSurvey() {\r\n    this.questionsToDisplay = [];\r\n    this.answers = {};\r\n    this.surveyAnswers = {};\r\n    this.conditionalQuestions = [];\r\n  }\r\n\r\n  setupSurveyContainer() {\r\n    let surveyHtml: any = templates.question_survey;\r\n    surveyHtml = surveyHtml.replace(\"{{surveyToken}}\", this.surveyToken);\r\n    surveyHtml = surveyHtml.replace(\r\n      \"{{animation}}\",\r\n      this.surveyDisplay.surveyPopupAnimation\r\n    );\r\n    surveyHtml = surveyHtml.replace(\r\n      /{{location}}/g,\r\n      this.surveyDisplay.surveyPosition\r\n    );\r\n    this.ccsdk.dom.appendInBody(surveyHtml);\r\n  }\r\n\r\n  displayQuestionSelector() { }\r\n\r\n  displayWelcomeQuestion(warningWelcomeText?: string) {\r\n    //call this with true when welcome container is clicked.\r\n    // this.ccsdk.addThrottlingEntries(false);\r\n    let onSurveyImpressionEvent = new CustomEvent(\r\n      Constants.SURVEY_IMPRESSION_EVENT + \"-\" + this.surveyToken\r\n    );\r\n    document.dispatchEvent(onSurveyImpressionEvent);\r\n    this.ccsdk.surveyStartTime = new Date();\r\n    let self = this;\r\n    let welcomeHtml: any = templates.question_start;\r\n    welcomeHtml = welcomeHtml.replace(\"{{surveyToken}}\", this.surveyToken);\r\n    // welcomeHtml = welcomeHtml.replace(\"{{question}}\", this.surveyData.welcomeText);\r\n    let welcomeText = this.ccsdk.config.welcomeText\r\n      ? this.ccsdk.config.welcomeText\r\n      : \"Welcome\";\r\n    // welcomeHtml = welcomeHtml.replace(\"{{question}}\", LanguageTextFilter.translateMessages(this, \"welcomeText\"));\r\n    let startText = this.ccsdk.config.startButtonText\r\n      ? this.ccsdk.config.startButtonText\r\n      : \"Start\";\r\n    if (warningWelcomeText) {\r\n      document.getElementById(this.surveyToken + \"-welcome\").remove();\r\n      welcomeHtml = welcomeHtml.replace(\"{{question}}\", warningWelcomeText);\r\n      welcomeHtml = welcomeHtml.replace(\"{{button}}\", \"Close\");\r\n      welcomeHtml = welcomeHtml.replace(\"{{action}}\", \"button-close\");\r\n    } else {\r\n      welcomeHtml = welcomeHtml.replace(\"{{question}}\", welcomeText);\r\n      welcomeHtml = welcomeHtml.replace(\"{{button}}\", startText);\r\n      welcomeHtml = welcomeHtml.replace(\"{{action}}\", \"survey-start\");\r\n    }\r\n    welcomeHtml = welcomeHtml.replace(\r\n      \"{{location}}\",\r\n      this.surveyDisplay.position\r\n    );\r\n    welcomeHtml = welcomeHtml.replace(\r\n      \"{{animation}}\",\r\n      this.surveyDisplay.welcomePopupAnimation\r\n    );\r\n    // (window as any).ccsdkDebug?console.log(\"Appending in body\"):'';\r\n    this.ccsdk.dom.appendInBody(welcomeHtml);\r\n    this.ccsdk.dom.showWelcomeContainer();\r\n    this.setCoolDownPeriod(this.ccsdk.config, this.surveyToken);\r\n    if (\r\n      typeof this.ccsdk.config.keepAlive != undefined &&\r\n      this.ccsdk.config.keepAlive > 0\r\n    ) {\r\n      this.welcomeQuestionDisplayTime = new Date();\r\n      this.welcomeInterval = setInterval(() => {\r\n        self.checkWelcomeQuestionDisplay(self.ccsdk.config.keepAlive);\r\n      }, 1000);\r\n    }\r\n\r\n    this.acceptAnswers();\r\n    // self.survey.displayLanguageSelector();\r\n  }\r\n\r\n  setCoolDownPeriod(campaign, surveyToken) {\r\n    if (campaign && campaign.coolDownPeriod && campaign.coolDownPeriod != 0) {\r\n      Cookie.set(\r\n        surveyToken + \"-coolDown\",\r\n        \"true\",\r\n        campaign.coolDownPeriod / 86400,\r\n        \"/\"\r\n      );\r\n    } else {\r\n      Cookie.set(surveyToken + \"-coolDown\", \"true\", 1, \"/\");\r\n    }\r\n  }\r\n\r\n  checkWelcomeQuestionDisplay(keepAlive) {\r\n    let self = this;\r\n    let now = new Date();\r\n    if (keepAlive) {\r\n      // console.log((now.getTime() - this.welcomeQuestionDisplayTime.getTime()) / 1000);\r\n      if (\r\n        keepAlive <=\r\n        (now.getTime() - this.welcomeQuestionDisplayTime.getTime()) / 1000\r\n      ) {\r\n        self.killWelcomeQuestion();\r\n      }\r\n    }\r\n  }\r\n\r\n  killWelcomeQuestion() {\r\n    this.destroy();\r\n    clearInterval(this.welcomeInterval);\r\n  }\r\n  cancelKillWelcomeQuestion() {\r\n    clearInterval(this.welcomeInterval);\r\n  }\r\n\r\n  displayLanguageSelector() {\r\n    let self = this;\r\n    let options1: string;\r\n    let qId = \"languageSelector\";\r\n    let cTemplate1 = templates.language_selector;\r\n    options1 = this.util.generateLanguageSelectOptions([\"default\"]);\r\n    if (this.surveyData.translated) {\r\n      options1 = this.util.generateLanguageSelectOptions(\r\n        [\"default\"].concat(Object.keys(this.surveyData.translated))\r\n      );\r\n    }\r\n    cTemplate1 = cTemplate1.replace(/{{questionId}}/g, qId);\r\n    cTemplate1 = cTemplate1.replace(\"{{options}}\", options1);\r\n    cTemplate1 = cTemplate1.replace(\"{{requiredLabel}}\", true ? \"*\" : \"\");\r\n    this.ccsdk.dom.replaceInQuestionsContainer(cTemplate1);\r\n    let $questionContainer = document.querySelectorAll(\r\n      \".cc-questions-container\"\r\n    );\r\n    let $body = document.getElementsByTagName(\"body\")[0];\r\n\r\n    this.util.addClass($questionContainer[0].firstChild, \"show-slide\");\r\n    this.languageSelect = new Select(qId);\r\n    let submitBtn = document.querySelectorAll(\".submit-icon\");\r\n    this.util.removeClassAll(submitBtn, \"act-cc-button-next\");\r\n    this.util.addClassAll(submitBtn, \"act-cc-button-lang-next\");\r\n    if (this.languageSelect) {\r\n      this.languageSelect.destroyListeners();\r\n    }\r\n    this.languageSelect.init(qId);\r\n    let selectRes = \"\";\r\n    if (\r\n      this.util.checkIfListenerExists(\r\n        \"#\" + qId + \" .cc-select-options .cc-select-option\",\r\n        this.domListeners\r\n      )\r\n    ) {\r\n      // return;\r\n      (window as any).ccsdkDebug\r\n        ? console.log(\"display language select - previous listeners exists\")\r\n        : \"\";\r\n      this.removePrevListener(\r\n        \"#\" + qId + \" .cc-select-options .cc-select-option\"\r\n      );\r\n    }\r\n    let ref = this.util.initListener(\r\n      \"click\",\r\n      \"#\" + qId + \" .cc-select-options .cc-select-option\",\r\n      function () {\r\n        self.ccsdk.debug ? console.log(\"languageSelectOption\") : \"\";\r\n        selectRes = document.querySelectorAll(\r\n          \"#\" + qId + \" .cc-select-trigger\"\r\n        )[0].innerHTML;\r\n      }\r\n    );\r\n    this.domListeners.push(ref);\r\n    ref.internalHandler = this.util.listener($body, ref.type, ref.id, ref.cb);\r\n\r\n    let languageSelect2 = this.util.initListener(\r\n      \"click\",\r\n      \".act-cc-button-lang-next\",\r\n      function () {\r\n        self.ccsdk.debug ? console.log(\"languageNext\") : \"\";\r\n        self.ccsdk.config.language = \"default\";\r\n        self.ccsdk.config.language = selectRes; //language selection from menu then show first question\r\n        //set config rtl or ltr\r\n\r\n        var languageQuestion = self.surveyData.questions.find(x => x.questionTags && x.questionTags.indexOf('cc_language') !== -1);\r\n\r\n        if (languageQuestion) {\r\n          self.fillPrefillQuestion(\r\n            languageQuestion.id,\r\n            selectRes,\r\n            'text'\r\n          );\r\n        }\r\n        let isRTL = /[\\u0600-\\u06FF]/.test(selectRes);\r\n        self.ccsdk.config.textDirection = isRTL ? \"rtl\" : \"ltr\";\r\n        self.ccsdk.setHtmlTextDirection();\r\n        self.util.removeClassAll(submitBtn, \"act-cc-button-lang-next\");\r\n        self.util.addClassAll(submitBtn, \"act-cc-button-next\");\r\n        self.ccsdk.dom.loadFirstQuestion(); // this.loadFirstQuestion();\r\n        // self.postPrefillPartialAnswer( false, null, null );\r\n      }\r\n    );\r\n    this.domListeners.push(languageSelect2);\r\n\r\n    languageSelect2.internalHandler = this.util.listener(\r\n      $body,\r\n      languageSelect2.type,\r\n      languageSelect2.id,\r\n      languageSelect2.cb\r\n    );\r\n\r\n    // this.util.addClass(thankyouContainer[0], 'show-thankyou-slide');\r\n\r\n    // this.ccsdk.dom.appendInBody(cTemplate1);\r\n    // this.ccsdk.dom.showLanguageSelector();\r\n    (window as any).ccsdkDebug ? console.log(cTemplate1) : \"\";\r\n  }\r\n\r\n  displayThankYou() {\r\n    let self: SurveyHandler = this;\r\n    document.addEventListener(\"ccdone\", this.displayThankYouCb);\r\n  }\r\n\r\n  displayQuestions() {\r\n    //check question is supported, based on question types.\r\n    //filter pre fill questions.\r\n    this.questions = this.surveyData.questions;\r\n\r\n    // this.questionsToDisplay = (this.surveyData.questions as any[]).filter(this.filterQuestions);\r\n    this.filterQuestions();\r\n\r\n    let ccSurvey: any;\r\n    ccSurvey = document.getElementsByClassName(\"cc-questions-container\");\r\n    // ccSurvey = ccSurvey[0];\r\n    let surveyObject = ccSurvey[0];\r\n    // (window as any).ccsdkDebug?console.log(this.questionsToDisplay):'';\r\n    //chec\r\n    //for now just do 1st question.\r\n    for (let question of this.questionsToDisplay) {\r\n      if (this.checkConditionals(question)) {\r\n        let compiledTemplate = this.compileTemplate(question);\r\n        question.compiledTemplate = compiledTemplate;\r\n        // surveyObject.innerHTML += compiledTemplate;\r\n        //register handlers for onclick?\r\n      } else {\r\n        if (this.isPrefillQuestion(question)) {\r\n          this.prefillQuestions.push(question);\r\n        }\r\n      }\r\n      //else don't display it.\r\n    }\r\n    // (window as any).ccsdkDebug?console.log(surveyObject.innerHTML):'';\r\n    // this.postPartialAnswer(this.questionsToDisplay[0], \"test\");\r\n  }\r\n\r\n  getSurveyQuestions(): any {\r\n    return this.questionsToDisplay;\r\n  }\r\n\r\n  getAnswerForQuestionId(questionId: string) {\r\n    let answer = this.surveyAnswers[questionId];\r\n    if (typeof answer === \"undefined\") {\r\n      for (let response of this.prefillResponses) {\r\n        if (response.questionId == questionId) {\r\n          return response;\r\n        }\r\n      }\r\n    }\r\n    return this.surveyAnswers[questionId];\r\n  }\r\n\r\n  acceptAnswers() {\r\n    let self: SurveyHandler = this;\r\n    // (window as any).ccsdkDebug?console.log('add question answered listener':'')\r\n    document.addEventListener(\"q-answered\", this.acceptAnswersCb);\r\n  }\r\n\r\n  fillPrefillQuestionObject(id: any, response: any) {\r\n    let question: any = this.getQuestionById(id);\r\n    let responseStored = this.getPrefillResponseById(id);\r\n    if (responseStored != null) {\r\n      this.updatePrefillResponseById(id, response);\r\n    } else {\r\n      this.prefillResponses.push(response);\r\n    }\r\n  }\r\n\r\n  fillPrefill(prefillObj: PrefillDictionary) {\r\n    Object.keys(prefillObj).map(x => {\r\n      this.prefillWithTags[x.toLowerCase()] = prefillObj[x];\r\n    });\r\n    (window as any).ccsdkDebug\r\n      ? console.log(\"prefillByTag\", this.prefillWithTags)\r\n      : \"\";\r\n\r\n    if (this._prefillsPartiallyPosted) {\r\n      this.postRecentPrefills()\r\n    }\r\n  }\r\n\r\n  fillPrefillByNote(prefillObj: PrefillDictionary) {\r\n    Object.keys(prefillObj).map(x => {\r\n      this.prefillWithNote[x.toLowerCase()] = prefillObj[x];\r\n    });\r\n    (window as any).ccsdkDebug\r\n      ? console.log(\"prefillByNote\", this.prefillWithNote)\r\n      : \"\";\r\n\r\n    if (this._prefillsPartiallyPosted) {\r\n      this.postRecentPrefills()\r\n    }\r\n  }\r\n\r\n  fillPrefillDirect(prefillObj: PrefillDictionary) {\r\n    Object.keys(prefillObj).forEach(x => {\r\n      this.prefillDirect[x] = prefillObj[x];\r\n    });\r\n\r\n    (window as any).ccsdkDebug\r\n      ? console.log(\"prefillDirect\", this.prefillDirect)\r\n      : \"\";\r\n\r\n    if (this._prefillsPartiallyPosted) {\r\n      this.postRecentPrefills()\r\n    }\r\n  }\r\n\r\n  // prepares for partial posting in the next chance\r\n  postRecentPrefills() {\r\n    // clear the post partial flag\r\n    this._prefillsPartiallyPosted = false;\r\n\r\n    this.filterQuestions();\r\n\r\n  }\r\n\r\n  fillPrefillQuestion(id: any, value: any, valueType: string) {\r\n    let question: any = this.getQuestionById(id);\r\n    let response: any;\r\n    let responseStored = this.getPrefillResponseById(id);\r\n    if (responseStored != null) {\r\n      response = responseStored;\r\n    } else {\r\n      response = {\r\n        questionId: question.id,\r\n        questionText: question.text,\r\n        textInput: null,\r\n        numberInput: null\r\n      };\r\n    }\r\n    valueType = this.getAnswerTypeFromDisplayType(question.displayType);\r\n\r\n    if (valueType.toLowerCase() == \"number\") {\r\n      response.numberInput = value;\r\n    }\r\n    if (valueType.toLowerCase() == \"text\") {\r\n      response.textInput = value;\r\n    }\r\n    if (responseStored != null) {\r\n      this.updatePrefillResponseById(id, response);\r\n    } else {\r\n      this.prefillResponses.push(response);\r\n    }\r\n  }\r\n\r\n  postPrefillPartialAnswer(fullSubmission = false, successcb, errorcb) {\r\n    if (!fullSubmission && this._prefillsPartiallyPosted) {\r\n      return;\r\n    }\r\n    this._prefillsPartiallyPosted = true;\r\n    if (!this.surveyData.partialResponseId) {\r\n      return;\r\n    }\r\n    let surveyPartialUrl = Config.SURVEY_PARTIAL_RESPONSE.replace(\r\n      \"{id}\",\r\n      this.surveyData.partialResponseId\r\n    );\r\n    surveyPartialUrl = surveyPartialUrl.replace(\"{complete}\", \"false\");\r\n    surveyPartialUrl = Config.API_URL + surveyPartialUrl;\r\n    (window as any).ccsdkDebug\r\n      ? console.log(\"Posting Prefill Responses to Server\")\r\n      : \"\";\r\n    (window as any).ccsdkDebug ? console.log(this.prefillResponses) : \"\";\r\n\r\n    if (!this.surveyData.partialResponseId) {\r\n      // run successCB if there is one.\r\n      if (successcb) {\r\n        successcb();\r\n      }\r\n      return;\r\n    }\r\n    if (\r\n      typeof this.prefillResponses !== \"undefined\" &&\r\n      this.prefillResponses.length > 0\r\n    ) {\r\n      RequestHelper.postWithHeaders(\r\n        surveyPartialUrl,\r\n        this.prefillResponses,\r\n        {},\r\n        successcb,\r\n        errorcb\r\n      );\r\n    } else {\r\n      // console.log('No Prefill data');\r\n      return;\r\n    }\r\n  }\r\n\r\n  updatePrefillResponseById(id: any, resp: any) {\r\n    for (let response of this.prefillResponses) {\r\n      if (response.questionId == id) {\r\n        response = resp;\r\n        break;\r\n      }\r\n    }\r\n  }\r\n\r\n  getPrefillResponseById(id: any) {\r\n    return this.prefillResponses && this.prefillResponses.find(x => x.id === id);\r\n  }\r\n\r\n  getQuestionById(id: any) {\r\n    return this.questions.find(x => x.id === id);\r\n  }\r\n\r\n  postPartialAnswer(\r\n    index: any,\r\n    response: any,\r\n    complete = false,\r\n    successcb,\r\n    errorcb\r\n  ) {\r\n    this.postPrefillPartialAnswer(complete, null, null);\r\n\r\n    let question: any = this.questionsToDisplay[index];\r\n    if (!question) {\r\n      return;\r\n    }\r\n    let data: any = {\r\n      questionId: question.id,\r\n      questionText: question.text,\r\n      textInput: response.text,\r\n      numberInput: response.number\r\n    };\r\n\r\n    let surveyPartialUrl = Config.SURVEY_PARTIAL_RESPONSE.replace(\r\n      \"{id}\",\r\n      this.surveyData.partialResponseId\r\n    );\r\n    (window as any).ccsdkDebug\r\n      ? console.log(\r\n        \"partial response\",\r\n        question.id ==\r\n        this.questionsToDisplay[this.questionsToDisplay.length - 1].id\r\n      )\r\n      : \"\";\r\n    surveyPartialUrl = surveyPartialUrl.replace(\"{complete}\", `${complete}`);\r\n    surveyPartialUrl = Config.API_URL + surveyPartialUrl;\r\n\r\n    //add partial answer to main answer\r\n    this.surveyAnswers[question.id] = data;\r\n\r\n    data = [data];\r\n\r\n    let onSurveyAnswerEvent = new CustomEvent(\r\n      Constants.SURVEY_ANSWER_EVENT + \"-\" + this.surveyToken\r\n    );\r\n    document.dispatchEvent(onSurveyAnswerEvent);\r\n\r\n    if (!this.surveyData.partialResponseId) {\r\n      // run success callback and return\r\n      if (successcb) {\r\n        successcb();\r\n      }\r\n      return;\r\n    }\r\n    console.log(data);\r\n    if (\r\n      question.id ==\r\n      this.questionsToDisplay[this.questionsToDisplay.length - 1].id\r\n    ) {\r\n      //last question post moved to separate function\r\n      RequestHelper.postWithHeaders(\r\n        surveyPartialUrl,\r\n        data,\r\n        {},\r\n        successcb,\r\n        errorcb\r\n      );\r\n    } else {\r\n      RequestHelper.postWithHeaders(\r\n        surveyPartialUrl,\r\n        data,\r\n        {},\r\n        successcb,\r\n        errorcb\r\n      );\r\n    }\r\n  }\r\n\r\n  finalPost(successcb, errorcb) {\r\n    //last question\r\n    let postSurveyFinalUrl = Config.POST_SURVEY_FINAL.replace(\r\n      \"{tokenId}\",\r\n      this.ccsdk.surveyToken\r\n    );\r\n    postSurveyFinalUrl = Config.API_URL + postSurveyFinalUrl;\r\n    let answersAll = [];\r\n    // hack for partial flushing\r\n    let lastAnswer;\r\n\r\n    if (Object.keys(this.surveyAnswers).length == 0) {\r\n      return;\r\n    }\r\n    for (let answer in this.surveyAnswers) {\r\n      let response = this.surveyAnswers[answer];\r\n      if (\r\n        response &&\r\n        (response.textInput !== null || response.numberInput !== null)\r\n      ) {\r\n        answersAll.push(response);\r\n        lastAnswer = response;\r\n      }\r\n    }\r\n    for (let answer in this.prefillResponses) {\r\n      answersAll.push(this.prefillResponses[answer]);\r\n    }\r\n\r\n    answersAll = answersAll.filter(x => x && typeof x === 'object');\r\n\r\n    let timeAtPost = new Date().getTime();\r\n    let finalData = {\r\n      id: this.ccsdk.surveyToken,\r\n      user: this.ccsdk.config.username,\r\n      locationId: null,\r\n      responses: answersAll,\r\n      nps: 0,\r\n      surveyClient: Constants.SURVEY_CLIENT,\r\n      responseDuration: Math.floor(\r\n        (timeAtPost - this.ccsdk.surveyStartTime.getTime()) / 1000\r\n      ),\r\n      responseDateTime: new Date()\r\n    };\r\n    if (lastAnswer) {\r\n      let _lastAnswer = {\r\n        text: lastAnswer.textInput,\r\n        number: lastAnswer.numberInput\r\n      };\r\n      this.postPartialAnswer(\r\n        this.questionsToDisplay.length - 1,\r\n        _lastAnswer,\r\n        true,\r\n        null,\r\n        null\r\n      );\r\n    }\r\n\r\n    if (finalData.responses && finalData.responses.length > 0) {\r\n      RequestHelper.postWithHeaders(\r\n        postSurveyFinalUrl,\r\n        finalData,\r\n        {},\r\n        successcb,\r\n        errorcb\r\n      );\r\n    } else {\r\n      successcb();\r\n    }\r\n  }\r\n\r\n  /**\r\n   *\r\n   * check if conditions are satsified which are required to display question?\r\n   *\r\n   * @param {any} question\r\n   * @memberof Survey\r\n   */\r\n  checkConditionals(question: any) {\r\n    return true;\r\n  }\r\n\r\n  compileTemplate(question: any) {\r\n    let self: SurveyHandler = this;\r\n    //get question type\r\n    let questionTemplate;\r\n    // (window as any).ccsdkDebug?console.log(question):'';\r\n    if (question != \"undefined\") {\r\n      switch (question.displayType) {\r\n        case \"Slider\":\r\n          let displayLegend = question.displayLegend;\r\n          let opt: any = question.multiSelect[0].split(\"-\");\r\n          let optMin: any = opt[0].split(\";\");\r\n          let optMax: any = opt[1].split(\";\");\r\n          //get text question template and compile it.\r\n          questionTemplate = templates.question_slider;\r\n          questionTemplate = questionTemplate.replace(\r\n            \"{{question}}\",\r\n            ConditionalTextFilter.filterText(this, question)\r\n          );\r\n          questionTemplate = questionTemplate.replace(/{{min}}/g, optMin[0]);\r\n          if (displayLegend[0]) {\r\n            questionTemplate = questionTemplate.replace(\r\n              /{{minLabel}}/g,\r\n              displayLegend[0] + \"-\"\r\n            );\r\n          } else {\r\n            questionTemplate = questionTemplate.replace(/{{minLabel}}/g, \"\");\r\n          }\r\n          questionTemplate = questionTemplate.replace(/{{max}}/g, optMax[0]);\r\n          if (displayLegend[1]) {\r\n            questionTemplate = questionTemplate.replace(\r\n              /{{maxLabel}}/g,\r\n              displayLegend[1] + \"-\"\r\n            );\r\n          } else {\r\n            questionTemplate = questionTemplate.replace(/{{maxLabel}}/g, \"\");\r\n          }\r\n          questionTemplate = questionTemplate.replace(\r\n            /{{questionId}}/g,\r\n            \"id\" + question.id\r\n          );\r\n          questionTemplate = questionTemplate.replace(\r\n            \"{{isRequired}}\",\r\n            question.isRequired ? \"true\" : \"false\"\r\n          );\r\n          questionTemplate = questionTemplate.replace(\r\n            \"{{requiredLabel}}\",\r\n            question.isRequired ? \"*\" : \"\"\r\n          );\r\n          break;\r\n        case \"Scale\":\r\n          //get text question template and compile it.\r\n          var middleBlock = 0;\r\n          var endBlock = 0;\r\n          let dimension;\r\n          (window as any).ccsdkDebug ? console.log(question.questionTags) : \"\";\r\n          if (question.questionTags.indexOf(\"NPS\") !== -1) {\r\n            questionTemplate = templates.question_nps;\r\n            questionTemplate = questionTemplate.replace(\r\n              \"{{question}}\",\r\n              ConditionalTextFilter.filterText(this, question)\r\n            );\r\n            questionTemplate = questionTemplate.replace(\r\n              /{{questionId}}/g,\r\n              \"id\" + question.id\r\n            );\r\n            questionTemplate = questionTemplate.replace(\r\n              \"{{isRequired}}\",\r\n              question.isRequired ? \"true\" : \"false\"\r\n            );\r\n            questionTemplate = questionTemplate.replace(\r\n              \"{{requiredLabel}}\",\r\n              question.isRequired ? \"*\" : \"\"\r\n            );\r\n          } else if (question.questionTags.indexOf(\"CSAT\") !== -1) {\r\n            if (question.questionTags.indexOf(\"csat_satisfaction_5\") !== -1) {\r\n              questionTemplate = templates.question_csat_satisfaction_5;\r\n            } else if (question.questionTags.indexOf(\"csat_agreement_5\") !== -1) {\r\n              questionTemplate = templates.question_csat_agreement_5;\r\n            }\r\n            questionTemplate = questionTemplate.replace(\r\n              \"{{question}}\",\r\n              ConditionalTextFilter.filterText(this, question)\r\n            );\r\n            questionTemplate = questionTemplate.replace(\r\n              /{{questionId}}/g,\r\n              \"id\" + question.id\r\n            );\r\n            questionTemplate = questionTemplate.replace(\r\n              \"{{isRequired}}\",\r\n              question.isRequired ? \"true\" : \"false\"\r\n            );\r\n            questionTemplate = questionTemplate.replace(\r\n              \"{{requiredLabel}}\",\r\n              question.isRequired ? \"*\" : \"\"\r\n            );\r\n          } else {\r\n            let tileColor = \"\";\r\n            let style = \"\";\r\n            if (\r\n              question.attributes != null &&\r\n              question.attributes.scaleColor &&\r\n              question.attributes.scaleColor.length > 0\r\n            ) {\r\n              if (question.attributes.scaleColor !== \"Gradient\") {\r\n                tileColor = question.attributes.scaleColor;\r\n              } else {\r\n                tileColor = \"#02BAEE\";\r\n              }\r\n            } else if (\r\n              question.presentationMode != null &&\r\n              question.presentationMode.indexOf(\"Color\") !== -1\r\n            ) {\r\n              tileColor = question.presentationMode.split(\":\")[1];\r\n            }\r\n            if (tileColor.length > 0) {\r\n              let tileColorDark = this.util.shadeBlendConvert(\r\n                -0.3,\r\n                tileColor,\r\n                undefined\r\n              );\r\n              style =\r\n                \"\\\r\n                <style>\\\r\n                #id\" +\r\n                question.id +\r\n                \" .option-number-item.option-scale{\\\r\n                  background-color : \" +\r\n                tileColor +\r\n                \";\\\r\n                }\\\r\n                #id\" +\r\n                question.id +\r\n                \" .option-number-item.option-scale:hover,\\\r\n                #id\" +\r\n                question.id +\r\n                \" .option-number-item.option-scale.selected{\\\r\n                  background-color : \" +\r\n                tileColorDark +\r\n                \";\\\r\n                }\\\r\n                </style>\\\r\n              \";\r\n            }\r\n\r\n            questionTemplate = templates.question_scale;\r\n            questionTemplate = questionTemplate.replace(/{{style}}/g, style);\r\n            questionTemplate = questionTemplate.replace(\r\n              \"{{question}}\",\r\n              ConditionalTextFilter.filterText(this, question)\r\n            );\r\n            questionTemplate = questionTemplate.replace(\r\n              /{{questionId}}/g,\r\n              \"id\" + question.id\r\n            );\r\n            questionTemplate = questionTemplate.replace(\r\n              \"{{isRequired}}\",\r\n              question.isRequired ? \"true\" : \"false\"\r\n            );\r\n            questionTemplate = questionTemplate.replace(\r\n              \"{{requiredLabel}}\",\r\n              question.isRequired ? \"*\" : \"\"\r\n            );\r\n            //construct NPS scale here....\r\n\r\n            let startRange = 0.0;\r\n            let endRange = 10.0;\r\n            let options = \"\";\r\n            let startRangeLabel = \"\";\r\n            // let startRangeLabel = \"\";\r\n            // let endRangeLabel = \"Very likely\";\r\n            let endRangeLabel = \"\";\r\n            let midRangeLabel = \"\";\r\n\r\n            if (\r\n              question.questionTags.indexOf(\"ces_agree_5\") !== -1 ||\r\n              question.questionTags.indexOf(\"ces_agree_7\") !== -1\r\n            ) {\r\n              startRangeLabel = \"Strongly Disagree\";\r\n              endRangeLabel = \"Strongly Agree\";\r\n              if (question.questionTags.indexOf(\"ces_agree_7\") !== -1) {\r\n                midRangeLabel = \"Somewhat Agree\";\r\n                middleBlock = 2;\r\n              }\r\n            } else if (\r\n              question.questionTags.indexOf(\"ces_effort_5\") !== -1 ||\r\n              question.questionTags.indexOf(\"ces_effort_7\") !== -1\r\n            ) {\r\n              startRangeLabel = \"High Effort\";\r\n              endRangeLabel = \"Low Effort\";\r\n              if (question.questionTags.indexOf(\"ces_effort_7\") !== -1) {\r\n                midRangeLabel = \"Moderate Effort\";\r\n                middleBlock = 0;\r\n              }\r\n            } else if (question.anchorMetricName != null) {\r\n              let metricName = question.anchorMetricName;\r\n              let customMetric = this.surveyData.customMetrics[metricName];\r\n              let optionsLength = customMetric.optionCategories.length;\r\n              startRangeLabel = customMetric.optionCategories[0].label;\r\n              if (optionsLength > 2) {\r\n                midRangeLabel = customMetric.optionCategories[1].label;\r\n                let middleRange = customMetric.optionCategories[1].categoryRange.split(\r\n                  \",\"\r\n                );\r\n                middleBlock = parseInt(middleRange[1], 10) - parseInt(middleRange[0], 10) + 1;\r\n              } else {\r\n                midRangeLabel = null;\r\n              }\r\n              endRangeLabel =\r\n                customMetric.optionCategories[optionsLength - 1].label;\r\n\r\n              let endRange = customMetric.optionCategories[optionsLength - 1].categoryRange.split(\r\n                \",\"\r\n              );\r\n              endBlock = parseInt(endRange[1], 10) - parseInt(endRange[0], 10) + 1;\r\n            }\r\n\r\n            let displayLegend = LanguageTextFilter.translateDisplayLegend(\r\n              this,\r\n              question\r\n            );\r\n            if (displayLegend) {\r\n              if (displayLegend.length > 0) {\r\n                startRangeLabel = displayLegend[0] ? displayLegend[0] : null;\r\n                endRangeLabel = displayLegend[1] ? displayLegend[1] : null;\r\n              }\r\n            }\r\n            if (question.multiSelect.length > 0) {\r\n              startRange = parseFloat(question.multiSelect[0].split(\"-\")[0]);\r\n              if (startRangeLabel == null) {\r\n                startRangeLabel = question.multiSelect[0]\r\n                  .split(\"-\")[0]\r\n                  .split(\";\")[1];\r\n              }\r\n              endRange = parseFloat(question.multiSelect[0].split(\"-\")[1]);\r\n              if (endRangeLabel == null) {\r\n                endRangeLabel = question.multiSelect[0]\r\n                  .split(\"-\")[1]\r\n                  .split(\";\")[1];\r\n              }\r\n            }\r\n            startRangeLabel = startRangeLabel == null ? \"\" : startRangeLabel;\r\n            endRangeLabel = endRangeLabel == null ? \"\" : endRangeLabel;\r\n            let mobileImageUrl = '';\r\n            let imageVisibility010 = 'hide';\r\n            let imageVisibility110 = 'hide';\r\n            let scaleVisibility = 'show-inline';\r\n            let scaleImageContainer = '';\r\n            if (startRange == 0 && endRange == 10 && question.anchorMetricName === null) {\r\n              mobileImageUrl = \"https://cx.getcloudcherry.com/microsurvey-assets/scale-0-10-neutral.svg\";\r\n              imageVisibility010 = 'show';\r\n              imageVisibility110 = 'hide';\r\n              scaleVisibility = 'hide';\r\n              scaleImageContainer = 'scale-image-container';\r\n            } else if (startRange == 1 && endRange == 10 && question.anchorMetricName === null) {\r\n              mobileImageUrl = \"https://cx.getcloudcherry.com/microsurvey-assets/scale-1-10-neutral.svg\";\r\n              imageVisibility010 = 'hide';\r\n              imageVisibility110 = 'show';\r\n              scaleVisibility = 'hide';\r\n              scaleImageContainer = 'scale-image-container';\r\n            }\r\n            // console.log('scale', startRange, endRange);\r\n            let divider: any = 1;\r\n            if (endRange < 11) {\r\n            } else {\r\n              divider = (endRange - startRange) / 10.0;\r\n            }\r\n            let initial = 0.0;\r\n            let optionStyle = \"\";\r\n            let legendDimension;\r\n            if ((window as any).isMobile) {\r\n              if (endRange < 11) {\r\n                let parentContainer = window.innerWidth - 40;\r\n                dimension =\r\n                  ((100 / (endRange - startRange + 1) - 0.5) *\r\n                    parentContainer) /\r\n                  100;\r\n                dimension = dimension > 48 ? 48 : dimension;\r\n                legendDimension = (endRange - startRange + 1) * (dimension + 1);\r\n                optionStyle = `width:${dimension}px;height:${dimension}px;padding:${(dimension -\r\n                  15) /\r\n                  2}px;`;\r\n              }\r\n            } else {\r\n              imageVisibility010 = \"hide\";\r\n              imageVisibility110 = \"hide\";\r\n              scaleVisibility = \"show-inline\";\r\n              scaleImageContainer = \"\";\r\n              mobileImageUrl = \"\";\r\n            }\r\n            var leftWidth;\r\n            if (question.questionTags.indexOf(\"CES\") !== -1) {\r\n\r\n\r\n              if ((window as any).isMobile) {\r\n                leftWidth = dimension * 3 + 'px';\r\n              } else {\r\n                leftWidth = 38 * 3 + \"px\";\r\n              }\r\n              for (\r\n                let initial = startRange;\r\n                initial <= endRange;\r\n                initial += divider\r\n              ) {\r\n                options +=\r\n                  '<span data-rating=\"' +\r\n                  initial +\r\n                  '\" class=\"option-number-item option-' +\r\n                  endRange +\r\n                  \"-scale-\" +\r\n                  initial +\r\n                  \" \" +\r\n                  scaleVisibility +\r\n                  '\" style=\"' +\r\n                  optionStyle +\r\n                  '\">' +\r\n                  initial +\r\n                  \"</span>\";\r\n              }\r\n            } else if (question.anchorMetricName != null) {\r\n              let metricName = question.anchorMetricName;\r\n              let customMetric = this.surveyData.customMetrics[metricName];\r\n\r\n              var cmwidthstart = customMetric.optionCategories[0].categoryRange.split(\r\n                \",\"\r\n              )[0];\r\n              var cmwidthend = customMetric.optionCategories[1].categoryRange.split(\r\n                \",\"\r\n              )[0];\r\n\r\n              if ((window as any).isMobile) {\r\n                leftWidth = (dimension + 1) * (cmwidthend - cmwidthstart) - 0.5 + 'px';\r\n              } else {\r\n                leftWidth = (cmwidthend - cmwidthstart) * 39 + \"px\";\r\n              }\r\n\r\n              for (let iterator = 0; iterator < customMetric.optionCategories.length; iterator++) {\r\n                let startRange = parseFloat(\r\n                  customMetric.optionCategories[iterator].categoryRange.split(\r\n                    \",\"\r\n                  )[0]\r\n                );\r\n                let endRange = parseFloat(\r\n                  customMetric.optionCategories[iterator].categoryRange.split(\r\n                    \",\"\r\n                  )[1]\r\n                );\r\n\r\n                imageVisibility010 = 'hide';\r\n                imageVisibility110 = 'hide';\r\n                scaleVisibility = 'show-inline';\r\n                scaleImageContainer = \"\";\r\n                mobileImageUrl = \"\";\r\n\r\n                for (\r\n                  let initial = startRange;\r\n                  initial <= endRange;\r\n                  initial += divider\r\n                ) {\r\n                  options +=\r\n                    '<span data-rating=\"' +\r\n                    initial +\r\n                    '\" class=\"option-number-item option-scale\"' +\r\n                    scaleVisibility +\r\n                    '\" style=\"background:' +\r\n                    customMetric.optionCategories[iterator].color +\r\n                    ';' + optionStyle +\r\n                    ';\">' +\r\n                    initial +\r\n                    \"</span>\";\r\n                }\r\n              }\r\n              if (!(window as any).isMobile) {\r\n                legendDimension = (endRange - startRange + 1) * 39;\r\n              }\r\n\r\n            } else {\r\n              for (\r\n                let initial = startRange;\r\n                initial <= endRange;\r\n                initial += divider\r\n              ) {\r\n                options +=\r\n                  '<span data-rating=\"' +\r\n                  initial +\r\n                  '\" class=\"option-number-item option-scale ' +\r\n                  scaleVisibility +\r\n                  '\" style=\"' +\r\n                  optionStyle +\r\n                  '\">' +\r\n                  initial +\r\n                  \"</span>\";\r\n              }\r\n              if (!(window as any).isMobile) {\r\n                legendDimension = (endRange - startRange + 1) * 39;\r\n              }\r\n            }\r\n\r\n            if (endRange - startRange + 1 <= 11) {\r\n              var optionLeftExtraClass =\r\n                \"option-left-rating-text-small-container\";\r\n              var optionMidExtraClass =\r\n                \"option-mid-rating-text-small-container\";\r\n              var optionRightExtraClass =\r\n                \"option-right-rating-text-small-container\";\r\n              var optionMaxWidth =\r\n                ((endRange - startRange + 1) * 38) / 2 - 5;\r\n              // console.log(optionMaxWidth);\r\n            }\r\n\r\n            questionTemplate = questionTemplate.replace(\r\n              \"{{legendStyle}}\",\r\n              `style=\"position:relative;width:${\r\n              mobileImageUrl ? \"100%\" : legendDimension + \"px\"\r\n              };min-height: 20px;\"`\r\n            );\r\n\r\n\r\n            questionTemplate = questionTemplate.replace(\r\n              /\\{\\{radialLegend\\}\\}/g,\r\n              mobileImageUrl ? \"radial-legend\" : \"unknown-class\"\r\n            );\r\n            questionTemplate = questionTemplate.replace(\r\n              \"{{optionsRange}}\",\r\n              options\r\n            );\r\n\r\n            questionTemplate = questionTemplate.replace(\r\n              /maxWidthMiddle/g,\r\n              mobileImageUrl ? \"35%;width:35%\" : midRangeLabel && dimension ? (dimension * middleBlock) + 'px' : (38 * middleBlock) + 'px');\r\n            // questionTemplate = questionTemplate.replace(\"{{maxWidth}}\", optionMaxWidth);\r\n            questionTemplate = questionTemplate.replace(\r\n              /maxWidthEnd/g,\r\n              mobileImageUrl ? \"35%;width:35%\" : endBlock && dimension ? (dimension * endBlock) + 'px' : endBlock ? (endBlock * 38) + 'px' : optionMaxWidth + 'px'\r\n            );\r\n\r\n            questionTemplate = questionTemplate.replace(\r\n              /maxWidth/g,\r\n              mobileImageUrl ? \"35%;width:35%\" : optionMaxWidth + 'px'\r\n            );\r\n\r\n\r\n            questionTemplate = questionTemplate.replace(\r\n              /leftWidth/g,\r\n              leftWidth\r\n            );\r\n            questionTemplate = questionTemplate.replace(\r\n              /{{optionLeftExtraClass}}/g,\r\n              optionLeftExtraClass\r\n            );\r\n            questionTemplate = questionTemplate.replace(\r\n              /{{optionMidExtraClass}}/g,\r\n              optionMidExtraClass\r\n            );\r\n            questionTemplate = questionTemplate.replace(\r\n              /{{optionRightExtraClass}}/g,\r\n              optionRightExtraClass\r\n            );\r\n            questionTemplate = questionTemplate.replace(\r\n              \"{{leftLabel}}\",\r\n              startRangeLabel\r\n            );\r\n            questionTemplate = questionTemplate.replace(\r\n              \"{{midLabel}}\",\r\n              midRangeLabel || \"\"\r\n            );\r\n            questionTemplate = questionTemplate.replace(\r\n              \"{{rightLabel}}\",\r\n              endRangeLabel\r\n            );\r\n            questionTemplate = questionTemplate.replace(\r\n              /{{mobileImageUrl}}/g,\r\n              '\"' + mobileImageUrl + '\"'\r\n            );\r\n            questionTemplate = questionTemplate.replace(\r\n              \"{{imageVisibility010}}\",\r\n              imageVisibility010\r\n            );\r\n            questionTemplate = questionTemplate.replace(\r\n              \"{{imageVisibility110}}\",\r\n              imageVisibility110\r\n            );\r\n            questionTemplate = questionTemplate.replace(\r\n              \"{{scaleImageContainer}}\",\r\n              scaleImageContainer\r\n            );\r\n          }\r\n\r\n          break;\r\n        case \"Text\":\r\n          //get text question template and compile it.\r\n          questionTemplate = templates.question_text;\r\n          questionTemplate = questionTemplate.replace(\r\n            \"{{question}}\",\r\n            ConditionalTextFilter.filterText(this, question)\r\n          );\r\n          questionTemplate = questionTemplate.replace(\r\n            /{{questionId}}/g,\r\n            \"id\" + question.id\r\n          );\r\n          questionTemplate = questionTemplate.replace(\r\n            \"{{isRequired}}\",\r\n            question.isRequired ? \"true\" : \"false\"\r\n          );\r\n          questionTemplate = questionTemplate.replace(\r\n            \"{{requiredLabel}}\",\r\n            question.isRequired ? \"*\" : \"\"\r\n          );\r\n          questionTemplate = questionTemplate.replace(\r\n            \"{{validationHint}}\",\r\n            question.validationHint ? question.validationHint : \"\"\r\n          );\r\n\r\n          break;\r\n        case \"Number\":\r\n          //get text question template and compile it.\r\n          questionTemplate = templates.question_number;\r\n          questionTemplate = questionTemplate.replace(\r\n            \"{{question}}\",\r\n            ConditionalTextFilter.filterText(this, question)\r\n          );\r\n          questionTemplate = questionTemplate.replace(\r\n            /{{questionId}}/g,\r\n            \"id\" + question.id\r\n          );\r\n          questionTemplate = questionTemplate.replace(\r\n            \"{{isRequired}}\",\r\n            question.isRequired ? \"true\" : \"false\"\r\n          );\r\n          questionTemplate = questionTemplate.replace(\r\n            \"{{requiredLabel}}\",\r\n            question.isRequired ? \"*\" : \"\"\r\n          );\r\n          questionTemplate = questionTemplate.replace(\r\n            \"{{validationHint}}\",\r\n            question.validationHint ? question.validationHint : \"\"\r\n          );\r\n          break;\r\n\r\n        case \"Date\":\r\n          questionTemplate = templates.question_date;\r\n          questionTemplate = questionTemplate.replace(\r\n            \"{{question}}\",\r\n            ConditionalTextFilter.filterText(this, question)\r\n          );\r\n          questionTemplate = questionTemplate.replace(\r\n            /{{questionId}}/g,\r\n            \"id\" + question.id\r\n          );\r\n          questionTemplate = questionTemplate.replace(\r\n            \"{{isRequired}}\",\r\n            question.isRequired ? \"true\" : \"false\"\r\n          );\r\n          questionTemplate = questionTemplate.replace(\r\n            \"{{requiredLabel}}\",\r\n            question.isRequired ? \"*\" : \"\"\r\n          );\r\n          questionTemplate = questionTemplate.replace(\r\n            \"{{validationHint}}\",\r\n            question.validationHint ? question.validationHint : \"\"\r\n          );\r\n          break;\r\n\r\n        case \"MultilineText\":\r\n          //get text question template and compile it.\r\n          questionTemplate = templates.question_multi_line_text;\r\n          questionTemplate = questionTemplate.replace(\r\n            \"{{question}}\",\r\n            ConditionalTextFilter.filterText(this, question)\r\n          );\r\n          questionTemplate = questionTemplate.replace(\r\n            /{{questionId}}/g,\r\n            \"id\" + question.id\r\n          );\r\n          questionTemplate = questionTemplate.replace(\r\n            \"{{isRequired}}\",\r\n            question.isRequired ? \"true\" : \"false\"\r\n          );\r\n          questionTemplate = questionTemplate.replace(\r\n            \"{{requiredLabel}}\",\r\n            question.isRequired ? \"*\" : \"\"\r\n          );\r\n          questionTemplate = questionTemplate.replace(\r\n            \"{{characterLimit}}\",\r\n            question.attributes && question.attributes.characterLimit\r\n              ? question.attributes.characterLimit\r\n              : \"\"\r\n          );\r\n          questionTemplate = questionTemplate.replace(\r\n            \"{{validationHint}}\",\r\n            question.validationHint ? question.validationHint : \"\"\r\n          );\r\n          break;\r\n\r\n        case \"MultiSelect\":\r\n          let acTemplate: string;\r\n          let multiSelect1;\r\n          //get text question template and compile it.\r\n          multiSelect1 = Array.prototype.slice.call(\r\n            LanguageTextFilter.translateMultiSelect(this, question)\r\n          );\r\n          if (question.presentationMode == \"Invert\") {\r\n            // console.log('selection option before reverse', multiSelect1);\r\n            multiSelect1.reverse();\r\n            // console.log('selection option after reverse', multiSelect1);\r\n            // console.log('selection api option', question.multiSelect);\r\n          }\r\n          //get text question template and compile it.\r\n          if (\r\n            (question.displayStyle == \"radiobutton/checkbox\" ||\r\n              question.displayStyle == \"icon\") &&\r\n            multiSelect1.length < 6\r\n          ) {\r\n            // (window as any).ccsdkDebug?console.log(question.displayStyle):'';\r\n            let checkOptionContainsImage: boolean = self.util.checkOptionContainsImage(\r\n              multiSelect1\r\n            );\r\n            // (window as any).ccsdkDebug?console.log('select radio image',checkOptionContainsImage):'';\r\n            if (\r\n              checkOptionContainsImage &&\r\n              ((multiSelect1.length > 0 &&\r\n                multiSelect1[0].indexOf(\"Male\") !== -1) ||\r\n                (multiSelect1.length > 0 &&\r\n                  multiSelect1[0].indexOf(\"Yes\") !== -1) ||\r\n                (multiSelect1.length > 1 &&\r\n                  multiSelect1[1].indexOf(\"Yes\") !== -1))\r\n            ) {\r\n              // (window as any).ccsdkDebug?console.log('select type 2'):'';\r\n              acTemplate = templates.question_checkbox;\r\n              let options2 = self.util.generateCheckboxImageOptions(\r\n                question.multiSelect,\r\n                multiSelect1,\r\n                question.id\r\n              );\r\n              // (window as any).ccsdkDebug?console.log(options2):'';\r\n              questionTemplate = acTemplate;\r\n              questionTemplate = questionTemplate.replace(\r\n                /{{options}}/g,\r\n                options2\r\n              );\r\n              acTemplate = questionTemplate;\r\n            } else if (checkOptionContainsImage) {\r\n              // (window as any).ccsdkDebug?console.log('select type 2'):'';\r\n              acTemplate = templates.question_checkbox;\r\n              let options2 = self.util.generateCheckboxIgnoreImageOptions(\r\n                question.multiSelect,\r\n                multiSelect1,\r\n                question.id\r\n              );\r\n              // (window as any).ccsdkDebug?console.log(options2):'';\r\n              questionTemplate = acTemplate;\r\n              questionTemplate = questionTemplate.replace(\r\n                /{{options}}/g,\r\n                options2\r\n              );\r\n              acTemplate = questionTemplate;\r\n            } else {\r\n              let options3: string = self.util.generateCheckboxOptions(\r\n                question.multiSelect,\r\n                multiSelect1,\r\n                question.id\r\n              );\r\n              // (window as any).ccsdkDebug?console.log(options2):'';\r\n              acTemplate = templates.question_checkbox;\r\n              questionTemplate = acTemplate.replace(/{{options}}/g, options3);\r\n              acTemplate = questionTemplate;\r\n            }\r\n          } else {\r\n            // (window as any).ccsdkDebug?console.log('select type 3'):'';\r\n            acTemplate = templates.question_multi_select;\r\n\r\n            // acTemplate = templates.question_select;\r\n            let options3 = self.util.generateSelectOptions(\r\n              question.multiSelect,\r\n              multiSelect1\r\n            );\r\n\r\n            if (self.ccsdk.config.language.indexOf(\"Default\") === -1) {\r\n              if (\r\n                typeof question.translated !== \"undefined\" &&\r\n                question.translated != null &&\r\n                typeof question.translated[self.ccsdk.config.language] !==\r\n                \"undefined\" &&\r\n                question.translated[self.ccsdk.config.language].multiSelect !==\r\n                \"undefined\" &&\r\n                question.translated[self.ccsdk.config.language].multiSelect\r\n                  .length > 0\r\n              ) {\r\n                multiSelect1 = Array.prototype.slice.call(\r\n                  question.translated[self.ccsdk.config.language].multiSelect\r\n                );\r\n                if (question.presentationMode == \"Invert\") {\r\n                  multiSelect1.reverse();\r\n                }\r\n                options3 = self.util.generateSelectOptions(\r\n                  question.multiSelect,\r\n                  multiSelect1\r\n                );\r\n              }\r\n            }\r\n            // questionTemplate = acTemplate;\r\n            self.ccsdk.debug ? console.log(options3) : \"\";\r\n            questionTemplate = acTemplate.replace(/{{options}}/g, options3);\r\n            acTemplate = questionTemplate;\r\n          }\r\n          questionTemplate = acTemplate;\r\n          questionTemplate = questionTemplate.replace(\r\n            \"{{question}}\",\r\n            ConditionalTextFilter.filterText(this, question)\r\n          );\r\n          questionTemplate = questionTemplate.replace(\r\n            /{{questionId}}/g,\r\n            \"id\" + question.id\r\n          );\r\n          questionTemplate = questionTemplate.replace(\r\n            \"{{isRequired}}\",\r\n            question.isRequired ? \"true\" : \"false\"\r\n          );\r\n          questionTemplate = questionTemplate.replace(\r\n            \"{{requiredLabel}}\",\r\n            question.isRequired ? \"*\" : \"\"\r\n          );\r\n\r\n          break;\r\n        case \"Select\":\r\n          let acTemplate1: string;\r\n          let acTemplate2: string;\r\n          let options1: string;\r\n          let options2: string;\r\n          let multiSelect;\r\n          //get text question template and compile it.\r\n          multiSelect = Array.prototype.slice.call(\r\n            LanguageTextFilter.translateMultiSelect(this, question)\r\n          );\r\n          let invertedMultiSelect;\r\n          if (question.presentationMode == \"Invert\") {\r\n            // console.log('selection option before reverse', multiSelect);\r\n            invertedMultiSelect = question.multiSelect\r\n              ? question.multiSelect.slice().reverse()\r\n              : [];\r\n            multiSelect.reverse();\r\n            // console.log('selection option after reverse', multiSelect);\r\n            // console.log('selection api option', question.multiSelect);\r\n          } else {\r\n            invertedMultiSelect = question.multiSelect;\r\n          }\r\n          if (\r\n            question.displayStyle == \"radiobutton/checkbox\" &&\r\n            multiSelect.length < 6\r\n          ) {\r\n            // if(question.displayStyle == 'radiobutton/checkbox'){\r\n            // (window as any).ccsdkDebug?console.log('select type 1'):'';\r\n            // (window as any).ccsdkDebug?console.log(question.displayStyle):'';\r\n            // acTemplate1 = templates.question_radio;\r\n            // questionTemplate = acTemplate1;\r\n\r\n            let checkOptionContainsImage: boolean = self.util.checkOptionContainsImage(\r\n              multiSelect\r\n            );\r\n            (window as any).ccsdkDebug\r\n              ? console.log(\"select radio image\", checkOptionContainsImage)\r\n              : \"\";\r\n            if (\r\n              checkOptionContainsImage &&\r\n              ((multiSelect.length > 0 &&\r\n                multiSelect[0].indexOf(\"Male\") !== -1) ||\r\n                (multiSelect.length > 0 &&\r\n                  multiSelect[0].indexOf(\"Yes\") !== -1) ||\r\n                (multiSelect.length > 1 &&\r\n                  multiSelect[1].indexOf(\"Yes\") !== -1))\r\n            ) {\r\n              // (window as any).ccsdkDebug?console.log('select type 2'):'';\r\n              acTemplate2 = templates.question_radio_image;\r\n\r\n              options2 = self.util.generateRadioImageOptions(\r\n                invertedMultiSelect,\r\n                multiSelect,\r\n                question.id\r\n              );\r\n              (window as any).ccsdkDebug ? console.log({ options2 }) : \"\";\r\n              questionTemplate = acTemplate2;\r\n              questionTemplate = questionTemplate.replace(\r\n                /{{options}}/g,\r\n                options2\r\n              );\r\n            } else if (checkOptionContainsImage) {\r\n              // (window as any).ccsdkDebug?console.log('select type 2'):'';\r\n              acTemplate2 = templates.question_radio_image;\r\n              options2 = self.util.generateRadioIgnoreImageOptions(\r\n                invertedMultiSelect,\r\n                multiSelect,\r\n                question.id\r\n              );\r\n              // (window as any).ccsdkDebug?console.log(options2):'';\r\n              // console.log(options2, 'radio2');\r\n\r\n              questionTemplate = acTemplate2;\r\n              questionTemplate = questionTemplate.replace(\r\n                /{{options}}/g,\r\n                options2\r\n              );\r\n            } else {\r\n              acTemplate1 = templates.question_radio;\r\n              questionTemplate = acTemplate1;\r\n\r\n              options1 = self.util.generateRadioOptions(\r\n                invertedMultiSelect,\r\n                multiSelect,\r\n                question.id\r\n              );\r\n              questionTemplate = questionTemplate.replace(\r\n                \"{{options}}\",\r\n                options1\r\n              );\r\n            }\r\n          } else if (\r\n            question.displayStyle == \"icon\" &&\r\n            multiSelect.length < 6\r\n          ) {\r\n            acTemplate1 = templates.question_radio;\r\n            questionTemplate = acTemplate1;\r\n            let invertedMultiSelect;\r\n            if (question.presentationMode == \"Invert\") {\r\n              invertedMultiSelect = question.multiSelect\r\n                ? question.multiSelect.slice().reverse()\r\n                : [];\r\n            } else {\r\n              invertedMultiSelect = question.multiSelect;\r\n            }\r\n            options1 = self.util.generateRadioOptions(\r\n              invertedMultiSelect,\r\n              multiSelect,\r\n              question.id\r\n            );\r\n            questionTemplate = questionTemplate.replace(\r\n              \"{{options}}\",\r\n              options1\r\n            );\r\n          } else {\r\n            (window as any).ccsdkDebug ? console.log(\"select type 3\") : \"\";\r\n            acTemplate1 = templates.question_select;\r\n            options1 = self.util.generateSelectOptions(\r\n              invertedMultiSelect,\r\n              multiSelect\r\n            );\r\n            if (self.ccsdk.config.language.indexOf(\"Default\") === -1) {\r\n              if (\r\n                typeof question.translated !== \"undefined\" &&\r\n                question.translated != null &&\r\n                typeof question.translated[self.ccsdk.config.language] !==\r\n                \"undefined\" &&\r\n                question.translated[self.ccsdk.config.language].multiSelect !==\r\n                \"undefined\" &&\r\n                question.translated[self.ccsdk.config.language].multiSelect\r\n                  .length > 0\r\n              ) {\r\n                multiSelect = Array.prototype.slice.call(\r\n                  question.translated[self.ccsdk.config.language].multiSelect\r\n                );\r\n                if (question.presentationMode == \"Invert\") {\r\n                  multiSelect.reverse();\r\n                }\r\n                options1 = self.util.generateSelectOptions(\r\n                  invertedMultiSelect,\r\n                  multiSelect\r\n                );\r\n              }\r\n            }\r\n            questionTemplate = acTemplate1;\r\n            questionTemplate = questionTemplate.replace(\r\n              \"{{options}}\",\r\n              options1\r\n            );\r\n          }\r\n          // console.log( questionTemplate );\r\n          questionTemplate = questionTemplate.replace(\r\n            \"{{question}}\",\r\n            ConditionalTextFilter.filterText(this, question)\r\n          );\r\n          questionTemplate = questionTemplate.replace(\r\n            /{{questionId}}/g,\r\n            \"id\" + question.id\r\n          );\r\n          questionTemplate = questionTemplate.replace(\r\n            \"{{isRequired}}\",\r\n            question.isRequired ? \"true\" : \"false\"\r\n          );\r\n          questionTemplate = questionTemplate.replace(\r\n            \"{{requiredLabel}}\",\r\n            question.isRequired ? \"*\" : \"\"\r\n          );\r\n          // (window as any).ccsdkDebug?console.log(questionTemplate):'';\r\n\r\n          break;\r\n        case \"Smile-5\":\r\n          //get text question template and compile it.\r\n          if (question.presentationMode == \"Invert\") {\r\n            questionTemplate = templates.question_smile_5_inverted;\r\n          } else {\r\n            questionTemplate = templates.question_smile_5;\r\n          }\r\n          // let startRangeLabel = \"Very unlikely\";\r\n          // let endRangeLabel = \"Very likely\";\r\n          let startRangeLabel = \"\";\r\n          let endRangeLabel = \"\";\r\n          let displayLegend2 = LanguageTextFilter.translateDisplayLegend(\r\n            this,\r\n            question\r\n          );\r\n\r\n          if (displayLegend2) {\r\n            if (displayLegend2.length > 0) {\r\n              startRangeLabel = displayLegend2[0] ? displayLegend2[0] : null;\r\n              endRangeLabel = displayLegend2[1] ? displayLegend2[1] : null;\r\n            }\r\n          }\r\n          startRangeLabel = startRangeLabel == null ? \"\" : startRangeLabel;\r\n          endRangeLabel = endRangeLabel == null ? \"\" : endRangeLabel;\r\n          questionTemplate = questionTemplate.replace(\r\n            \"{{question}}\",\r\n            ConditionalTextFilter.filterText(this, question)\r\n          );\r\n          questionTemplate = questionTemplate.replace(\r\n            /{{questionId}}/g,\r\n            \"id\" + question.id\r\n          );\r\n          questionTemplate = questionTemplate.replace(\r\n            \"{{isRequired}}\",\r\n            question.isRequired ? \"true\" : \"false\"\r\n          );\r\n          questionTemplate = questionTemplate.replace(\r\n            \"{{requiredLabel}}\",\r\n            question.isRequired ? \"*\" : \"\"\r\n          );\r\n          questionTemplate = questionTemplate.replace(\r\n            \"{{leftLabel}}\",\r\n            startRangeLabel\r\n          );\r\n          questionTemplate = questionTemplate.replace(\r\n            \"{{rightLabel}}\",\r\n            endRangeLabel\r\n          );\r\n          break;\r\n        case \"Star-5\":\r\n          //get text question template and compile it.\r\n          let startRangeLabel1 = \"\";\r\n          let endRangeLabel1 = \"\";\r\n          let displayLegend3 = LanguageTextFilter.translateDisplayLegend(\r\n            this,\r\n            question\r\n          );\r\n\r\n          if (displayLegend3) {\r\n            if (displayLegend3.length > 0) {\r\n              startRangeLabel1 = displayLegend3[0] ? displayLegend3[0] : null;\r\n              endRangeLabel1 = displayLegend3[1] ? displayLegend3[1] : null;\r\n            }\r\n          }\r\n          startRangeLabel1 = startRangeLabel1 == null ? \"\" : startRangeLabel1;\r\n          endRangeLabel1 = endRangeLabel1 == null ? \"\" : endRangeLabel1;\r\n          questionTemplate = templates.question_star_5;\r\n          questionTemplate = questionTemplate.replace(\r\n            \"{{question}}\",\r\n            ConditionalTextFilter.filterText(this, question)\r\n          );\r\n          questionTemplate = questionTemplate.replace(\r\n            /{{questionId}}/g,\r\n            \"id\" + question.id\r\n          );\r\n          questionTemplate = questionTemplate.replace(\r\n            \"{{isRequired}}\",\r\n            question.isRequired ? \"true\" : \"false\"\r\n          );\r\n          questionTemplate = questionTemplate.replace(\r\n            \"{{requiredLabel}}\",\r\n            question.isRequired ? \"*\" : \"\"\r\n          );\r\n          questionTemplate = questionTemplate.replace(\r\n            \"{{leftLabel}}\",\r\n            startRangeLabel1\r\n          );\r\n          questionTemplate = questionTemplate.replace(\r\n            \"{{rightLabel}}\",\r\n            endRangeLabel1\r\n          );\r\n          break;\r\n      }\r\n    }\r\n    return questionTemplate;\r\n  }\r\n\r\n  questionCompare(a: any, b: any) {\r\n    return a.sequence - b.sequence;\r\n  }\r\n\r\n  getAnswerTypeFromDisplayType(displayType: string) {\r\n    // console.log('question type',displayType);\r\n    let type: string;\r\n    switch (displayType) {\r\n      case \"Slider\":\r\n        type = \"number\";\r\n        break;\r\n      case \"Scale\":\r\n        type = \"number\";\r\n        break;\r\n      case \"Text\":\r\n        type = \"text\";\r\n        break;\r\n      case \"Number\":\r\n        type = \"number\";\r\n        break;\r\n      case \"MultilineText\":\r\n        type = \"text\";\r\n        break;\r\n      case \"MultiSelect\":\r\n        type = \"text\";\r\n        break;\r\n      case \"Select\":\r\n        type = \"text\";\r\n        break;\r\n      case \"Dropdown\":\r\n        type = \"text\";\r\n        break;\r\n      case \"Smile-5\":\r\n        type = \"number\";\r\n        break;\r\n      case \"Star-5\":\r\n        type = \"number\";\r\n        break;\r\n      case \"Date\":\r\n        type = \"number\";\r\n        break;\r\n      default:\r\n        type = \"text\";\r\n        break;\r\n    }\r\n\r\n    return type;\r\n  }\r\n\r\n  /**\r\n   *\r\n   * filterQuestions - filters questions so that we don't display the one which satisifes any of the following condition\r\n   *  isRetired = true\r\n   *  statffFill = true\r\n   *  apiFill = true\r\n   *  preFill = true\r\n   *\r\n   * @param {any} question\r\n   * @returns\r\n   * @memberof Survey\r\n   */\r\n  filterQuestions() {\r\n    let self = this;\r\n    this.prefillResponses = [];\r\n    this.questionsToDisplay = [];\r\n    for (let question of this.questions) {\r\n      if (!question.isRetired) {\r\n        //filter out prefill question only if it is filled?.\r\n        // if(!this.isQuestionFilled(question)){\r\n        if (this.isPrefillTags(question)) {\r\n          self.ccsdk.debug\r\n            ? console.log(\"prefillTags\", this.prefillResponses)\r\n            : \"\";\r\n          continue;\r\n        }\r\n        if (this.isPrefillNote(question)) {\r\n          self.ccsdk.debug ? console.log(this.prefillResponses) : \"\";\r\n          continue;\r\n        }\r\n        if (this.isPrefillDirect(question)) {\r\n          self.ccsdk.debug ? console.log(this.prefillResponses) : \"\";\r\n          continue;\r\n        }\r\n        if (!this.isPrefillQuestion(question)) {\r\n          if (\r\n            question.conditionalFilter === null ||\r\n            (question.conditionalFilter != null &&\r\n              (question.conditionalFilter.filterquestions == null ||\r\n                question.conditionalFilter.filterquestions.length == 0))\r\n          ) {\r\n            //check supported display types\r\n            let supportedDisplayTypes =\r\n              \"Slider, Scale, Text, Number, MultilineText, MultiSelect, Smile-5, Star-5, Date\";\r\n            if (supportedDisplayTypes.indexOf(question.displayType) > -1) {\r\n              this.questionsToDisplay.push(question);\r\n            }\r\n          } else {\r\n            //if conditions full filled, fill it in questionsToDisplay\r\n            if (ConditionalFlowFilter.filterQuestion(this, question)) {\r\n              //auto does that\r\n            } else {\r\n              this.conditionalQuestions.push(question);\r\n            }\r\n          }\r\n        } else {\r\n          this.fillPrefillWithTags(question);\r\n          this.fillPrefillWithNote(question);\r\n          ConditionalFlowFilter.filterQuestion(this, question);\r\n        }\r\n        // }\r\n      }\r\n    }\r\n    //re condition questions.\r\n    for (let question of this.questions) {\r\n      // console.log(this.questionsToDisplay);\r\n      ConditionalFlowFilter.filterQuestion(this, question);\r\n    }\r\n    //sort questions and display them?\r\n    this.questionsToDisplay = this.questionsToDisplay.sort(\r\n      this.questionCompare\r\n    );\r\n    // console.log(this.conditionalQuestions);\r\n  }\r\n\r\n  isPrefillTags(question: any) {\r\n    if (\r\n      typeof question.questionTags !== \"undefined\" &&\r\n      question.questionTags &&\r\n      question.questionTags.length > 0\r\n    ) {\r\n      for (let tag of question.questionTags) {\r\n        switch (tag.toLowerCase()) {\r\n          case \"screensize\":\r\n            //add size to prefill array\r\n            this.fillPrefillQuestion(\r\n              question.id,\r\n              \"Width:\" +\r\n              window.innerWidth +\r\n              \"px / Height:\" +\r\n              window.innerHeight +\r\n              \"px\",\r\n              \"text\"\r\n            );\r\n            return true;\r\n          // Token prefill\r\n          case 'cc_token':\r\n            this.fillPrefillQuestion(\r\n              question.id,\r\n              this.surveyToken,\r\n              'text'\r\n            );\r\n            return true;\r\n          // Channel prefill\r\n          case 'cc_channel':\r\n            this.fillPrefillQuestion(\r\n              question.id,\r\n              'MicroSurvey',\r\n              'text'\r\n            );\r\n            return true;\r\n          // currentURL\r\n          case 'cc_currenturl':\r\n            this.fillPrefillQuestion(\r\n              question.id,\r\n              window.location.href,\r\n              'text'\r\n            );\r\n            return true;\r\n          // partial response\r\n          case 'cc_partialresponseid':\r\n            this.fillPrefillQuestion(\r\n              question.id,\r\n              this.surveyData.partialResponseId,\r\n              'text'\r\n            );\r\n            return true;\r\n          default:\r\n            if (typeof this.prefillWithTags[tag.toLowerCase()] != \"undefined\") {\r\n              let type = this.getAnswerTypeFromDisplayType(\r\n                question.displayType\r\n              );\r\n              this.fillPrefillQuestion(\r\n                question.id,\r\n                this.prefillWithTags[tag.toLowerCase()],\r\n                type\r\n              );\r\n              return true;\r\n            }\r\n        }\r\n      }\r\n    }\r\n    return false;\r\n  }\r\n  isPrefillNote(question: any) {\r\n    if (\r\n      typeof question.note !== \"undefined\" &&\r\n      question.note != null &&\r\n      question.note.length > 0 &&\r\n      this.prefillWithNote[question.note.toLowerCase()]\r\n    ) {\r\n      let type = this.getAnswerTypeFromDisplayType(question.displayType);\r\n      this.fillPrefillQuestion(\r\n        question.id,\r\n        this.prefillWithNote[question.note.toLowerCase()],\r\n        type\r\n      );\r\n      return true;\r\n    }\r\n    return false;\r\n  }\r\n\r\n  isPrefillDirect(question: any) {\r\n    if (typeof question !== \"undefined\" && this.prefillDirect[question.id]) {\r\n      let type = this.getAnswerTypeFromDisplayType(question.displayType);\r\n      this.fillPrefillQuestion(\r\n        question.id,\r\n        this.prefillDirect[question.id],\r\n        type\r\n      );\r\n      return true;\r\n    }\r\n    return false;\r\n  }\r\n\r\n  fillPrefillWithTags(question: any) {\r\n    (window as any).ccsdkDebug\r\n      ? console.log(\"fillprefillwithtags\", this.prefillWithTags)\r\n      : \"\";\r\n    if (\r\n      typeof question.questionTags !== \"undefined\" &&\r\n      question.questionTags.length > 0\r\n    ) {\r\n      for (let tag of question.questionTags) {\r\n        (window as any).ccsdkDebug\r\n          ? console.log(\"fillprefillwithtags\", tag)\r\n          : \"\";\r\n        if (typeof this.prefillWithTags[tag.toLowerCase()] !== \"undefined\") {\r\n          (window as any).ccsdkDebug\r\n            ? console.log(\r\n              \"prefil \",\r\n              tag.toLowerCase(),\r\n              this.prefillWithTags[tag.toLowerCase()],\r\n              this.prefillWithTags\r\n            )\r\n            : \"\";\r\n\r\n          let type = this.getAnswerTypeFromDisplayType(question.displayType);\r\n          this.fillPrefillQuestion(\r\n            question.id,\r\n            this.prefillWithTags[tag.toLowerCase()],\r\n            type\r\n          );\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  fillPrefillWithNote(question: any) {\r\n    if (\r\n      typeof question.note !== \"undefined\" &&\r\n      question.note != null &&\r\n      question.note.length > 0\r\n    ) {\r\n      if (\r\n        typeof this.prefillWithNote[question.note.toLowerCase()] !== \"undefined\"\r\n      ) {\r\n        let type = this.getAnswerTypeFromDisplayType(question.displayType);\r\n        this.fillPrefillQuestion(\r\n          question.id,\r\n          this.prefillWithNote[question.note.toLowerCase()],\r\n          type\r\n        );\r\n      }\r\n    }\r\n  }\r\n\r\n  getConditionalSurveyQuestions(): any {\r\n    return this.conditionalQuestions;\r\n  }\r\n\r\n  isPrefillQuestion(question: any) {\r\n    if (question.apiFill == true) {\r\n      return true;\r\n    }\r\n    if (question.staffFill == true) {\r\n      return true;\r\n    }\r\n    return false;\r\n  }\r\n\r\n  isQuestionFilled(question: any) {\r\n    for (let response of this.prefillResponses) {\r\n      if (response.questionId == question.questionId) {\r\n        return true;\r\n      }\r\n    }\r\n    return false;\r\n  }\r\n\r\n  removePrevListener(id: string): boolean {\r\n    for (let listener of this.domListeners) {\r\n      if (listener.id == id) {\r\n        let index = this.domListeners.indexOf(listener);\r\n        (window as any).ccsdkDebug ? console.log(\"removing listener\", id) : \"\";\r\n        (window as any).ccsdkDebug\r\n          ? console.log(\"removing listener index\", index)\r\n          : \"\";\r\n        this.util.removeListener(\r\n          document.querySelectorAll(\"body\")[0],\r\n          listener.type,\r\n          listener.internalHandler\r\n        );\r\n        if (index > -1) {\r\n          this.domListeners.splice(index, 1);\r\n        }\r\n        (window as any).ccsdkDebug ? console.log(this.domListeners) : \"\";\r\n      }\r\n    }\r\n    return true;\r\n  }\r\n\r\n  destroySurvey() {\r\n    let self: SurveyHandler = this;\r\n    document.addEventListener(\"ccclose\", this.destroySurveyCb);\r\n  }\r\n\r\n  destroy() {\r\n    let surveyContainer = this.ccsdk.dom.getSurveyContainer(this.surveyToken);\r\n    let welcomeContainer = this.ccsdk.dom.getWelcomeContainer(this.surveyToken);\r\n    if (typeof surveyContainer != \"undefined\") {\r\n      this.util.remove(surveyContainer);\r\n    }\r\n    if (typeof welcomeContainer != \"undefined\") {\r\n      this.util.remove(welcomeContainer);\r\n    }\r\n    document.removeEventListener(\"ccclose\", this.destroySurveyCb);\r\n    document.removeEventListener(\"ccdone\", this.displayThankYouCb);\r\n    document.removeEventListener(\"q-answered\", this.acceptAnswersCb);\r\n    (window as any).globalSurveyRunning = false;\r\n    // let bodyElement = <HTMLElement>document.\r\n    //   getElementsByTagName( \"body\" )[ 0 ];\r\n    // this.util.removeClass( bodyElement, \"blurr\" );\r\n  }\r\n}\r\n\r\nexport { SurveyHandler };\r\n","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../node_modules/rtl-css-loader/index.js!../../node_modules/sass-loader/lib/loader.js!./main.scss\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// Prepare cssTransformation\nvar transform;\n\nvar options = {}\noptions.transform = transform\n// add the styles to the DOM\nvar update = require(\"!../../node_modules/style-loader/lib/addStyles.js\")(content, options);\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../node_modules/rtl-css-loader/index.js!../../node_modules/sass-loader/lib/loader.js!./main.scss\", function() {\n\t\t\tvar newContent = require(\"!!../../node_modules/rtl-css-loader/index.js!../../node_modules/sass-loader/lib/loader.js!./main.scss\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../node_modules/rtl-css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, typeof document !== 'undefined' && document.getElementsByTagName('html')[0].getAttribute('dir') === 'rtl' ? \".cc-sdk ul{padding-right:0;list-style-type:none;margin:0}.cc-sdk a,.cc-sdk a:focus,.cc-sdk a:hover{text-decoration:none;color:inherit}.cc-sdk *,.cc-sdk :after,.cc-sdk :before{box-sizing:border-box}.cc-sdk p{color:inherit;margin:0}.cc-sdk map area{outline:0;cursor:pointer}.cc-sdk map area.selected{outline:0;outline-color:#0a2135;outline-width:0;outline-style:solid}.cc-sdk map area:hover{outline:1}.cc-sdk label{margin-bottom:0;font-weight:400}.cc-sdk input,.cc-sdk textarea{padding:0;border:none;width:auto;margin-top:0;font-size:inherit;font-style:inherit;font-weight:inherit;color:inherit;outline:none}.cc-sdk p{font-size:inherit}.cc-sdk.cc-popup-container{background:#fff;box-shadow:0 0 4px 5px rgba(0,0,0,.05);font-family:open sans,sans-serif;position:fixed;text-align:center;max-width:500px;max-height:500px;z-index:1111}@media (min-width:768px){.cc-sdk.cc-popup-container{padding:10px}}.cc-sdk.cc-popup-container.bottom{margin-bottom:9px}.cc-sdk.cc-popup-container.top{margin-top:9px}.cc-sdk #cc-thankyou-container .cc-question-container__text p{word-break:break-word}.cc-sdk #cc-thankyou-container .cc-question-container__text,.cc-sdk #cc-thankyou-container .cc-question-container__text p{width:400px;max-width:none;font-size:17px;color:#424242}.cc-sdk .cc-message-box{position:relative;z-index:11}.cc-sdk .cc-message-box__text{color:#424242;font-size:14px;font-weight:600;margin:0;padding:29px 14px 20px;vertical-align:middle}.cc-sdk .cc-message-box__btn{background:#fdaf19;border-radius:100px;display:inline-block;font-size:15px;font-weight:700;height:32px;padding:6px 0;width:124px;text-align:center}.cc-sdk.cc-popup-container .cc-popup-container__close{cursor:pointer;margin:4px;position:absolute;left:0;top:0;z-index:111}.cc-sdk .cc-popup-container-2{height:144px;position:fixed;width:100%;z-index:1111}.cc-sdk .cc-popup-container-2.bottom{bottom:0}.cc-sdk .cc-popup-container-2__icons{cursor:pointer;padding:8px;position:absolute;top:0;z-index:111}.cc-sdk .top.cc-popup-container-2 .cc-popup-container-2__icons{padding-top:15px}.cc-sdk .cc-popup-container-2__icons.cc-right-icon{left:0}.cc-sdk .cc-popup-container-2__icons.cc-left-icon{right:0}.cc-sdk .cc-popup-container__back{background-image:url(https://cx.getcloudcherry.com/microsurvey-assets/Back_Icon_.svg);display:inline-block;width:21px;height:21px}.cc-sdk .cc-question-container{padding:20px 20px 25px;position:absolute;text-align:center;width:100%;z-index:11;top:0;right:0}.cc-sdk .cc-question-container__text{color:#424242;display:inline-block;font-size:15px;font-weight:600;max-width:230px;padding:8px 0;text-align:center;vertical-align:middle;width:20%;position:relative}.cc-sdk .cc-question-container__text p{word-break:break-word}.cc-sdk .cc-question-container[data-type=csat] .cc-question-container__text{width:11em}.cc-sdk .cc-question-container[data-type=csat] .cc-question-container__list{width:64vw}.cc-sdk .cc-question-container__required,.cc-sdk .cc-question-container__validation{position:absolute;top:-14px;font-size:11px;right:0;width:100%;left:0;font-weight:400;color:#c1272d;display:none}.cc-sdk .cc-question-container__required-label{display:inline-block;position:relative;top:-2px;right:-2px}.cc-sdk .cc-question-container__content{display:inline-block;max-width:78%;vertical-align:middle;width:auto}.cc-sdk .cc-question-container__list li{display:inline-block;padding-right:29px;vertical-align:middle}.cc-sdk .cc-question-container__list li span{display:table-cell;font-size:15px;padding-right:15px;text-align:right;vertical-align:middle;width:125px}.cc-sdk .cc-question-container__list li input{vertical-align:middle}.cc-sdk .cc-question-container:before{content:\\\"\\\";display:inline-block;height:100%;margin-left:-4px;vertical-align:middle}.cc-sdk .cc-question-container{height:100%;vertical-align:middle}.cc-sdk .cc-questions-container{height:100%}.cc-sdk p.cc-thankyou-powered{font-size:13px!important;color:#404040!important;font-style:italic;margin-top:4px}.cc-sdk p.cc-thankyou-powered.no-branding{display:none}.cc-sdk .cc-thankyou-powered .cc-thankyou-logo{background:url(\\\"https://cx.getcloudcherry.com/microsurvey-assets/cc-thankyou-logo.svg\\\");background-size:cover;margin-left:8px;display:inline-block;width:16px;height:16px}.cc-sdk .multiline-box{background:#fff;border-radius:2px;border:1px solid #6d6d6d;font-family:Open Sans;font-size:15px;height:70px;margin:0 50px 0 0;min-width:600px;padding:2px 5px;resize:none}.cc-sdk .multiline-box:focus{outline:0}.cc-sdk .detail-box .cc-question-container__text p{font-size:13px;font-weight:700}.cc-sdk .detail-box .cc-question-container__text span{display:inline-block;font-size:15px;font-weight:400}.cc-sdk .detail-box .cc-question-container__text{height:56px}.cc-sdk .detail-box[data-type=singleline] .cc-question-container__text{margin-left:20px}.cc-sdk .detail-box .cc-question-container__content .cc-sdk-form-control,.cc-sdk .single-line .cc-question-container__content .cc-sdk-form-control{background:transparent;border:none;border-bottom:1px solid #6d6d6d;font-family:open sans;font-size:15px;line-height:26px;outline:0;width:300px;margin-right:70px}.cc-sdk .d-star-box.detail-box .cc-question-container__text{height:92px}.cc-sdk .hl.dropdown{background-image:url(\\\"https://cx.getcloudcherry.com/microsurvey-assets/arrow-down.black.svg\\\");background-position:3%;background-repeat:no-repeat;border-bottom:1px solid #6d6d6d;display:inline-block;padding:5px;position:relative;text-align:right;width:300px}.cc-sdk .drop-cc-question-container .cc-question-container__text{margin-left:20px}.cc-sdk .cc-sdk-form-control:focus{border-color:#fcaf18}.cc-sdk .detail-box .cc-question-container__content{padding-right:0}.cc-sdk .cc-big-list-container .cc-question-container__list{display:table;width:100%}.cc-sdk .cc-big-list-container .cc-question-container__list li{display:table-cell;vertical-align:middle}.cc-sdk .cc-thankyou-container{width:100%!important}.cc-sdk .submit-icon{direction:rtl;position:absolute;left:0;top:0;bottom:0;margin:auto 0;z-index:11;margin-left:75px;font-size:16px;cursor:pointer;width:47px;height:47px}@media (min-width:1000px){.cc-sdk .cc-big-list-container .cc-question-container__list li span label{overflow:hidden;max-height:100px;display:block}}@media (min-width:769px) and (max-width:875px){.cc-sdk .cc-question-container__list li{padding-right:0!important}}@media (min-width:769px) and (max-width:1024px){.cc-sdk .cc-popup-container-2{height:200px}.cc-sdk .cc-big-list-container .cc-question-container__list,.cc-sdk .cc-question-container__list{text-align:right}.cc-sdk .cc-big-list-container .cc-question-container__list li,.cc-sdk .cc-question-container__list li{display:inline-block;margin-bottom:15px;vertical-align:middle;width:49%}.cc-sdk .cc-question-container__content{display:inline-block;width:45%}.cc-sdk .multiline-box{min-width:100%;margin:0}.cc-sdk .option-smile-box img,.cc-sdk .option-star-box img{margin-left:11px!important}.cc-sdk .cc-thankyou-container .cc-question-container__text,.cc-sdk .cc-thankyou-container .cc-question-container__text p{width:100%!important;text-align:center;margin:0!important;padding:0;line-height:normal;height:auto}.cc-sdk .cc-thankyou-container .cc-question-container__text{max-width:98%}}@media (min-width:1000px){.cc-sdk .cc-question-container__text p{max-height:100px;overflow:hidden;max-width:140ch}.cc-sdk .cc-question-container__text p.ellipsis:after{content:\\\"...\\\";text-align:left;bottom:9px;left:-3px;width:12px;display:block;position:absolute;height:1.2em}}@media (min-width:769px) and (max-width:992px){.cc-sdk .cc-question-container{width:100%;margin:auto}.cc-sdk .cc-question-container__text{width:24%;padding-left:20px}.cc-sdk .cc-question-container__text p{max-height:110px;overflow:hidden}.cc-sdk .cc-question-container__content.rating-color{margin-right:0}.cc-sdk .submit-icon{margin-left:40px!important}.cc-sdk .cc-question-container__content.rating-color{margin-right:0!important}.cc-sdk .cc-question-container__content{width:50%!important}}@media (max-width:768px){.cc-sdk .cc-survey-container,.cc-sdk .cc-survey-content{height:100%}.cc-sdk .cc-popup-container-2{bottom:auto;height:100%;top:0}.cc-sdk .cc-popup-container-2__icons.cc-right-icon{right:auto;left:0;padding:0}.cc-sdk .cc-popup-container-2__icons.cc-left-icon{right:0;left:auto;padding:0}.cc-sdk .cc-big-list-container .cc-question-container__list li,.cc-sdk[dir=rtl] .cc-big-list-container .cc-question-container__list li{display:block}.cc-sdk .radio-toggle--more-option li span{width:84%!important;padding-right:25px!important}.cc-sdk .radio-toggle--more-option li{padding-left:0!important;display:block!important;padding-top:10px}.cc-sdk .detail-box .cc-question-container__content{padding-right:0}.cc-sdk .cc-question-container{bottom:75px;height:auto;right:0;padding:40px 20px;position:absolute;text-align:right;top:auto;width:100%}.cc-sdk .cc-question-container__text{font-size:18px;margin-bottom:20px;max-width:400px;text-align:right;width:100%}.cc-sdk .cc-question-container__content{display:block;max-width:100%;width:100%}.cc-sdk .cc-question-container__list label{display:block}.cc-sdk .cc-question-container__list li span{width:auto;padding-right:15px}.cc-sdk .cc-question-container__list li{padding-right:0;margin-bottom:10px;display:block}.cc-sdk .cc-popup-container-2__icons{margin:20px}.cc-sdk .cc-popup-container-2__icons.left-icon{right:auto;left:0}.cc-sdk .cc-popup-container-2__icons.right-icon{left:auto;right:0}.cc-sdk .cc-popup-container__close{width:27px}.cc-sdk .cc-question-container__content.rating-color{margin-right:0!important}.cc-sdk .cc-question-container[data-type=nps] .cc-question-container__content,.cc-sdk .cc-question-container[data-type=scale] .cc-question-container__content{width:100%!important}.cc-sdk .multiline-box{height:150px;margin:0;min-width:100%;width:100%}.cc-sdk .detail-box .cc-question-container__content .cc-sdk-form-control,.cc-sdk .hl.dropdown{width:100%}.cc-sdk .detail-box .cc-question-container__text p{font-size:18px}.cc-sdk .mobile-detail-box .cc-question-container__text{height:auto}.cc-sdk .cc-question-container__text p{max-height:auto}.cc-sdk .welcome-box .cc-question-container__text p{color:#fff}.cc-sdk .cc-questions-container{height:100%;position:relative}.cc-sdk .cc-message-box__btn{margin-right:20px}}@media (max-width:768px){.cc-sdk .detail-box .cc-question-container__content .cc-sdk-form-control,.cc-sdk .single-line .cc-question-container__content .cc-sdk-form-control{margin-right:0}.cc-sdk .submit-icon{position:absolute;right:20px;top:auto;bottom:30px;padding-left:0}.cc-sdk.cc-popup-container{position:fixed;bottom:0;right:0;left:0;margin:0!important;width:100%;height:13em;max-width:100%;max-height:100%;text-align:right;background:transparent}.cc-sdk.cc-popup-container .cc-message-box{position:absolute;bottom:20%}.cc-sdk.cc-popup-container .cc-message-box .cc-message-box__text{font-size:20px}.cc-sdk.cc-popup-container .cc-message-box .submit-icon{position:absolute;bottom:-100%;top:auto;right:0;margin:0 14px}.cc-sdk.cc-popup-container .cc-popup-container__close{margin:20px;left:0;top:0}.cc-sdk.cc-popup-container__back{background-image:url(https://cx.getcloudcherry.com/microsurvey-assets/Back_Icon_.svg);display:inline-block;width:27px;height:27px;background-size:100%}.cc-sdk .cc-thankyou-container .cc-question-container__text,.cc-sdk .cc-thankyou-container .cc-question-container__text p{width:100%!important;text-align:center;margin:0!important;padding:0;line-height:normal;height:auto}.cc-sdk .cc-thankyou-container .cc-question-container__text{max-width:98%}}.date-s,.date-y{display:inline-block;margin:0 12px!important;width:80px!important}.date-error{color:red;font-style:italic;visibility:hidden;margin-top:12px}.date-error.show-error{visibility:visible}[dir=rtl].cc-sdk ul{padding-left:0}[dir=rtl].cc-sdk.cc-popup-container .cc-popup-container__close{left:auto;right:0;top:0}[dir=rtl].cc-sdk.cc-popup-container .cc-message-box .cc-message-box__text{text-align:left}[dir=rtl].cc-sdk .cc-popup-container__back{background-image:url(https://cx.getcloudcherry.com/microsurvey-assets/Back_Icon_rtl_.svg)}[dir=rtl].cc-sdk .cc-popup-container-2__icons.cc-right-icon{left:auto;right:0}[dir=rtl].cc-sdk .cc-popup-container-2__icons.cc-left-icon{left:0;right:auto}[dir=rtl].cc-sdk.cc-question-container{margin-right:0;margin-left:0;left:0;right:auto}[dir=rtl].cc-sdk .cc-question-container__required,[dir=rtl].cc-sdk .cc-question-container__validation{left:0;right:auto}[dir=rtl].cc-sdk .cc-question-container__required-label{top:-2px;left:-2px;right:auto}[dir=rtl].cc-sdk .cc-question-container__list li{display:inline-block;padding-left:15px!important;padding-right:15px!important;vertical-align:middle}[dir=rtl].cc-sdk .cc-question-container[data-type=checkbox] .cc-question-container__list li{padding-left:0!important}[dir=rtl].cc-sdk .cc-question-container__list li span{padding-left:15px;padding-right:0;text-align:left}[dir=rtl].cc-sdk .cc-question-container:before{margin-right:-4px;margin-left:0}[dir=rtl].cc-sdk .multiline-box{margin:0 0 0 50px}[dir=rtl].cc-sdk .hl.dropdown{background-position:3%;text-align:left}[dir=rtl].cc-sdk .drop-cc-question-container .cc-question-container__text{margin-right:20px;margin-left:0}[dir=rtl].cc-sdk .detail-box .cc-question-container__content{padding-left:0;padding-right:0}[dir=rtl].cc-sdk .cc-question-container__content{text-align:left}@media (min-width:769px) and (max-width:1024px){[dir=rtl].cc-sdk .cc-big-list-container .cc-question-container__list,[dir=rtl].cc-sdk .cc-question-container__list{text-align:left}[dir=rtl].cc-sdk .multiline-box{margin:0}}@media (min-width:769px) and (max-width:992px){[dir=rtl].cc-sdk .cc-question-container__text{padding-right:20px;padding-left:0}[dir=rtl].cc-sdk .cc-question-container__content.rating-color{margin-right:0;margin-left:0}}@media (max-width:768px){[dir=rtl].cc-sdk .cc-popup-container-2__icons.cc-right-icon{right:0;left:auto}[dir=rtl].cc-sdk .cc-popup-container-2__icons.cc-left-icon{right:auto;left:0}[dir=rtl].cc-sdk .radio-toggle--more-option li span{padding-left:25px!important;padding-right:0!important}[dir=rtl].cc-sdk .radio-toggle--more-option li{padding-left:0!important;padding-right:0!important}[dir=rtl].cc-sdk .detail-box .cc-question-container__content{padding-right:0;padding-left:0}[dir=rtl].cc-sdk .cc-question-container{right:auto;left:0}[dir=rtl].cc-sdk .multiline-box{margin:0}[dir=rtl].cc-sdk .cc-question-container__text{text-align:left;width:100%;margin-left:5px;max-width:100%}[dir=rtl].cc-sdk .cc-question-container__list li span{padding-left:15px;padding-right:0}[dir=rtl].cc-sdk .cc-question-container__list li{padding-right:0;padding-left:0}[dir=rtl].cc-sdk .cc-popup-container-2__icons.left-icon{right:0;left:auto}[dir=rtl].cc-sdk .cc-popup-container-2__icons.right-icon{left:0;right:auto}[dir=rtl].cc-sdk .cc-question-container__content.rating-color{margin-right:0!important;margin-left:0!important}}.cc-sdk .option-number-item{color:#fff;float:right;font-size:13px;height:38px;box-sizing:border-box;padding-top:10px;text-align:center;width:8.5%;margin-right:1px;margin-left:0;cursor:pointer}.cc-sdk .option-number-item.option-zero{background:#853838}.cc-sdk .option-number-item.option-zero.selected,.cc-sdk .option-number-item.option-zero:hover{background:#572526}.cc-sdk .option-number-item.option-one{background:#9e4343}.cc-sdk .option-number-item.option-one.selected,.cc-sdk .option-number-item.option-one:hover{background:#642728}.cc-sdk .option-number-item.option-two{background:#c14d4d}.cc-sdk .option-number-item.option-two.selected,.cc-sdk .option-number-item.option-two:hover{background:#712827}.cc-sdk .option-number-item.option-three{background:#d94d4d}.cc-sdk .option-number-item.option-three.selected,.cc-sdk .option-number-item.option-three:hover{background:#7c2828}.cc-sdk .option-number-item.option-four{background:#ee4d4d}.cc-sdk .option-number-item.option-four.selected,.cc-sdk .option-number-item.option-four:hover{background:#852828}.cc-sdk .option-number-item.option-five{background:#ff4d4d}.cc-sdk .option-number-item.option-five.selected,.cc-sdk .option-number-item.option-five:hover{background:#844828}.cc-sdk .option-number-item.option-six{background:#ff8c4d}.cc-sdk .option-number-item.option-six.selected,.cc-sdk .option-number-item.option-six:hover{background:#844828}.cc-sdk .option-number-item.option-seven{background:#ffc74d}.cc-sdk .option-number-item.option-seven.selected,.cc-sdk .option-number-item.option-seven:hover{background:#856728}.cc-sdk .option-number-item.option-eight{background:#f5eb4d}.cc-sdk .option-number-item.option-eight.selected,.cc-sdk .option-number-item.option-eight:hover{background:#7f7a28}.cc-sdk .option-number-item.option-nine{background:#73ca81}.cc-sdk .option-number-item.option-nine.selected,.cc-sdk .option-number-item.option-nine:hover{background:#3b6942}.cc-sdk .option-number-item.option-ten{background:#4db47c}.cc-sdk .option-number-item.option-ten.selected,.cc-sdk .option-number-item.option-ten:hover{background:#285e40}.cc-sdk .option-number-item.option-7-scale-1,.cc-sdk .option-number-item.option-7-scale-2,.cc-sdk .option-number-item.option-7-scale-3{background:#ed534f}.cc-sdk .option-number-item.option-7-scale-4,.cc-sdk .option-number-item.option-7-scale-5{background:#ffbc00}.cc-sdk .option-number-item.option-7-scale-6,.cc-sdk .option-number-item.option-7-scale-7{background:#4db47c}.cc-sdk .option-number-item.option-5-scale-1,.cc-sdk .option-number-item.option-5-scale-2{background:#ed534f}.cc-sdk .option-number-item.option-5-scale-3{background:#ffbc00}.cc-sdk .option-number-item.option-5-scale-4,.cc-sdk .option-number-item.option-5-scale-5{background:#4db47c}.cc-sdk .cc-question-container[data-type=nps] .option-number-item{width:calc(9.09% - 1px)}.cc-sdk .cc-question-container[data-type=scale].scale-image-container .option-number-item{width:8.4%}.cc-sdk .cc-question-container__content.rating-color{margin-right:74px}.cc-sdk .option-left-rating-text,.cc-sdk .option-mid-rating-text,.cc-sdk .option-midnps-rating-text,.cc-sdk .option-right-rating-text{color:#424242;font-size:13px;right:0;position:absolute}.cc-sdk .option-midnps-rating-text{right:calc(7 * 9.09% - 1px)}.cc-sdk .option-left-rating-text-small-container,.cc-sdk .option-mid-rating-text-small-container{max-width:57px;text-align:right;overflow:hidden}.cc-sdk .option-right-rating-text-small-container{max-width:57px;text-align:left;overflow:hidden}.cc-sdk .option-left-rating-text-small-container-smile{width:40%;text-align:right;max-height:37px;overflow:hidden;bottom:auto!important;top:57px}.cc-sdk .option-right-rating-text-small-container-smile{width:40%;text-align:left;max-height:37px;overflow:hidden;bottom:auto!important;top:57px}.cc-sdk .cc-question-container[data-type=smile] .option-left-rating-text,.cc-sdk .cc-question-container[data-type=star] .option-left-rating-text{right:4px;width:40%;text-align:right}.cc-sdk .option-right-rating-text{right:auto;left:0}.cc-sdk .cc-question-container[data-type=smile] .option-right-rating-text,.cc-sdk .cc-question-container[data-type=star] .option-right-rating-text{text-align:left;width:40%}.cc-sdk .cc-question-container[data-type=scale] .option-number-item{width:38px;margin:0 .5px;cursor:pointer;display:inline-block;float:none}.cc-sdk .cc-question-container[data-type=scale] .cc-question-container__list{display:inline-block;width:auto;position:relative}.cc-sdk .cc-question-container[data-type=scale].scale-image-container .cc-question-container__list{width:100%}.cc-sdk .rating-color{position:relative}.cc-sdk .option-smile-box,.cc-sdk .option-star-box{height:60px;margin-left:29px;width:60px;cursor:pointer;box-sizing:border-box;border:4px solid transparent;border-radius:50%;display:inline-block;background-size:100%}.cc-sdk:not([dir=rtl]) .option-smile-box:nth-child(5),.cc-sdk:not([dir=rtl]) .option-star-box:nth-child(5),.cc-sdk[dir=rtl] .option-smile-box:first-child,.cc-sdk[dir=rtl] .option-star-box:first-child{margin-left:0}.cc-sdk .option-smile-box.cc-one{background:url(\\\"https://cx.getcloudcherry.com/microsurvey-assets/Smilie_1.svg\\\") no-repeat;background-size:100%}.cc-sdk .option-smile-box.cc-two{background:url(\\\"https://cx.getcloudcherry.com/microsurvey-assets/Smilie_2.svg\\\") no-repeat;background-size:100%}.cc-sdk .option-smile-box.cc-three{background:url(\\\"https://cx.getcloudcherry.com/microsurvey-assets/Smilie_3.svg\\\") no-repeat;background-size:100%}.cc-sdk .option-smile-box.cc-four{background:url(\\\"https://cx.getcloudcherry.com/microsurvey-assets/Smilie_4.svg\\\") no-repeat;background-size:100%}.cc-sdk .option-smile-box.cc-five{background:url(\\\"https://cx.getcloudcherry.com/microsurvey-assets/Smilie_5.svg\\\") no-repeat;background-size:100%}.cc-sdk .option-smile-box.cc-one.selected,.cc-sdk .option-smile-box.cc-one:hover{background:url(\\\"https://cx.getcloudcherry.com/microsurvey-assets/Smilie_1_Selected.svg\\\") no-repeat;background-size:100%}.cc-sdk .option-smile-box.cc-two.selected,.cc-sdk .option-smile-box.cc-two:hover{background:url(\\\"https://cx.getcloudcherry.com/microsurvey-assets/Smilie_2_Selected.svg\\\") no-repeat;background-size:100%}.cc-sdk .option-smile-box.cc-three.selected,.cc-sdk .option-smile-box.cc-three:hover{background:url(\\\"https://cx.getcloudcherry.com/microsurvey-assets/Smilie_3_Selected.svg\\\") no-repeat;background-size:100%}.cc-sdk .option-smile-box.cc-four.selected,.cc-sdk .option-smile-box.cc-four:hover{background:url(\\\"https://cx.getcloudcherry.com/microsurvey-assets/Smilie_4_Selected.svg\\\") no-repeat;background-size:100%}.cc-sdk .option-smile-box.cc-five.selected,.cc-sdk .option-smile-box.cc-five:hover{background:url(\\\"https://cx.getcloudcherry.com/microsurvey-assets/Smilie_5_Selected.svg\\\") no-repeat;background-size:100%}.cc-sdk .cc-csat.cc-question-container__content.rating-color{margin-right:45px}.cc-sdk .option-csat.option-smile-box,.cc-sdk .option-csat.option-smile-box.selected,.cc-sdk .option-csat.option-smile-box:hover{background-size:25px;background-position:18px}.cc-sdk .option-csat{height:30px;margin-left:68px;width:30px;padding-right:50px;height:45px;margin-left:0;width:auto;padding-right:0;font-size:14px;vertical-align:middle;display:inline-block;margin-left:13px}.cc-sdk .option-csat span{display:inline-block;vertical-align:top;font-size:12px;padding-right:25px;position:relative;text-align:right;width:100%}.cc-sdk .option-csat .cc-checkbox label{pointer-events:none}.cc-sdk .option-star-box{background:url(\\\"https://cx.getcloudcherry.com/microsurvey-assets/Star.svg\\\") no-repeat;background-size:100%}.cc-sdk .option-star-box.selected,.cc-sdk .option-star-box:hover{background:url(\\\"https://cx.getcloudcherry.com/microsurvey-assets/Star_selected.svg\\\") no-repeat;background-size:100%}.cc-sdk .cc-question-container[data-type=slider] .option-left-rating-text{right:4px;width:40%;text-align:right}.cc-sdk .cc-question-container[data-type=slider] .option-right-rating-text{width:40%;text-align:left}.cc-sdk .cc-question-container[data-type=smile] .cc-question-container__list,.cc-sdk .cc-question-container[data-type=star] .cc-question-container__list{position:relative;width:auto;display:inline-block}.cc-sdk .circle-image{margin:auto;width:253px;overflow:hidden;height:240px;position:relative}.cc-sdk .circle-image-scale-010-neutral{width:242px;overflow:hidden;height:230px;margin:auto}.cc-sdk .cc-nps-selected-rating{font-size:100px;display:inline-block;position:absolute;top:0;right:0;line-height:100px;left:0;margin:auto;bottom:0;width:110px;height:100px;text-align:center;font-weight:100;color:#bbb}.cc-sdk .cc-question-container[data-type=smile] .option-right-rating-text,.cc-sdk .cc-question-container[data-type=star] .option-right-rating-text{left:4px}.cc-sdk .option-number-item.option-scale{background:#4db47c}.cc-sdk .option-number-item.option-scale.selected,.cc-sdk .option-number-item.option-scale:hover{background:#712827}.cc-sdk .cc-nps-image{cursor:pointer;position:relative;right:0}.cc-sdk .legend-container{position:relative}@media (min-width:769px) and (max-width:992px){.cc-sdk .option-smile-box,.cc-sdk .option-star-box{width:50px;height:50px;margin-left:10px}.cc-sdk .option-csat.option-smile-box,.cc-sdk .option-csat.option-smile-box.selected,.cc-sdk .option-csat.option-smile-box:hover{display:inline-block;width:168px;background-position:48px}.cc-sdk .option-csat.option-smile-box.selected span,.cc-sdk .option-csat.option-smile-box:hover span,.cc-sdk .option-csat.option-smile-box span{padding-right:40px}}@media screen and (min-width:992px){.cc-sdk span.option-csat.option-smile-box,.cc-sdk span.option-csat.option-smile-box.selected,.cc-sdk span.option-csat.option-smile-box:hover{background-position:44px}.cc-sdk span.option-csat.option-smile-box span{padding-right:40px}}@media (max-width:768px){.cc-sdk .option-smile-box,.cc-sdk .option-star-box{display:inline-block;margin-left:3px}.cc-sdk .option-csat.option-smile-box,.cc-sdk .option-csat.option-smile-box.selected,.cc-sdk .option-csat.option-smile-box:hover{display:block;background-size:40px;background-position:45px}.cc-sdk .option-csat.option-smile-box{height:65px;width:100%}.cc-sdk .option-csat.option-smile-box span{font-size:15px;padding-right:40px}.cc-sdk .option-csat.option-smile-box .cc-checkbox{top:calc(50% - 12.5px);height:57px}.cc-sdk .option-csat.option-smile-box .cc-checkbox.cc-radio label:before,.cc-sdk .option-csat.option-smile-box .cc-checkbox input[type=radio]:checked+label:after{width:25px;height:25px}.cc-sdk .option-number-item{color:#fff;float:right;font-size:15px;height:35px;box-sizing:border-box;margin-left:1px;padding-top:7px;text-align:center;width:38px;cursor:pointer;vertical-align:middle}.cc-sdk .cc-question-container[data-type=scale]{bottom:106px}.cc-sdk .cc-question-container[data-type=scale] .option-left-rating-text,.cc-sdk .cc-question-container[data-type=scale] .option-mid-rating-text,.cc-sdk .cc-question-container[data-type=scale] .option-right-rating-text{width:auto}.cc-sdk .cc-question-container[data-type=scale] .option-right-rating-text{text-align:left}.cc-sdk .option-smile-box img,.cc-sdk .option-star-box img{padding-left:5px;margin-left:0}.cc-sdk .cc-question-container[data-type=nps] .cc-question-container__content{width:100%!important}.cc-sdk .cc-question-container[data-type=smile] .option-right-rating-text,.cc-sdk .cc-question-container[data-type=star] .option-right-rating-text{left:10px}.cc-sdk .cc-question-container[data-type=csat] .cc-question-container__list li,.cc-sdk .cc-question-container[data-type=scale] .cc-question-container__list{width:100%}}@media (max-width:381px){.cc-sdk .option-smile-box,.cc-sdk .option-star-box{display:inline-block;margin-left:0;height:50px;width:50px}.cc-sdk .option-smile-box img,.cc-sdk .option-star-box img{padding-left:5px;margin-left:0}}@media screen and (max-width:768px){.cc-sdk .cc-question-container[data-type=scale] span.radial-legend-right,.cc-sdk .radial-legend-right{text-align:right;width:35%;left:0}.cc-sdk .radial-legend-mid{width:35%;text-align:center;right:0;left:0;display:none}.cc-sdk .radial-legend-left{width:35%;text-align:left;right:0}}[dir=rtl].cc-sdk .cc-question-container[data-type=csat] .cc-question-container__content.rating-color{margin-left:45px;margin-right:0}[dir=rtl].cc-sdk .cc-question-container[data-type=csat] .cc-checkbox input[type=radio]{margin-left:0;opacity:0;outline:0}[dir=rtl].cc-sdk .option-number-item{margin-left:1px;margin-right:0;float:left}[dir=rtl].cc-sdk .cc-question-container__content.rating-color{margin-left:74px;margin-right:0}[dir=rtl].cc-sdk .option-right-rating-text{right:calc(100% - 418px);left:auto!important}[dir=rtl].cc-sdk .option-left-rating-text{left:0;right:auto!important}[dir=rtl].cc-sdk .cc-question-container[data-type=nps] .option-right-rating-text,[dir=rtl].cc-sdk .cc-question-container[data-type=scale] .option-right-rating-text{right:0;left:auto!important}[dir=rtl].cc-sdk .cc-question-container[data-type=scale] .option-left-rating-text{left:2px}[dir=rtl].cc-sdk .cc-question-container[data-type=slider] .option-right-rating-text{right:0;width:40%;text-align:right}[dir=rtl].cc-sdk .cc-question-container[data-type=slider] .option-left-rating-text{left:0;text-align:left}[dir=rtl].cc-sdk .rating-color{position:relative}[dir=rtl].cc-sdk .option-smile-box img{margin-left:29px;margin-right:0}[dir=rtl].cc-sdk .option-star-box img{margin-right:19px;margin-left:0}[dir=rtl].cc-sdk .option-csat.option-smile-box span{padding-left:25px;text-align:left;padding-right:0}[dir=rtl].cc-sdk .cc-question-container[data-type=smile] .option-right-rating-text,[dir=rtl].cc-sdk .cc-question-container[data-type=star] .option-right-rating-text{right:7px;left:auto!important;text-align:right}[dir=rtl].cc-sdk .cc-question-container[data-type=smile] .option-left-rating-text,[dir=rtl].cc-sdk .cc-question-container[data-type=star] .option-left-rating-text{left:7px;right:auto!important;text-align:left}[dir=rtl].cc-sdk .option-csat{width:auto;box-sizing:border-box;padding-right:0;margin-left:13px}[dir=rtl].cc-sdk .option-csat.option-smile-box,[dir=rtl].cc-sdk .option-csat.option-smile-box.selected,[dir=rtl].cc-sdk .option-csat.option-smile-box:hover{background-position:calc(100% - (100% - 44px)) 50%;text-align:left}@media (min-width:769px) and (max-width:992px){[dir=rtl].cc-sdk .option-smile-box img,[dir=rtl].cc-sdk .option-star-box img{margin-right:0;margin-left:10px}[dir=rtl].cc-sdk .cc-question-container__content.rating-color{margin-left:10px;margin-right:86px!important}[dir=rtl].cc-sdk .cc-question-container[data-type=nps] .option-right-rating-text{right:17px;left:auto!important}[dir=rtl].cc-sdk .cc-question-container[data-type=smile] .option-right-rating-text,[dir=rtl].cc-sdk .cc-question-container[data-type=star] .option-right-rating-text{right:7px;text-align:right;left:auto!important}[dir=rtl].cc-sdk .cc-question-container[data-type=smile] .option-left-rating-text,[dir=rtl].cc-sdk .cc-question-container[data-type=star] .option-left-rating-text{left:20px;right:auto!important;text-align:left}[dir=rtl].cc-sdk .option-csat.option-smile-box,[dir=rtl].cc-sdk .option-csat.option-smile-box.selected,[dir=rtl].cc-sdk .option-csat.option-smile-box:hover{width:auto}}@media (max-width:768px){[dir=rtl].cc-sdk .option-smile-box img,[dir=rtl].cc-sdk .option-star-box img{padding-left:0;padding-right:5px;margin-left:0;margin-right:0}[dir=rtl].cc-sdk .cc-question-container[data-type=csat] .cc-checkbox input[type=radio]{margin-left:7px;opacity:0;outline:0}[dir=rtl].cc-sdk .option-csat.option-smile-box,[dir=rtl].cc-sdk .option-csat.option-smile-box.selected,[dir=rtl].cc-sdk .option-csat.option-smile-box:hover{background-position:calc(100% - (100% - 44px)) 50%}[dir=rtl].cc-sdk .option-csat.option-smile-box span{padding-left:39px;text-align:left;padding-right:0}[dir=rtl].cc-sdk .cc-question-container[data-type=smile] .option-left-rating-text,[dir=rtl].cc-sdk .cc-question-container[data-type=star] .option-left-rating-text,[dir=rtl].cc-sdk .option-left-rating-text{left:10px;right:auto!important}[dir=rtl].cc-sdk .cc-question-container[data-type=smile] .option-right-rating-text,[dir=rtl].cc-sdk .cc-question-container[data-type=star] .option-right-rating-text{left:auto!important}[dir=rtl].cc-sdk .option-right-rating-text{right:calc(100% - 322px);left:auto!important}[dir=rtl].cc-sdk .cc-question-container[data-type=scale] .option-right-rating-text{right:13px;left:auto!important}[dir=rtl].cc-sdk .cc-question-container[data-type=nps] .radial-legend-right,[dir=rtl].cc-sdk .cc-question-container[data-type=scale] .radial-legend-right{right:auto!important;left:10px!important}[dir=rtl].cc-sdk .cc-question-container[data-type=nps] .radial-legend-left,[dir=rtl].cc-sdk .cc-question-container[data-type=scale] .radial-legend-left{left:auto!important;right:10px!important}}@media (max-width:381px){[dir=rtl].cc-sdk .option-right-rating-text{right:calc(100% - 258px);left:auto!important}}.cc-sdk .cc-select-wrapper{position:relative;display:inline-block;user-select:none;z-index:11}.cc-sdk .cc-select-wrapper select{display:none}.cc-sdk .cc-select{position:relative;display:inline-block;margin-right:70px}.cc-sdk .cc-select-trigger{display:block;width:130px;padding:0 22px 0 84px;font-size:15px;font-style:italic;font-weight:300;color:#222;line-height:20px;background:transparent;border-radius:0;cursor:pointer;width:300px;border-bottom:1px solid #6d6d6d;display:inline-block;text-align:right;padding:5px 5px 5px 20px;position:relative;background-position:3%;background-repeat:no-repeat;max-height:50px;overflow:hidden}.cc-sdk .cc-select-trigger:after{position:absolute;display:block;content:\\\"\\\";width:10px;height:10px;top:50%;left:5px;margin-top:-3px;border-bottom:1px solid #222;border-left:1px solid #222;transform:rotate(-45deg) translateY(-50%);transition:all .2s ease-in-out;transform-origin:50% 0}.cc-sdk .cc-select.cc-opened .cc-select-trigger:after{margin-top:3px;transform:rotate(135deg) translateY(-50%)}.cc-sdk .cc-select-options-container{position:absolute;display:block;top:100%;right:0;left:0;min-width:100%;margin:15px 0;border:1px solid #b5b5b5;border-radius:4px;box-sizing:border-box;box-shadow:0 2px 1px rgba(0,0,0,.07);background:#fff;transition:all .2s ease-in-out;opacity:0;visibility:hidden;pointer-events:none;transform:translateY(calc(-100% - 65px));height:auto;max-height:150px;overflow:hidden;overflow-y:scroll}.cc-sdk .cc-select-options{overflow-y:scroll;height:100%;width:110%}.cc-sdk .cc-select.cc-opened .cc-select-options-container{opacity:1;visibility:visible;pointer-events:all;transform:translateY(-100%) translateY(-65px)}@media (min-width:769px){.cc-sdk .cc-popup-container-2.top .cc-select-options-container,.cc-sdk .cc-popup-container-2.top .cc-select.cc-opened .cc-select-options-container{transform:translateY(-19px)}}.cc-sdk .option-hover:before{background:#f9f9f9}.cc-sdk .cc-select-option{position:relative;display:block;padding:0 12px;border-bottom:1px solid #e4e4e4;font-size:12px;font-weight:600;color:#222;line-height:34px;cursor:pointer;transition:all .2s ease-in-out;text-align:right;margin:0;width:100%}.cc-sdk .cc-select-option:first-of-type{border-radius:4px 4px 0 0}.cc-sdk .cc-select-option:last-of-type{border-bottom:0;border-radius:0 0 4px 4px}.cc-sdk .cc-select-option.selection,.cc-sdk .cc-select-option:hover{background:#eaeaea}.cc-sdk .cc-select-wrapper.down .cc-select-options-container,.cc-sdk .cc-select-wrapper.down .cc-select.cc-opened .cc-select-options-container{transform:translateY(20px)}.cc-sdk .cc-question-container[data-type=nps] .cc-question-container__content,.cc-sdk .cc-question-container[data-type=scale] .cc-question-container__content{width:40%}@media (max-width:768px){.cc-sdk .cc-select,.cc-sdk .cc-select-wrapper{min-width:100%}.cc-sdk .cc-select{margin-right:0}.cc-sdk .cc-select-trigger{min-width:100%;width:auto}}[dir=rtl].cc-sdk .cc-select-trigger{padding:0 84px 0 22px;background-position:3%;background-repeat:no-repeat;text-align:left}[dir=rtl].cc-sdk .cc-select-trigger:after{top:50%;right:2px;left:auto}[dir=rtl].cc-sdk .cc-select-option{text-align:left}[dir=rtl].cc-sdk .cc-select-option:first-of-type{border-radius:0 4px 4px 0}[dir=rtl].cc-sdk .cc-select-option:last-of-type{border-radius:4px 0 0 4px}.cc-sdk .cc-checkbox{display:table-cell;vertical-align:middle;position:relative;text-align:center}.cc-sdk .cc-checkbox label{cursor:pointer;display:block;height:20px;width:20px}.cc-sdk .cc-checkbox+span label img{width:40px;display:inline-block;vertical-align:middle}.cc-sdk .cc-checkbox label:after,.cc-sdk .cc-checkbox label:before{content:\\\"\\\";right:0;margin:auto;position:absolute;top:calc(50% - 12.5px)}.cc-sdk .cc-checkbox label:before{background:transparent;border-radius:2px;border:1px solid #424242;cursor:pointer;height:20px;transition:background .3s;width:20px}.cc-sdk .cc-checkbox input[type=checkbox]{opacity:0;outline:0}.cc-sdk .cc-checkbox input[type=checkbox]:checked+label:before{background:#fdaf19;border:none}.cc-sdk .cc-checkbox input[type=checkbox]:checked+label:after{border:3px solid #222;border-left-style:none;border-top-style:none;height:7px;top:calc(50% - 8.5px);right:4px;transform:rotate(45deg);width:12px}.cc-sdk .cc-checkbox.cc-radio label:before{background:transparent;border:1px solid #424242;cursor:pointer;height:25px;transition:background-color .3s;width:25px}.cc-sdk .cc-checkbox input[type=radio]{opacity:0;outline:0}.cc-sdk .cc-checkbox input[type=radio]:checked+label:before{background:transparent;border-color:#fdaf19}.cc-sdk .cc-question-container__list li{display:inline-table;margin-bottom:0}.cc-sdk .cc-question-container__list li .cc-radio,.cc-sdk .cc-question-container__list li .cc-sdk .cc-checkbox{width:30px}.cc-sdk .cc-checkbox input[type=radio]:checked+label:after{-moz-transform:scale(.8);-ms-transform:scale(.8);-o-transform:scale(.8);-webkit-transform:scale(.8);background:#fdaf19;border-radius:30px;height:25px;transform:scale(.8);width:25px}.cc-sdk .cc-radio label:before{border-radius:30px}.cc-sdk .radio-toggle--more-option li span{padding-right:25px!important;width:125px!important}.cc-sdk .radio-toggle .cc-question-container__list li{padding-right:15px}@media (min-width:1000px){.cc-sdk .radio-toggle .cc-question-container__list li span label{overflow:hidden;max-height:100px;display:block}}@media (min-width:769px) and (max-width:992px){.cc-sdk .radio-toggle .cc-question-container__list li{padding-right:10px}.cc-sdk .radio-toggle .cc-question-container__list li span .label,.cc-sdk .radio-toggle .cc-question-container__list li span label{display:block;max-height:50px;overflow:hidden;text-overflow:ellipsis}}@media (max-width:768px){.cc-sdk .radio-toggle .cc-question-container__list li{padding-right:0;display:block;padding-left:50px}}.cc-sdk .progress-bar{width:100%;position:absolute;background:#a47c2b;z-index:1;height:8px;right:0}.cc-sdk .progress-line{background:#fdaf19;height:100%;display:block;width:0;transition:all .4s ease-in}@media screen and (max-width:768px){.cc-sdk .progress-bar{bottom:unset;top:0}}.cc-sdk .cc-scrollbar-wrapper{float:right;height:100%;overflow:hidden;position:relative;width:100%;z-index:1}.cc-sdk .cc-scrollbar-content{box-sizing:border-box;height:100%;overflow:auto;position:relative;width:107%}.cc-sdk .cc-scrollbar-scroll{background:#aaa;border-radius:4px;cursor:pointer;opacity:0;position:relative;top:0;transition:opacity .25s linear;width:9px;z-index:2}.cc-sdk .cc-scrollbar-container:hover .cc-scrollbar-scroll{opacity:1}.cc-sdk .cc-scrollbar-grabbed{-moz-user-select:none;-o-user-select:none;-webkit-user-select:none;user-select:none}.cc-sdk .cc-sdk-range{-webkit-appearance:none;-moz-appearance:none;width:500px;height:60px;background:transparent}.cc-sdk input[type=range]::-webkit-slider-runnable-track{-webkit-appearance:none;background:#ff403d;background:linear-gradient(-135deg,#ff403d,#992a28);filter:progid:DXImageTransform.Microsoft.gradient(startColorstr=\\\"#ff403d \\\",endColorstr=\\\"#992a28 \\\",GradientType=1);height:1px}.cc-sdk input[type=range]:focus{outline:none}.cc-sdk input[type=range]::-moz-range-track{-moz-appearance:none;background:#ff403d;background:linear-gradient(-135deg,#7a0806,#992a28);filter:progid:DXImageTransform.Microsoft.gradient(startColorstr=\\\"#ff403d \\\",endColorstr=\\\"#992a28 \\\",GradientType=1);height:1px}.cc-sdk input[type=range]::-ms-track{height:1px;width:500px;background-color:#ff403d}.cc-sdk input[type=range]::-webkit-slider-thumb{-webkit-appearance:none;border:1px solid #ff403d;border-radius:50%;height:32px;width:32px;max-width:80px;position:relative;bottom:16px;background-color:#fff;cursor:-webkit-grab}.cc-sdk input[type=range]::-ms-thumb{border:1px solid #ff403d;border-radius:50%;height:32px;width:32px;background:#e08692;box-sizing:border-box;cursor:pointer!important}.cc-sdk input[type=range]::-moz-range-thumb{-moz-appearance:none;border:1px solid #ff403d;border-radius:50%;height:32px;width:32px;max-width:80px;position:relative;bottom:16px;background-color:#fff;cursor:-moz-grab}.cc-sdk input[type=range]::-moz-range-thumb:before{content:\\\"asd\\\"}.cc-sdk input[type=range]::-webkit-slider-thumb:active{cursor:-webkit-grabbing}.cc-sdk input[type=range]::-moz-range-thumb:active{cursor:-moz-grabbing}.cc-sdk .cc-question-container__content.cc-sdk-range-slider{height:50px}.cc-sdk .slider-tip{background:#eb1c23;padding:8px 9px 9px;position:absolute;right:0;left:0;margin:0 auto;color:#fff;background:none;color:#424242;font-size:13px;width:100px;display:inline-block;text-align:center;font-weight:700}.cc-sdk .slider-tip:after{border-width:5px 5px 0;border-top-color:#000}@media (max-width:1024px){.cc-sdk .cc-sdk-range{width:100%}}.cc-sdk input.cc-sdk-range.cc-blue::-moz-range-track,.cc-sdk input.cc-sdk-range.cc-blue::-webkit-slider-runnable-track{background:blue}.cc-sdk .chart{box-sizing:border-box;display:inline-block;height:21px;padding-top:22px;position:relative;vertical-align:top;width:21px}.cc-sdk .cc-sdk-chart span{display:block;font-size:2em;font-weight:400}.cc-sdk .cc-sdk-chart canvas{right:0;position:absolute;top:0}.cc-sdk .cc-sdk-loader{height:21px;right:28px;position:absolute;top:8px;width:21px}@media (min-width:769px){.cc-sdk .cc-sdk-chart canvas{margin-right:10px}}@media (max-width:768px){.cc-sdk .cc-sdk-loader{position:relative;right:auto;top:0;left:auto}}[dir=rtl].cc-sdk .cc-sdk-chart canvas{left:0;right:auto}[dir=rtl].cc-sdk .cc-sdk-loader{left:28px;right:auto}@media (min-width:768px){[dir=rtl].cc-sdk .cc-sdk-chart canvas{margin-left:10px;margin-right:0}}.cc-sdk .show{display:block!important}.cc-sdk .show-inline{display:inline-block!important}.cc-sdk .hide{display:none!important}.cc-sdk.bottom{bottom:0}.cc-sdk.right,.cc-sdk .right{left:0}.cc-sdk .left{right:0}.cc-sdk .top{top:0}.ccsdk-overlay{background:#fff;bottom:0;height:100%;right:0;position:absolute;top:0;width:100%;z-index:0}.ccsdk-overlay.ccsdk-glass{background-image:url(https://cx.getcloudcherry.com/microsurvey-assets/ww.png);background-repeat:no-repeat;background-size:cover}.ccsdk-clearfix{clear:both;display:block}.ccsdk-text-normal{font-weight:400}.cc-sdk ::-webkit-input-placeholder{color:#4c4c4c;font-family:Open Sans;font-size:13px;font-style:italic;font-weight:400}.cc-sdk .cc-sdk-form-control::-moz-placeholder{font-style:italic;font-size:13px;font-weight:400;font-family:Open Sans;color:#4c4c4c}.cc-sdk .cc-sdk-form-control:-ms-input-placeholder{font-style:italic;font-size:13px;font-weight:400;font-family:Open Sans;color:#4c4c4c}.cc-sdk .cc-sdk-form-control:-moz-placeholder{font-style:italic;font-size:13px;font-weight:400;font-family:Open Sans;color:#4c4c4c}@media (min-width:769px){.desktop-hide{display:none}}@media (max-width:768px){.mobile-hide{display:none}.cc-sdk-loader{position:relative;right:auto;top:0;left:auto}.ccsdk-overlay.welcome-overlay{background:rgba(210,42,53,.87)}}[dir=rtl].cc-sdk .submit-icon{right:0;left:auto;margin-right:75px}@media (max-width:768px){[dir=rtl].cc-sdk .submit-icon{position:absolute;right:auto;top:auto;bottom:30px;padding-right:0;left:20px;margin:0}}.cc-sdk:before{width:0;height:0;overflow:hidden;position:absolute;z-index:-1}.cc-sdk .yellow .progress-bar{background:#a47c2b}.cc-sdk .yellow .progress-line{background:#fdaf19}.cc-sdk .yellow .submit-icon{background-image:url(\\\"data:image/svg+xml;charset=utf8,%3Csvg%20width%3D%2747px%27%20height%3D%2747px%27%20viewBox%3D%270%200%2047%2047%27%20version%3D%271.1%27%20xmlns%3D%27http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%27%20xmlns%3Axlink%3D%27http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%27%3E%3Ctitle%3EGroup%2016%3C%2Ftitle%3E%3Cdesc%3ECreated%20with%20Sketch.%3C%2Fdesc%3E%3Cdefs%3E%3Ccircle%20id%3D%27path-1%27%20cx%3D%2719.3130459%27%20cy%3D%2719.3130459%27%20r%3D%2719.3130459%27%3E%3C%2Fcircle%3E%3Cfilter%20x%3D%27-18.1%25%27%20y%3D%27-12.9%25%27%20width%3D%27136.2%25%27%20height%3D%27136.2%25%27%20filterUnits%3D%27objectBoundingBox%27%20id%3D%27filter-2%27%3E%3CfeOffset%20dx%3D%270%27%20dy%3D%272%27%20in%3D%27SourceAlpha%27%20result%3D%27shadowOffsetOuter1%27%3E%3C%2FfeOffset%3E%3CfeGaussianBlur%20stdDeviation%3D%272%27%20in%3D%27shadowOffsetOuter1%27%20result%3D%27shadowBlurOuter1%27%3E%3C%2FfeGaussianBlur%3E%3CfeColorMatrix%20values%3D%270%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200.116423234%200%27%20type%3D%27matrix%27%20in%3D%27shadowBlurOuter1%27%3E%3C%2FfeColorMatrix%3E%3C%2Ffilter%3E%3C%2Fdefs%3E%3Cg%20id%3D%27Page-1%27%20stroke%3D%27none%27%20stroke-width%3D%271%27%20fill%3D%27none%27%20fill-rule%3D%27evenodd%27%3E%3Cg%20id%3D%271-copy-20%27%20transform%3D%27translate(-1246.000000%2C%20-664.000000)%27%3E%3Cg%20id%3D%27Group-16%27%20transform%3D%27translate(1250.000000%2C%20666.000000)%27%3E%3Cg%20id%3D%27Oval-4%27%3E%3Cuse%20fill%3D%27white%27%20fill-opacity%3D%271%27%20filter%3D%27url(%23filter-2)%27%20xlink%3Ahref%3D%27%23path-1%27%3E%3C%2Fuse%3E%3Cuse%20fill%3D%27%23d04a49%27%20fill-rule%3D%27evenodd%27%20xlink%3Ahref%3D%27%23path-1%27%3E%3C%2Fuse%3E%3C%2Fg%3E%3Cg%20id%3D%27Group-5%27%20transform%3D%27translate(12.000000%2C%2011.000000)%27%20fill-rule%3D%27nonzero%27%20fill%3D%27%23FFFFFF%27%3E%3Cg%20id%3D%27fast-forward-arrows%27%20transform%3D%27translate(6.173934%2C%200.000000)%27%3E%3Cpolygon%20id%3D%27Shape%27%20points%3D%270.993357559%200%200%200.993357559%207.30823082%208.3015552%200%2015.6097197%200.993357559%2016.6030772%209.29491276%208.3015552%27%3E%3C%2Fpolygon%3E%3C%2Fg%3E%3Cg%20id%3D%27fast-forward-arrows-copy%27%3E%3Cpolygon%20id%3D%27Shape%27%20points%3D%270.993357559%200%200%200.993357559%207.30823082%208.3015552%200%2015.6097197%200.993357559%2016.6030772%209.29491276%208.3015552%27%3E%3C%2Fpolygon%3E%3C%2Fg%3E%3C%2Fg%3E%3C%2Fg%3E%3C%2Fg%3E%3C%2Fg%3E%3C%2Fsvg%3E\\\")}.cc-sdk .yellow .cc-checkbox input[type=checkbox]:checked+label:before{background:#fdaf19}.cc-sdk .yellow .cc-checkbox input[type=checkbox]:checked+label:after{border-color:#222}.cc-sdk .yellow .cc-checkbox input[type=radio]:checked+label:before{border-color:#fdaf19}.cc-sdk .yellow .cc-checkbox input[type=radio]:checked+label:after{background:#fdaf19}.cc-sdk .yellow .cc-sdk-form-control:focus{border-color:#fcaf18}.cc-sdk .yellow .cc-message-box__btn{background:#fdaf19}.cc-sdk .red .progress-bar{background:#d22a35}.cc-sdk .red .progress-line{background:#d22a35;filter:brightness(150%)}.cc-sdk .red .cc-checkbox input[type=checkbox]:checked+label:before{background:#d22a35}.cc-sdk .red .cc-checkbox input[type=checkbox]:checked+label:after{border-color:#fff}.cc-sdk .red .cc-checkbox input[type=radio]:checked+label:before{border-color:#d22a35}.cc-sdk .red .cc-checkbox input[type=radio]:checked+label:after{background:#d22a35}.cc-sdk .red .cc-sdk-form-control:focus{border-color:#d22a35}.cc-sdk .red .cc-message-box__btn{background:#d22a35;color:#fff}.cc-question-container,.hide-slide{transform:translateX(-5px)}.cc-question-container,.hide-bottom-up,.hide-slide{transition:transform .3s ease,opacity .3s ease,visibility .3s ease;visibility:hidden;opacity:0}.hide-bottom-up{transform:translateY(30px)}.hide-up-bottom{transform:translateY(100%)}.hide-right-left,.hide-up-bottom{transition:transform .3s ease,opacity .3s ease,visibility .3s ease;visibility:hidden;opacity:0}.hide-right-left{transform:translateX(-100%)}.hide-left-right{transform:translateX(100%);visibility:hidden;opacity:0}.hide-left-right,.show-slide,.show-thankyou-slide{transition:transform .3s ease,opacity .3s ease,visibility .3s ease}.show-slide,.show-thankyou-slide{visibility:visible;opacity:1;transform:translateX(0) translateY(0)}.cc-sdk #timer{position:relative}.cc-sdk svg.cc-sdk-timer{position:absolute;top:0;right:0;width:40px;height:40px;transform:rotateY(-180deg) rotate(90deg)}[dir=rtl].cc-sdk svg.cc-sdk-timer{left:0;right:auto}.cc-sdk svg.cc-sdk-timer circle{stroke-dasharray:50px;stroke-dashoffset:0px;stroke-linecap:round;stroke-width:2px;stroke:red;fill:none;animation:countdown 10s linear 1 forwards}@keyframes countdown{0%{stroke-dashoffset:0px}to{stroke-dashoffset:50px}}.cc-sdk .cc-loaderimg{position:absolute;width:100%;z-index:1000;right:0;left:0;top:0;height:100%;background:hsla(0,0%,100%,.8)}.cc-sdk .cc-loaderimg svg{width:100px}\" : \".cc-sdk ul{padding-left:0;list-style-type:none;margin:0}.cc-sdk a,.cc-sdk a:focus,.cc-sdk a:hover{text-decoration:none;color:inherit}.cc-sdk *,.cc-sdk :after,.cc-sdk :before{box-sizing:border-box}.cc-sdk p{color:inherit;margin:0}.cc-sdk map area{outline:0;cursor:pointer}.cc-sdk map area.selected{outline:0;outline-color:#0a2135;outline-width:0;outline-style:solid}.cc-sdk map area:hover{outline:1}.cc-sdk label{margin-bottom:0;font-weight:400}.cc-sdk input,.cc-sdk textarea{padding:0;border:none;width:auto;margin-top:0;font-size:inherit;font-style:inherit;font-weight:inherit;color:inherit;outline:none}.cc-sdk p{font-size:inherit}.cc-sdk.cc-popup-container{background:#fff;box-shadow:0 0 4px 5px rgba(0,0,0,.05);font-family:open sans,sans-serif;position:fixed;text-align:center;max-width:500px;max-height:500px;z-index:1111}@media (min-width:768px){.cc-sdk.cc-popup-container{padding:10px}}.cc-sdk.cc-popup-container.bottom{margin-bottom:9px}.cc-sdk.cc-popup-container.top{margin-top:9px}.cc-sdk #cc-thankyou-container .cc-question-container__text p{word-break:break-word}.cc-sdk #cc-thankyou-container .cc-question-container__text,.cc-sdk #cc-thankyou-container .cc-question-container__text p{width:400px;max-width:none;font-size:17px;color:#424242}.cc-sdk .cc-message-box{position:relative;z-index:11}.cc-sdk .cc-message-box__text{color:#424242;font-size:14px;font-weight:600;margin:0;padding:29px 14px 20px;vertical-align:middle}.cc-sdk .cc-message-box__btn{background:#fdaf19;border-radius:100px;display:inline-block;font-size:15px;font-weight:700;height:32px;padding:6px 0;width:124px;text-align:center}.cc-sdk.cc-popup-container .cc-popup-container__close{cursor:pointer;margin:4px;position:absolute;right:0;top:0;z-index:111}.cc-sdk .cc-popup-container-2{height:144px;position:fixed;width:100%;z-index:1111}.cc-sdk .cc-popup-container-2.bottom{bottom:0}.cc-sdk .cc-popup-container-2__icons{cursor:pointer;padding:8px;position:absolute;top:0;z-index:111}.cc-sdk .top.cc-popup-container-2 .cc-popup-container-2__icons{padding-top:15px}.cc-sdk .cc-popup-container-2__icons.cc-right-icon{right:0}.cc-sdk .cc-popup-container-2__icons.cc-left-icon{left:0}.cc-sdk .cc-popup-container__back{background-image:url(https://cx.getcloudcherry.com/microsurvey-assets/Back_Icon_.svg);display:inline-block;width:21px;height:21px}.cc-sdk .cc-question-container{padding:20px 20px 25px;position:absolute;text-align:center;width:100%;z-index:11;top:0;left:0}.cc-sdk .cc-question-container__text{color:#424242;display:inline-block;font-size:15px;font-weight:600;max-width:230px;padding:8px 0;text-align:center;vertical-align:middle;width:20%;position:relative}.cc-sdk .cc-question-container__text p{word-break:break-word}.cc-sdk .cc-question-container[data-type=csat] .cc-question-container__text{width:11em}.cc-sdk .cc-question-container[data-type=csat] .cc-question-container__list{width:64vw}.cc-sdk .cc-question-container__required,.cc-sdk .cc-question-container__validation{position:absolute;top:-14px;font-size:11px;left:0;width:100%;right:0;font-weight:400;color:#c1272d;display:none}.cc-sdk .cc-question-container__required-label{display:inline-block;position:relative;top:-2px;left:-2px}.cc-sdk .cc-question-container__content{display:inline-block;max-width:78%;vertical-align:middle;width:auto}.cc-sdk .cc-question-container__list li{display:inline-block;padding-left:29px;vertical-align:middle}.cc-sdk .cc-question-container__list li span{display:table-cell;font-size:15px;padding-left:15px;text-align:left;vertical-align:middle;width:125px}.cc-sdk .cc-question-container__list li input{vertical-align:middle}.cc-sdk .cc-question-container:before{content:\\\"\\\";display:inline-block;height:100%;margin-right:-4px;vertical-align:middle}.cc-sdk .cc-question-container{height:100%;vertical-align:middle}.cc-sdk .cc-questions-container{height:100%}.cc-sdk p.cc-thankyou-powered{font-size:13px!important;color:#404040!important;font-style:italic;margin-top:4px}.cc-sdk p.cc-thankyou-powered.no-branding{display:none}.cc-sdk .cc-thankyou-powered .cc-thankyou-logo{background:url(\\\"https://cx.getcloudcherry.com/microsurvey-assets/cc-thankyou-logo.svg\\\");background-size:cover;margin-right:8px;display:inline-block;width:16px;height:16px}.cc-sdk .multiline-box{background:#fff;border-radius:2px;border:1px solid #6d6d6d;font-family:Open Sans;font-size:15px;height:70px;margin:0 0 0 50px;min-width:600px;padding:2px 5px;resize:none}.cc-sdk .multiline-box:focus{outline:0}.cc-sdk .detail-box .cc-question-container__text p{font-size:13px;font-weight:700}.cc-sdk .detail-box .cc-question-container__text span{display:inline-block;font-size:15px;font-weight:400}.cc-sdk .detail-box .cc-question-container__text{height:56px}.cc-sdk .detail-box[data-type=singleline] .cc-question-container__text{margin-right:20px}.cc-sdk .detail-box .cc-question-container__content .cc-sdk-form-control,.cc-sdk .single-line .cc-question-container__content .cc-sdk-form-control{background:transparent;border:none;border-bottom:1px solid #6d6d6d;font-family:open sans;font-size:15px;line-height:26px;outline:0;width:300px;margin-left:70px}.cc-sdk .d-star-box.detail-box .cc-question-container__text{height:92px}.cc-sdk .hl.dropdown{background-image:url(\\\"https://cx.getcloudcherry.com/microsurvey-assets/arrow-down.black.svg\\\");background-position:97%;background-repeat:no-repeat;border-bottom:1px solid #6d6d6d;display:inline-block;padding:5px;position:relative;text-align:left;width:300px}.cc-sdk .drop-cc-question-container .cc-question-container__text{margin-right:20px}.cc-sdk .cc-sdk-form-control:focus{border-color:#fcaf18}.cc-sdk .detail-box .cc-question-container__content{padding-left:0}.cc-sdk .cc-big-list-container .cc-question-container__list{display:table;width:100%}.cc-sdk .cc-big-list-container .cc-question-container__list li{display:table-cell;vertical-align:middle}.cc-sdk .cc-thankyou-container{width:100%!important}.cc-sdk .submit-icon{direction:ltr;position:absolute;right:0;top:0;bottom:0;margin:auto 0;z-index:11;margin-right:75px;font-size:16px;cursor:pointer;width:47px;height:47px}@media (min-width:1000px){.cc-sdk .cc-big-list-container .cc-question-container__list li span label{overflow:hidden;max-height:100px;display:block}}@media (min-width:769px) and (max-width:875px){.cc-sdk .cc-question-container__list li{padding-left:0!important}}@media (min-width:769px) and (max-width:1024px){.cc-sdk .cc-popup-container-2{height:200px}.cc-sdk .cc-big-list-container .cc-question-container__list,.cc-sdk .cc-question-container__list{text-align:left}.cc-sdk .cc-big-list-container .cc-question-container__list li,.cc-sdk .cc-question-container__list li{display:inline-block;margin-bottom:15px;vertical-align:middle;width:49%}.cc-sdk .cc-question-container__content{display:inline-block;width:45%}.cc-sdk .multiline-box{min-width:100%;margin:0}.cc-sdk .option-smile-box img,.cc-sdk .option-star-box img{margin-right:11px!important}.cc-sdk .cc-thankyou-container .cc-question-container__text,.cc-sdk .cc-thankyou-container .cc-question-container__text p{width:100%!important;text-align:center;margin:0!important;padding:0;line-height:normal;height:auto}.cc-sdk .cc-thankyou-container .cc-question-container__text{max-width:98%}}@media (min-width:1000px){.cc-sdk .cc-question-container__text p{max-height:100px;overflow:hidden;max-width:140ch}.cc-sdk .cc-question-container__text p.ellipsis:after{content:\\\"...\\\";text-align:right;bottom:9px;right:-3px;width:12px;display:block;position:absolute;height:1.2em}}@media (min-width:769px) and (max-width:992px){.cc-sdk .cc-question-container{width:100%;margin:auto}.cc-sdk .cc-question-container__text{width:24%;padding-right:20px}.cc-sdk .cc-question-container__text p{max-height:110px;overflow:hidden}.cc-sdk .cc-question-container__content.rating-color{margin-left:0}.cc-sdk .submit-icon{margin-right:40px!important}.cc-sdk .cc-question-container__content.rating-color{margin-left:0!important}.cc-sdk .cc-question-container__content{width:50%!important}}@media (max-width:768px){.cc-sdk .cc-survey-container,.cc-sdk .cc-survey-content{height:100%}.cc-sdk .cc-popup-container-2{bottom:auto;height:100%;top:0}.cc-sdk .cc-popup-container-2__icons.cc-right-icon{left:auto;right:0;padding:0}.cc-sdk .cc-popup-container-2__icons.cc-left-icon{left:0;right:auto;padding:0}.cc-sdk .cc-big-list-container .cc-question-container__list li,.cc-sdk[dir=rtl] .cc-big-list-container .cc-question-container__list li{display:block}.cc-sdk .radio-toggle--more-option li span{width:84%!important;padding-left:25px!important}.cc-sdk .radio-toggle--more-option li{padding-right:0!important;display:block!important;padding-top:10px}.cc-sdk .detail-box .cc-question-container__content{padding-left:0}.cc-sdk .cc-question-container{bottom:75px;height:auto;left:0;padding:40px 20px;position:absolute;text-align:left;top:auto;width:100%}.cc-sdk .cc-question-container__text{font-size:18px;margin-bottom:20px;max-width:400px;text-align:left;width:100%}.cc-sdk .cc-question-container__content{display:block;max-width:100%;width:100%}.cc-sdk .cc-question-container__list label{display:block}.cc-sdk .cc-question-container__list li span{width:auto;padding-left:15px}.cc-sdk .cc-question-container__list li{padding-left:0;margin-bottom:10px;display:block}.cc-sdk .cc-popup-container-2__icons{margin:20px}.cc-sdk .cc-popup-container-2__icons.left-icon{left:auto;right:0}.cc-sdk .cc-popup-container-2__icons.right-icon{right:auto;left:0}.cc-sdk .cc-popup-container__close{width:27px}.cc-sdk .cc-question-container__content.rating-color{margin-left:0!important}.cc-sdk .cc-question-container[data-type=nps] .cc-question-container__content,.cc-sdk .cc-question-container[data-type=scale] .cc-question-container__content{width:100%!important}.cc-sdk .multiline-box{height:150px;margin:0;min-width:100%;width:100%}.cc-sdk .detail-box .cc-question-container__content .cc-sdk-form-control,.cc-sdk .hl.dropdown{width:100%}.cc-sdk .detail-box .cc-question-container__text p{font-size:18px}.cc-sdk .mobile-detail-box .cc-question-container__text{height:auto}.cc-sdk .cc-question-container__text p{max-height:auto}.cc-sdk .welcome-box .cc-question-container__text p{color:#fff}.cc-sdk .cc-questions-container{height:100%;position:relative}.cc-sdk .cc-message-box__btn{margin-left:20px}}@media (max-width:768px){.cc-sdk .detail-box .cc-question-container__content .cc-sdk-form-control,.cc-sdk .single-line .cc-question-container__content .cc-sdk-form-control{margin-left:0}.cc-sdk .submit-icon{position:absolute;left:20px;top:auto;bottom:30px;padding-right:0}.cc-sdk.cc-popup-container{position:fixed;bottom:0;left:0;right:0;margin:0!important;width:100%;height:13em;max-width:100%;max-height:100%;text-align:left;background:transparent}.cc-sdk.cc-popup-container .cc-message-box{position:absolute;bottom:20%}.cc-sdk.cc-popup-container .cc-message-box .cc-message-box__text{font-size:20px}.cc-sdk.cc-popup-container .cc-message-box .submit-icon{position:absolute;bottom:-100%;top:auto;left:0;margin:0 14px}.cc-sdk.cc-popup-container .cc-popup-container__close{margin:20px;right:0;top:0}.cc-sdk.cc-popup-container__back{background-image:url(https://cx.getcloudcherry.com/microsurvey-assets/Back_Icon_.svg);display:inline-block;width:27px;height:27px;background-size:100%}.cc-sdk .cc-thankyou-container .cc-question-container__text,.cc-sdk .cc-thankyou-container .cc-question-container__text p{width:100%!important;text-align:center;margin:0!important;padding:0;line-height:normal;height:auto}.cc-sdk .cc-thankyou-container .cc-question-container__text{max-width:98%}}.date-s,.date-y{display:inline-block;margin:0 12px!important;width:80px!important}.date-error{color:red;font-style:italic;visibility:hidden;margin-top:12px}.date-error.show-error{visibility:visible}[dir=rtl].cc-sdk ul{padding-right:0}[dir=rtl].cc-sdk.cc-popup-container .cc-popup-container__close{right:auto;left:0;top:0}[dir=rtl].cc-sdk.cc-popup-container .cc-message-box .cc-message-box__text{text-align:right}[dir=rtl].cc-sdk .cc-popup-container__back{background-image:url(https://cx.getcloudcherry.com/microsurvey-assets/Back_Icon_rtl_.svg)}[dir=rtl].cc-sdk .cc-popup-container-2__icons.cc-right-icon{right:auto;left:0}[dir=rtl].cc-sdk .cc-popup-container-2__icons.cc-left-icon{right:0;left:auto}[dir=rtl].cc-sdk.cc-question-container{margin-left:0;margin-right:0;right:0;left:auto}[dir=rtl].cc-sdk .cc-question-container__required,[dir=rtl].cc-sdk .cc-question-container__validation{right:0;left:auto}[dir=rtl].cc-sdk .cc-question-container__required-label{top:-2px;right:-2px;left:auto}[dir=rtl].cc-sdk .cc-question-container__list li{display:inline-block;padding-right:15px!important;padding-left:15px!important;vertical-align:middle}[dir=rtl].cc-sdk .cc-question-container[data-type=checkbox] .cc-question-container__list li{padding-right:0!important}[dir=rtl].cc-sdk .cc-question-container__list li span{padding-right:15px;padding-left:0;text-align:right}[dir=rtl].cc-sdk .cc-question-container:before{margin-left:-4px;margin-right:0}[dir=rtl].cc-sdk .multiline-box{margin:0 50px 0 0}[dir=rtl].cc-sdk .hl.dropdown{background-position:97%;text-align:right}[dir=rtl].cc-sdk .drop-cc-question-container .cc-question-container__text{margin-left:20px;margin-right:0}[dir=rtl].cc-sdk .detail-box .cc-question-container__content{padding-right:0;padding-left:0}[dir=rtl].cc-sdk .cc-question-container__content{text-align:right}@media (min-width:769px) and (max-width:1024px){[dir=rtl].cc-sdk .cc-big-list-container .cc-question-container__list,[dir=rtl].cc-sdk .cc-question-container__list{text-align:right}[dir=rtl].cc-sdk .multiline-box{margin:0}}@media (min-width:769px) and (max-width:992px){[dir=rtl].cc-sdk .cc-question-container__text{padding-left:20px;padding-right:0}[dir=rtl].cc-sdk .cc-question-container__content.rating-color{margin-left:0;margin-right:0}}@media (max-width:768px){[dir=rtl].cc-sdk .cc-popup-container-2__icons.cc-right-icon{left:0;right:auto}[dir=rtl].cc-sdk .cc-popup-container-2__icons.cc-left-icon{left:auto;right:0}[dir=rtl].cc-sdk .radio-toggle--more-option li span{padding-right:25px!important;padding-left:0!important}[dir=rtl].cc-sdk .radio-toggle--more-option li{padding-right:0!important;padding-left:0!important}[dir=rtl].cc-sdk .detail-box .cc-question-container__content{padding-left:0;padding-right:0}[dir=rtl].cc-sdk .cc-question-container{left:auto;right:0}[dir=rtl].cc-sdk .multiline-box{margin:0}[dir=rtl].cc-sdk .cc-question-container__text{text-align:right;width:100%;margin-right:5px;max-width:100%}[dir=rtl].cc-sdk .cc-question-container__list li span{padding-right:15px;padding-left:0}[dir=rtl].cc-sdk .cc-question-container__list li{padding-left:0;padding-right:0}[dir=rtl].cc-sdk .cc-popup-container-2__icons.left-icon{left:0;right:auto}[dir=rtl].cc-sdk .cc-popup-container-2__icons.right-icon{right:0;left:auto}[dir=rtl].cc-sdk .cc-question-container__content.rating-color{margin-left:0!important;margin-right:0!important}}.cc-sdk .option-number-item{color:#fff;float:left;font-size:13px;height:38px;box-sizing:border-box;padding-top:10px;text-align:center;width:8.5%;margin-left:1px;margin-right:0;cursor:pointer}.cc-sdk .option-number-item.option-zero{background:#853838}.cc-sdk .option-number-item.option-zero.selected,.cc-sdk .option-number-item.option-zero:hover{background:#572526}.cc-sdk .option-number-item.option-one{background:#9e4343}.cc-sdk .option-number-item.option-one.selected,.cc-sdk .option-number-item.option-one:hover{background:#642728}.cc-sdk .option-number-item.option-two{background:#c14d4d}.cc-sdk .option-number-item.option-two.selected,.cc-sdk .option-number-item.option-two:hover{background:#712827}.cc-sdk .option-number-item.option-three{background:#d94d4d}.cc-sdk .option-number-item.option-three.selected,.cc-sdk .option-number-item.option-three:hover{background:#7c2828}.cc-sdk .option-number-item.option-four{background:#ee4d4d}.cc-sdk .option-number-item.option-four.selected,.cc-sdk .option-number-item.option-four:hover{background:#852828}.cc-sdk .option-number-item.option-five{background:#ff4d4d}.cc-sdk .option-number-item.option-five.selected,.cc-sdk .option-number-item.option-five:hover{background:#844828}.cc-sdk .option-number-item.option-six{background:#ff8c4d}.cc-sdk .option-number-item.option-six.selected,.cc-sdk .option-number-item.option-six:hover{background:#844828}.cc-sdk .option-number-item.option-seven{background:#ffc74d}.cc-sdk .option-number-item.option-seven.selected,.cc-sdk .option-number-item.option-seven:hover{background:#856728}.cc-sdk .option-number-item.option-eight{background:#f5eb4d}.cc-sdk .option-number-item.option-eight.selected,.cc-sdk .option-number-item.option-eight:hover{background:#7f7a28}.cc-sdk .option-number-item.option-nine{background:#73ca81}.cc-sdk .option-number-item.option-nine.selected,.cc-sdk .option-number-item.option-nine:hover{background:#3b6942}.cc-sdk .option-number-item.option-ten{background:#4db47c}.cc-sdk .option-number-item.option-ten.selected,.cc-sdk .option-number-item.option-ten:hover{background:#285e40}.cc-sdk .option-number-item.option-7-scale-1,.cc-sdk .option-number-item.option-7-scale-2,.cc-sdk .option-number-item.option-7-scale-3{background:#ed534f}.cc-sdk .option-number-item.option-7-scale-4,.cc-sdk .option-number-item.option-7-scale-5{background:#ffbc00}.cc-sdk .option-number-item.option-7-scale-6,.cc-sdk .option-number-item.option-7-scale-7{background:#4db47c}.cc-sdk .option-number-item.option-5-scale-1,.cc-sdk .option-number-item.option-5-scale-2{background:#ed534f}.cc-sdk .option-number-item.option-5-scale-3{background:#ffbc00}.cc-sdk .option-number-item.option-5-scale-4,.cc-sdk .option-number-item.option-5-scale-5{background:#4db47c}.cc-sdk .cc-question-container[data-type=nps] .option-number-item{width:calc(9.09% - 1px)}.cc-sdk .cc-question-container[data-type=scale].scale-image-container .option-number-item{width:8.4%}.cc-sdk .cc-question-container__content.rating-color{margin-left:74px}.cc-sdk .option-left-rating-text,.cc-sdk .option-mid-rating-text,.cc-sdk .option-midnps-rating-text,.cc-sdk .option-right-rating-text{color:#424242;font-size:13px;left:0;position:absolute}.cc-sdk .option-midnps-rating-text{left:calc(7 * 9.09% - 1px)}.cc-sdk .option-left-rating-text-small-container,.cc-sdk .option-mid-rating-text-small-container{max-width:57px;text-align:left;overflow:hidden}.cc-sdk .option-right-rating-text-small-container{max-width:57px;text-align:right;overflow:hidden}.cc-sdk .option-left-rating-text-small-container-smile{width:40%;text-align:left;max-height:37px;overflow:hidden;bottom:auto!important;top:57px}.cc-sdk .option-right-rating-text-small-container-smile{width:40%;text-align:right;max-height:37px;overflow:hidden;bottom:auto!important;top:57px}.cc-sdk .cc-question-container[data-type=smile] .option-left-rating-text,.cc-sdk .cc-question-container[data-type=star] .option-left-rating-text{left:4px;width:40%;text-align:left}.cc-sdk .option-right-rating-text{left:auto;right:0}.cc-sdk .cc-question-container[data-type=smile] .option-right-rating-text,.cc-sdk .cc-question-container[data-type=star] .option-right-rating-text{text-align:right;width:40%}.cc-sdk .cc-question-container[data-type=scale] .option-number-item{width:38px;margin:0 .5px;cursor:pointer;display:inline-block;float:none}.cc-sdk .cc-question-container[data-type=scale] .cc-question-container__list{display:inline-block;width:auto;position:relative}.cc-sdk .cc-question-container[data-type=scale].scale-image-container .cc-question-container__list{width:100%}.cc-sdk .rating-color{position:relative}.cc-sdk .option-smile-box,.cc-sdk .option-star-box{height:60px;margin-right:29px;width:60px;cursor:pointer;box-sizing:border-box;border:4px solid transparent;border-radius:50%;display:inline-block;background-size:100%}.cc-sdk:not([dir=rtl]) .option-smile-box:nth-child(5),.cc-sdk:not([dir=rtl]) .option-star-box:nth-child(5),.cc-sdk[dir=rtl] .option-smile-box:first-child,.cc-sdk[dir=rtl] .option-star-box:first-child{margin-right:0}.cc-sdk .option-smile-box.cc-one{background:url(\\\"https://cx.getcloudcherry.com/microsurvey-assets/Smilie_1.svg\\\") no-repeat;background-size:100%}.cc-sdk .option-smile-box.cc-two{background:url(\\\"https://cx.getcloudcherry.com/microsurvey-assets/Smilie_2.svg\\\") no-repeat;background-size:100%}.cc-sdk .option-smile-box.cc-three{background:url(\\\"https://cx.getcloudcherry.com/microsurvey-assets/Smilie_3.svg\\\") no-repeat;background-size:100%}.cc-sdk .option-smile-box.cc-four{background:url(\\\"https://cx.getcloudcherry.com/microsurvey-assets/Smilie_4.svg\\\") no-repeat;background-size:100%}.cc-sdk .option-smile-box.cc-five{background:url(\\\"https://cx.getcloudcherry.com/microsurvey-assets/Smilie_5.svg\\\") no-repeat;background-size:100%}.cc-sdk .option-smile-box.cc-one.selected,.cc-sdk .option-smile-box.cc-one:hover{background:url(\\\"https://cx.getcloudcherry.com/microsurvey-assets/Smilie_1_Selected.svg\\\") no-repeat;background-size:100%}.cc-sdk .option-smile-box.cc-two.selected,.cc-sdk .option-smile-box.cc-two:hover{background:url(\\\"https://cx.getcloudcherry.com/microsurvey-assets/Smilie_2_Selected.svg\\\") no-repeat;background-size:100%}.cc-sdk .option-smile-box.cc-three.selected,.cc-sdk .option-smile-box.cc-three:hover{background:url(\\\"https://cx.getcloudcherry.com/microsurvey-assets/Smilie_3_Selected.svg\\\") no-repeat;background-size:100%}.cc-sdk .option-smile-box.cc-four.selected,.cc-sdk .option-smile-box.cc-four:hover{background:url(\\\"https://cx.getcloudcherry.com/microsurvey-assets/Smilie_4_Selected.svg\\\") no-repeat;background-size:100%}.cc-sdk .option-smile-box.cc-five.selected,.cc-sdk .option-smile-box.cc-five:hover{background:url(\\\"https://cx.getcloudcherry.com/microsurvey-assets/Smilie_5_Selected.svg\\\") no-repeat;background-size:100%}.cc-sdk .cc-csat.cc-question-container__content.rating-color{margin-left:45px}.cc-sdk .option-csat.option-smile-box,.cc-sdk .option-csat.option-smile-box.selected,.cc-sdk .option-csat.option-smile-box:hover{background-size:25px;background-position:18px}.cc-sdk .option-csat{height:30px;margin-right:68px;width:30px;padding-left:50px;height:45px;margin-right:0;width:auto;padding-left:0;font-size:14px;vertical-align:middle;display:inline-block;margin-right:13px}.cc-sdk .option-csat span{display:inline-block;vertical-align:top;font-size:12px;padding-left:25px;position:relative;text-align:left;width:100%}.cc-sdk .option-csat .cc-checkbox label{pointer-events:none}.cc-sdk .option-star-box{background:url(\\\"https://cx.getcloudcherry.com/microsurvey-assets/Star.svg\\\") no-repeat;background-size:100%}.cc-sdk .option-star-box.selected,.cc-sdk .option-star-box:hover{background:url(\\\"https://cx.getcloudcherry.com/microsurvey-assets/Star_selected.svg\\\") no-repeat;background-size:100%}.cc-sdk .cc-question-container[data-type=slider] .option-left-rating-text{left:4px;width:40%;text-align:left}.cc-sdk .cc-question-container[data-type=slider] .option-right-rating-text{width:40%;text-align:right}.cc-sdk .cc-question-container[data-type=smile] .cc-question-container__list,.cc-sdk .cc-question-container[data-type=star] .cc-question-container__list{position:relative;width:auto;display:inline-block}.cc-sdk .circle-image{margin:auto;width:253px;overflow:hidden;height:240px;position:relative}.cc-sdk .circle-image-scale-010-neutral{width:242px;overflow:hidden;height:230px;margin:auto}.cc-sdk .cc-nps-selected-rating{font-size:100px;display:inline-block;position:absolute;top:0;left:0;line-height:100px;right:0;margin:auto;bottom:0;width:110px;height:100px;text-align:center;font-weight:100;color:#bbb}.cc-sdk .cc-question-container[data-type=smile] .option-right-rating-text,.cc-sdk .cc-question-container[data-type=star] .option-right-rating-text{right:4px}.cc-sdk .option-number-item.option-scale{background:#4db47c}.cc-sdk .option-number-item.option-scale.selected,.cc-sdk .option-number-item.option-scale:hover{background:#712827}.cc-sdk .cc-nps-image{cursor:pointer;position:relative;left:0}.cc-sdk .legend-container{position:relative}@media (min-width:769px) and (max-width:992px){.cc-sdk .option-smile-box,.cc-sdk .option-star-box{width:50px;height:50px;margin-right:10px}.cc-sdk .option-csat.option-smile-box,.cc-sdk .option-csat.option-smile-box.selected,.cc-sdk .option-csat.option-smile-box:hover{display:inline-block;width:168px;background-position:48px}.cc-sdk .option-csat.option-smile-box.selected span,.cc-sdk .option-csat.option-smile-box:hover span,.cc-sdk .option-csat.option-smile-box span{padding-left:40px}}@media screen and (min-width:992px){.cc-sdk span.option-csat.option-smile-box,.cc-sdk span.option-csat.option-smile-box.selected,.cc-sdk span.option-csat.option-smile-box:hover{background-position:44px}.cc-sdk span.option-csat.option-smile-box span{padding-left:40px}}@media (max-width:768px){.cc-sdk .option-smile-box,.cc-sdk .option-star-box{display:inline-block;margin-right:3px}.cc-sdk .option-csat.option-smile-box,.cc-sdk .option-csat.option-smile-box.selected,.cc-sdk .option-csat.option-smile-box:hover{display:block;background-size:40px;background-position:45px}.cc-sdk .option-csat.option-smile-box{height:65px;width:100%}.cc-sdk .option-csat.option-smile-box span{font-size:15px;padding-left:40px}.cc-sdk .option-csat.option-smile-box .cc-checkbox{top:calc(50% - 12.5px);height:57px}.cc-sdk .option-csat.option-smile-box .cc-checkbox.cc-radio label:before,.cc-sdk .option-csat.option-smile-box .cc-checkbox input[type=radio]:checked+label:after{width:25px;height:25px}.cc-sdk .option-number-item{color:#fff;float:left;font-size:15px;height:35px;box-sizing:border-box;margin-right:1px;padding-top:7px;text-align:center;width:38px;cursor:pointer;vertical-align:middle}.cc-sdk .cc-question-container[data-type=scale]{bottom:106px}.cc-sdk .cc-question-container[data-type=scale] .option-left-rating-text,.cc-sdk .cc-question-container[data-type=scale] .option-mid-rating-text,.cc-sdk .cc-question-container[data-type=scale] .option-right-rating-text{width:auto}.cc-sdk .cc-question-container[data-type=scale] .option-right-rating-text{text-align:right}.cc-sdk .option-smile-box img,.cc-sdk .option-star-box img{padding-right:5px;margin-right:0}.cc-sdk .cc-question-container[data-type=nps] .cc-question-container__content{width:100%!important}.cc-sdk .cc-question-container[data-type=smile] .option-right-rating-text,.cc-sdk .cc-question-container[data-type=star] .option-right-rating-text{right:10px}.cc-sdk .cc-question-container[data-type=csat] .cc-question-container__list li,.cc-sdk .cc-question-container[data-type=scale] .cc-question-container__list{width:100%}}@media (max-width:381px){.cc-sdk .option-smile-box,.cc-sdk .option-star-box{display:inline-block;margin-right:0;height:50px;width:50px}.cc-sdk .option-smile-box img,.cc-sdk .option-star-box img{padding-right:5px;margin-right:0}}@media screen and (max-width:768px){.cc-sdk .cc-question-container[data-type=scale] span.radial-legend-right,.cc-sdk .radial-legend-right{text-align:left;width:35%;right:0}.cc-sdk .radial-legend-mid{width:35%;text-align:center;left:0;right:0;display:none}.cc-sdk .radial-legend-left{width:35%;text-align:right;left:0}}[dir=rtl].cc-sdk .cc-question-container[data-type=csat] .cc-question-container__content.rating-color{margin-right:45px;margin-left:0}[dir=rtl].cc-sdk .cc-question-container[data-type=csat] .cc-checkbox input[type=radio]{margin-right:0;opacity:0;outline:0}[dir=rtl].cc-sdk .option-number-item{margin-right:1px;margin-left:0;float:right}[dir=rtl].cc-sdk .cc-question-container__content.rating-color{margin-right:74px;margin-left:0}[dir=rtl].cc-sdk .option-right-rating-text{left:calc(100% - 418px);right:auto!important}[dir=rtl].cc-sdk .option-left-rating-text{right:0;left:auto!important}[dir=rtl].cc-sdk .cc-question-container[data-type=nps] .option-right-rating-text,[dir=rtl].cc-sdk .cc-question-container[data-type=scale] .option-right-rating-text{left:0;right:auto!important}[dir=rtl].cc-sdk .cc-question-container[data-type=scale] .option-left-rating-text{right:2px}[dir=rtl].cc-sdk .cc-question-container[data-type=slider] .option-right-rating-text{left:0;width:40%;text-align:left}[dir=rtl].cc-sdk .cc-question-container[data-type=slider] .option-left-rating-text{right:0;text-align:right}[dir=rtl].cc-sdk .rating-color{position:relative}[dir=rtl].cc-sdk .option-smile-box img{margin-right:29px;margin-left:0}[dir=rtl].cc-sdk .option-star-box img{margin-left:19px;margin-right:0}[dir=rtl].cc-sdk .option-csat.option-smile-box span{padding-right:25px;text-align:right;padding-left:0}[dir=rtl].cc-sdk .cc-question-container[data-type=smile] .option-right-rating-text,[dir=rtl].cc-sdk .cc-question-container[data-type=star] .option-right-rating-text{left:7px;right:auto!important;text-align:left}[dir=rtl].cc-sdk .cc-question-container[data-type=smile] .option-left-rating-text,[dir=rtl].cc-sdk .cc-question-container[data-type=star] .option-left-rating-text{right:7px;left:auto!important;text-align:right}[dir=rtl].cc-sdk .option-csat{width:auto;box-sizing:border-box;padding-left:0;margin-right:13px}[dir=rtl].cc-sdk .option-csat.option-smile-box,[dir=rtl].cc-sdk .option-csat.option-smile-box.selected,[dir=rtl].cc-sdk .option-csat.option-smile-box:hover{background-position:calc(100% - 44px) 50%;text-align:right}@media (min-width:769px) and (max-width:992px){[dir=rtl].cc-sdk .option-smile-box img,[dir=rtl].cc-sdk .option-star-box img{margin-left:0;margin-right:10px}[dir=rtl].cc-sdk .cc-question-container__content.rating-color{margin-right:10px;margin-left:86px!important}[dir=rtl].cc-sdk .cc-question-container[data-type=nps] .option-right-rating-text{left:17px;right:auto!important}[dir=rtl].cc-sdk .cc-question-container[data-type=smile] .option-right-rating-text,[dir=rtl].cc-sdk .cc-question-container[data-type=star] .option-right-rating-text{left:7px;text-align:left;right:auto!important}[dir=rtl].cc-sdk .cc-question-container[data-type=smile] .option-left-rating-text,[dir=rtl].cc-sdk .cc-question-container[data-type=star] .option-left-rating-text{right:20px;left:auto!important;text-align:right}[dir=rtl].cc-sdk .option-csat.option-smile-box,[dir=rtl].cc-sdk .option-csat.option-smile-box.selected,[dir=rtl].cc-sdk .option-csat.option-smile-box:hover{width:auto}}@media (max-width:768px){[dir=rtl].cc-sdk .option-smile-box img,[dir=rtl].cc-sdk .option-star-box img{padding-right:0;padding-left:5px;margin-right:0;margin-left:0}[dir=rtl].cc-sdk .cc-question-container[data-type=csat] .cc-checkbox input[type=radio]{margin-right:7px;opacity:0;outline:0}[dir=rtl].cc-sdk .option-csat.option-smile-box,[dir=rtl].cc-sdk .option-csat.option-smile-box.selected,[dir=rtl].cc-sdk .option-csat.option-smile-box:hover{background-position:calc(100% - 44px) 50%}[dir=rtl].cc-sdk .option-csat.option-smile-box span{padding-right:39px;text-align:right;padding-left:0}[dir=rtl].cc-sdk .cc-question-container[data-type=smile] .option-left-rating-text,[dir=rtl].cc-sdk .cc-question-container[data-type=star] .option-left-rating-text,[dir=rtl].cc-sdk .option-left-rating-text{right:10px;left:auto!important}[dir=rtl].cc-sdk .cc-question-container[data-type=smile] .option-right-rating-text,[dir=rtl].cc-sdk .cc-question-container[data-type=star] .option-right-rating-text{right:auto!important}[dir=rtl].cc-sdk .option-right-rating-text{left:calc(100% - 322px);right:auto!important}[dir=rtl].cc-sdk .cc-question-container[data-type=scale] .option-right-rating-text{left:13px;right:auto!important}[dir=rtl].cc-sdk .cc-question-container[data-type=nps] .radial-legend-right,[dir=rtl].cc-sdk .cc-question-container[data-type=scale] .radial-legend-right{left:auto!important;right:10px!important}[dir=rtl].cc-sdk .cc-question-container[data-type=nps] .radial-legend-left,[dir=rtl].cc-sdk .cc-question-container[data-type=scale] .radial-legend-left{right:auto!important;left:10px!important}}@media (max-width:381px){[dir=rtl].cc-sdk .option-right-rating-text{left:calc(100% - 258px);right:auto!important}}.cc-sdk .cc-select-wrapper{position:relative;display:inline-block;user-select:none;z-index:11}.cc-sdk .cc-select-wrapper select{display:none}.cc-sdk .cc-select{position:relative;display:inline-block;margin-left:70px}.cc-sdk .cc-select-trigger{display:block;width:130px;padding:0 84px 0 22px;font-size:15px;font-style:italic;font-weight:300;color:#222;line-height:20px;background:transparent;border-radius:0;cursor:pointer;width:300px;border-bottom:1px solid #6d6d6d;display:inline-block;text-align:left;padding:5px 20px 5px 5px;position:relative;background-position:97%;background-repeat:no-repeat;max-height:50px;overflow:hidden}.cc-sdk .cc-select-trigger:after{position:absolute;display:block;content:\\\"\\\";width:10px;height:10px;top:50%;right:5px;margin-top:-3px;border-bottom:1px solid #222;border-right:1px solid #222;transform:rotate(45deg) translateY(-50%);transition:all .2s ease-in-out;transform-origin:50% 0}.cc-sdk .cc-select.cc-opened .cc-select-trigger:after{margin-top:3px;transform:rotate(-135deg) translateY(-50%)}.cc-sdk .cc-select-options-container{position:absolute;display:block;top:100%;left:0;right:0;min-width:100%;margin:15px 0;border:1px solid #b5b5b5;border-radius:4px;box-sizing:border-box;box-shadow:0 2px 1px rgba(0,0,0,.07);background:#fff;transition:all .2s ease-in-out;opacity:0;visibility:hidden;pointer-events:none;transform:translateY(calc(-100% - 65px));height:auto;max-height:150px;overflow:hidden;overflow-y:scroll}.cc-sdk .cc-select-options{overflow-y:scroll;height:100%;width:110%}.cc-sdk .cc-select.cc-opened .cc-select-options-container{opacity:1;visibility:visible;pointer-events:all;transform:translateY(-100%) translateY(-65px)}@media (min-width:769px){.cc-sdk .cc-popup-container-2.top .cc-select-options-container,.cc-sdk .cc-popup-container-2.top .cc-select.cc-opened .cc-select-options-container{transform:translateY(-19px)}}.cc-sdk .option-hover:before{background:#f9f9f9}.cc-sdk .cc-select-option{position:relative;display:block;padding:0 12px;border-bottom:1px solid #e4e4e4;font-size:12px;font-weight:600;color:#222;line-height:34px;cursor:pointer;transition:all .2s ease-in-out;text-align:left;margin:0;width:100%}.cc-sdk .cc-select-option:first-of-type{border-radius:4px 4px 0 0}.cc-sdk .cc-select-option:last-of-type{border-bottom:0;border-radius:0 0 4px 4px}.cc-sdk .cc-select-option.selection,.cc-sdk .cc-select-option:hover{background:#eaeaea}.cc-sdk .cc-select-wrapper.down .cc-select-options-container,.cc-sdk .cc-select-wrapper.down .cc-select.cc-opened .cc-select-options-container{transform:translateY(20px)}.cc-sdk .cc-question-container[data-type=nps] .cc-question-container__content,.cc-sdk .cc-question-container[data-type=scale] .cc-question-container__content{width:40%}@media (max-width:768px){.cc-sdk .cc-select,.cc-sdk .cc-select-wrapper{min-width:100%}.cc-sdk .cc-select{margin-left:0}.cc-sdk .cc-select-trigger{min-width:100%;width:auto}}[dir=rtl].cc-sdk .cc-select-trigger{padding:0 22px 0 84px;background-position:97%;background-repeat:no-repeat;text-align:right}[dir=rtl].cc-sdk .cc-select-trigger:after{top:50%;left:2px;right:auto}[dir=rtl].cc-sdk .cc-select-option{text-align:right}[dir=rtl].cc-sdk .cc-select-option:first-of-type{border-radius:4px 0 0 4px}[dir=rtl].cc-sdk .cc-select-option:last-of-type{border-radius:0 4px 4px 0}.cc-sdk .cc-checkbox{display:table-cell;vertical-align:middle;position:relative;text-align:center}.cc-sdk .cc-checkbox label{cursor:pointer;display:block;height:20px;width:20px}.cc-sdk .cc-checkbox+span label img{width:40px;display:inline-block;vertical-align:middle}.cc-sdk .cc-checkbox label:after,.cc-sdk .cc-checkbox label:before{content:\\\"\\\";left:0;margin:auto;position:absolute;top:calc(50% - 12.5px)}.cc-sdk .cc-checkbox label:before{background:transparent;border-radius:2px;border:1px solid #424242;cursor:pointer;height:20px;transition:background .3s;width:20px}.cc-sdk .cc-checkbox input[type=checkbox]{opacity:0;outline:0}.cc-sdk .cc-checkbox input[type=checkbox]:checked+label:before{background:#fdaf19;border:none}.cc-sdk .cc-checkbox input[type=checkbox]:checked+label:after{border:3px solid #222;border-right-style:none;border-top-style:none;height:7px;top:calc(50% - 8.5px);left:4px;transform:rotate(-45deg);width:12px}.cc-sdk .cc-checkbox.cc-radio label:before{background:transparent;border:1px solid #424242;cursor:pointer;height:25px;transition:background-color .3s;width:25px}.cc-sdk .cc-checkbox input[type=radio]{opacity:0;outline:0}.cc-sdk .cc-checkbox input[type=radio]:checked+label:before{background:transparent;border-color:#fdaf19}.cc-sdk .cc-question-container__list li{display:inline-table;margin-bottom:0}.cc-sdk .cc-question-container__list li .cc-radio,.cc-sdk .cc-question-container__list li .cc-sdk .cc-checkbox{width:30px}.cc-sdk .cc-checkbox input[type=radio]:checked+label:after{-moz-transform:scale(.8);-ms-transform:scale(.8);-o-transform:scale(.8);-webkit-transform:scale(.8);background:#fdaf19;border-radius:30px;height:25px;transform:scale(.8);width:25px}.cc-sdk .cc-radio label:before{border-radius:30px}.cc-sdk .radio-toggle--more-option li span{padding-left:25px!important;width:125px!important}.cc-sdk .radio-toggle .cc-question-container__list li{padding-left:15px}@media (min-width:1000px){.cc-sdk .radio-toggle .cc-question-container__list li span label{overflow:hidden;max-height:100px;display:block}}@media (min-width:769px) and (max-width:992px){.cc-sdk .radio-toggle .cc-question-container__list li{padding-left:10px}.cc-sdk .radio-toggle .cc-question-container__list li span .label,.cc-sdk .radio-toggle .cc-question-container__list li span label{display:block;max-height:50px;overflow:hidden;text-overflow:ellipsis}}@media (max-width:768px){.cc-sdk .radio-toggle .cc-question-container__list li{padding-left:0;display:block;padding-right:50px}}.cc-sdk .progress-bar{width:100%;position:absolute;background:#a47c2b;z-index:1;height:8px;left:0}.cc-sdk .progress-line{background:#fdaf19;height:100%;display:block;width:0;transition:all .4s ease-in}@media screen and (max-width:768px){.cc-sdk .progress-bar{bottom:unset;top:0}}.cc-sdk .cc-scrollbar-wrapper{float:left;height:100%;overflow:hidden;position:relative;width:100%;z-index:1}.cc-sdk .cc-scrollbar-content{box-sizing:border-box;height:100%;overflow:auto;position:relative;width:107%}.cc-sdk .cc-scrollbar-scroll{background:#aaa;border-radius:4px;cursor:pointer;opacity:0;position:relative;top:0;transition:opacity .25s linear;width:9px;z-index:2}.cc-sdk .cc-scrollbar-container:hover .cc-scrollbar-scroll{opacity:1}.cc-sdk .cc-scrollbar-grabbed{-moz-user-select:none;-o-user-select:none;-webkit-user-select:none;user-select:none}.cc-sdk .cc-sdk-range{-webkit-appearance:none;-moz-appearance:none;width:500px;height:60px;background:transparent}.cc-sdk input[type=range]::-webkit-slider-runnable-track{-webkit-appearance:none;background:#ff403d;background:linear-gradient(135deg,#ff403d,#992a28);filter:progid:DXImageTransform.Microsoft.gradient(startColorstr=\\\"#ff403d \\\",endColorstr=\\\"#992a28 \\\",GradientType=1);height:1px}.cc-sdk input[type=range]:focus{outline:none}.cc-sdk input[type=range]::-moz-range-track{-moz-appearance:none;background:#ff403d;background:linear-gradient(135deg,#7a0806,#992a28);filter:progid:DXImageTransform.Microsoft.gradient(startColorstr=\\\"#ff403d \\\",endColorstr=\\\"#992a28 \\\",GradientType=1);height:1px}.cc-sdk input[type=range]::-ms-track{height:1px;width:500px;background-color:#ff403d}.cc-sdk input[type=range]::-webkit-slider-thumb{-webkit-appearance:none;border:1px solid #ff403d;border-radius:50%;height:32px;width:32px;max-width:80px;position:relative;bottom:16px;background-color:#fff;cursor:-webkit-grab}.cc-sdk input[type=range]::-ms-thumb{border:1px solid #ff403d;border-radius:50%;height:32px;width:32px;background:#e08692;box-sizing:border-box;cursor:pointer!important}.cc-sdk input[type=range]::-moz-range-thumb{-moz-appearance:none;border:1px solid #ff403d;border-radius:50%;height:32px;width:32px;max-width:80px;position:relative;bottom:16px;background-color:#fff;cursor:-moz-grab}.cc-sdk input[type=range]::-moz-range-thumb:before{content:\\\"asd\\\"}.cc-sdk input[type=range]::-webkit-slider-thumb:active{cursor:-webkit-grabbing}.cc-sdk input[type=range]::-moz-range-thumb:active{cursor:-moz-grabbing}.cc-sdk .cc-question-container__content.cc-sdk-range-slider{height:50px}.cc-sdk .slider-tip{background:#eb1c23;padding:8px 9px 9px;position:absolute;left:0;right:0;margin:0 auto;color:#fff;background:none;color:#424242;font-size:13px;width:100px;display:inline-block;text-align:center;font-weight:700}.cc-sdk .slider-tip:after{border-width:5px 5px 0;border-top-color:#000}@media (max-width:1024px){.cc-sdk .cc-sdk-range{width:100%}}.cc-sdk input.cc-sdk-range.cc-blue::-moz-range-track,.cc-sdk input.cc-sdk-range.cc-blue::-webkit-slider-runnable-track{background:blue}.cc-sdk .chart{box-sizing:border-box;display:inline-block;height:21px;padding-top:22px;position:relative;vertical-align:top;width:21px}.cc-sdk .cc-sdk-chart span{display:block;font-size:2em;font-weight:400}.cc-sdk .cc-sdk-chart canvas{left:0;position:absolute;top:0}.cc-sdk .cc-sdk-loader{height:21px;left:28px;position:absolute;top:8px;width:21px}@media (min-width:769px){.cc-sdk .cc-sdk-chart canvas{margin-left:10px}}@media (max-width:768px){.cc-sdk .cc-sdk-loader{position:relative;left:auto;top:0;right:auto}}[dir=rtl].cc-sdk .cc-sdk-chart canvas{right:0;left:auto}[dir=rtl].cc-sdk .cc-sdk-loader{right:28px;left:auto}@media (min-width:768px){[dir=rtl].cc-sdk .cc-sdk-chart canvas{margin-right:10px;margin-left:0}}.cc-sdk .show{display:block!important}.cc-sdk .show-inline{display:inline-block!important}.cc-sdk .hide{display:none!important}.cc-sdk.bottom{bottom:0}.cc-sdk.right,.cc-sdk .right{right:0}.cc-sdk .left{left:0}.cc-sdk .top{top:0}.ccsdk-overlay{background:#fff;bottom:0;height:100%;left:0;position:absolute;top:0;width:100%;z-index:0}.ccsdk-overlay.ccsdk-glass{background-image:url(https://cx.getcloudcherry.com/microsurvey-assets/ww.png);background-repeat:no-repeat;background-size:cover}.ccsdk-clearfix{clear:both;display:block}.ccsdk-text-normal{font-weight:400}.cc-sdk ::-webkit-input-placeholder{color:#4c4c4c;font-family:Open Sans;font-size:13px;font-style:italic;font-weight:400}.cc-sdk .cc-sdk-form-control::-moz-placeholder{font-style:italic;font-size:13px;font-weight:400;font-family:Open Sans;color:#4c4c4c}.cc-sdk .cc-sdk-form-control:-ms-input-placeholder{font-style:italic;font-size:13px;font-weight:400;font-family:Open Sans;color:#4c4c4c}.cc-sdk .cc-sdk-form-control:-moz-placeholder{font-style:italic;font-size:13px;font-weight:400;font-family:Open Sans;color:#4c4c4c}@media (min-width:769px){.desktop-hide{display:none}}@media (max-width:768px){.mobile-hide{display:none}.cc-sdk-loader{position:relative;left:auto;top:0;right:auto}.ccsdk-overlay.welcome-overlay{background:rgba(210,42,53,.87)}}[dir=rtl].cc-sdk .submit-icon{left:0;right:auto;margin-left:75px}@media (max-width:768px){[dir=rtl].cc-sdk .submit-icon{position:absolute;left:auto;top:auto;bottom:30px;padding-left:0;right:20px;margin:0}}.cc-sdk:before{width:0;height:0;overflow:hidden;position:absolute;z-index:-1}.cc-sdk .yellow .progress-bar{background:#a47c2b}.cc-sdk .yellow .progress-line{background:#fdaf19}.cc-sdk .yellow .submit-icon{background-image:url(\\\"data:image/svg+xml;charset=utf8,%3Csvg%20width%3D%2747px%27%20height%3D%2747px%27%20viewBox%3D%270%200%2047%2047%27%20version%3D%271.1%27%20xmlns%3D%27http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%27%20xmlns%3Axlink%3D%27http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%27%3E%3Ctitle%3EGroup%2016%3C%2Ftitle%3E%3Cdesc%3ECreated%20with%20Sketch.%3C%2Fdesc%3E%3Cdefs%3E%3Ccircle%20id%3D%27path-1%27%20cx%3D%2719.3130459%27%20cy%3D%2719.3130459%27%20r%3D%2719.3130459%27%3E%3C%2Fcircle%3E%3Cfilter%20x%3D%27-18.1%25%27%20y%3D%27-12.9%25%27%20width%3D%27136.2%25%27%20height%3D%27136.2%25%27%20filterUnits%3D%27objectBoundingBox%27%20id%3D%27filter-2%27%3E%3CfeOffset%20dx%3D%270%27%20dy%3D%272%27%20in%3D%27SourceAlpha%27%20result%3D%27shadowOffsetOuter1%27%3E%3C%2FfeOffset%3E%3CfeGaussianBlur%20stdDeviation%3D%272%27%20in%3D%27shadowOffsetOuter1%27%20result%3D%27shadowBlurOuter1%27%3E%3C%2FfeGaussianBlur%3E%3CfeColorMatrix%20values%3D%270%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200.116423234%200%27%20type%3D%27matrix%27%20in%3D%27shadowBlurOuter1%27%3E%3C%2FfeColorMatrix%3E%3C%2Ffilter%3E%3C%2Fdefs%3E%3Cg%20id%3D%27Page-1%27%20stroke%3D%27none%27%20stroke-width%3D%271%27%20fill%3D%27none%27%20fill-rule%3D%27evenodd%27%3E%3Cg%20id%3D%271-copy-20%27%20transform%3D%27translate(-1246.000000%2C%20-664.000000)%27%3E%3Cg%20id%3D%27Group-16%27%20transform%3D%27translate(1250.000000%2C%20666.000000)%27%3E%3Cg%20id%3D%27Oval-4%27%3E%3Cuse%20fill%3D%27white%27%20fill-opacity%3D%271%27%20filter%3D%27url(%23filter-2)%27%20xlink%3Ahref%3D%27%23path-1%27%3E%3C%2Fuse%3E%3Cuse%20fill%3D%27%23d04a49%27%20fill-rule%3D%27evenodd%27%20xlink%3Ahref%3D%27%23path-1%27%3E%3C%2Fuse%3E%3C%2Fg%3E%3Cg%20id%3D%27Group-5%27%20transform%3D%27translate(12.000000%2C%2011.000000)%27%20fill-rule%3D%27nonzero%27%20fill%3D%27%23FFFFFF%27%3E%3Cg%20id%3D%27fast-forward-arrows%27%20transform%3D%27translate(6.173934%2C%200.000000)%27%3E%3Cpolygon%20id%3D%27Shape%27%20points%3D%270.993357559%200%200%200.993357559%207.30823082%208.3015552%200%2015.6097197%200.993357559%2016.6030772%209.29491276%208.3015552%27%3E%3C%2Fpolygon%3E%3C%2Fg%3E%3Cg%20id%3D%27fast-forward-arrows-copy%27%3E%3Cpolygon%20id%3D%27Shape%27%20points%3D%270.993357559%200%200%200.993357559%207.30823082%208.3015552%200%2015.6097197%200.993357559%2016.6030772%209.29491276%208.3015552%27%3E%3C%2Fpolygon%3E%3C%2Fg%3E%3C%2Fg%3E%3C%2Fg%3E%3C%2Fg%3E%3C%2Fg%3E%3C%2Fsvg%3E\\\")}.cc-sdk .yellow .cc-checkbox input[type=checkbox]:checked+label:before{background:#fdaf19}.cc-sdk .yellow .cc-checkbox input[type=checkbox]:checked+label:after{border-color:#222}.cc-sdk .yellow .cc-checkbox input[type=radio]:checked+label:before{border-color:#fdaf19}.cc-sdk .yellow .cc-checkbox input[type=radio]:checked+label:after{background:#fdaf19}.cc-sdk .yellow .cc-sdk-form-control:focus{border-color:#fcaf18}.cc-sdk .yellow .cc-message-box__btn{background:#fdaf19}.cc-sdk .red .progress-bar{background:#d22a35}.cc-sdk .red .progress-line{background:#d22a35;filter:brightness(150%)}.cc-sdk .red .cc-checkbox input[type=checkbox]:checked+label:before{background:#d22a35}.cc-sdk .red .cc-checkbox input[type=checkbox]:checked+label:after{border-color:#fff}.cc-sdk .red .cc-checkbox input[type=radio]:checked+label:before{border-color:#d22a35}.cc-sdk .red .cc-checkbox input[type=radio]:checked+label:after{background:#d22a35}.cc-sdk .red .cc-sdk-form-control:focus{border-color:#d22a35}.cc-sdk .red .cc-message-box__btn{background:#d22a35;color:#fff}.cc-question-container,.hide-slide{transform:translateX(5px)}.cc-question-container,.hide-bottom-up,.hide-slide{transition:transform .3s ease,opacity .3s ease,visibility .3s ease;visibility:hidden;opacity:0}.hide-bottom-up{transform:translateY(30px)}.hide-up-bottom{transform:translateY(100%)}.hide-right-left,.hide-up-bottom{transition:transform .3s ease,opacity .3s ease,visibility .3s ease;visibility:hidden;opacity:0}.hide-right-left{transform:translateX(100%)}.hide-left-right{transform:translateX(-100%);visibility:hidden;opacity:0}.hide-left-right,.show-slide,.show-thankyou-slide{transition:transform .3s ease,opacity .3s ease,visibility .3s ease}.show-slide,.show-thankyou-slide{visibility:visible;opacity:1;transform:translateX(0) translateY(0)}.cc-sdk #timer{position:relative}.cc-sdk svg.cc-sdk-timer{position:absolute;top:0;left:0;width:40px;height:40px;transform:rotateY(-180deg) rotate(-90deg)}[dir=rtl].cc-sdk svg.cc-sdk-timer{right:0;left:auto}.cc-sdk svg.cc-sdk-timer circle{stroke-dasharray:50px;stroke-dashoffset:0px;stroke-linecap:round;stroke-width:2px;stroke:red;fill:none;animation:countdown 10s linear 1 forwards}@keyframes countdown{0%{stroke-dashoffset:0px}to{stroke-dashoffset:50px}}.cc-sdk .cc-loaderimg{position:absolute;width:100%;z-index:1000;left:0;right:0;top:0;height:100%;background:hsla(0,0%,100%,.8)}.cc-sdk .cc-loaderimg svg{width:100px}\", \"\"]);\n\n// exports\n","/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n// css base code, injected by the css-loader\nmodule.exports = function() {\n\tvar list = [];\n\n\t// return the list of modules as css string\n\tlist.toString = function toString() {\n\t\tvar result = [];\n\t\tfor(var i = 0; i < this.length; i++) {\n\t\t\tvar item = this[i];\n\t\t\tif(item[2]) {\n\t\t\t\tresult.push(\"@media \" + item[2] + \"{\" + item[1] + \"}\");\n\t\t\t} else {\n\t\t\t\tresult.push(item[1]);\n\t\t\t}\n\t\t}\n\t\treturn result.join(\"\");\n\t};\n\n\t// import a list of modules into the list\n\tlist.i = function(modules, mediaQuery) {\n\t\tif(typeof modules === \"string\")\n\t\t\tmodules = [[null, modules, \"\"]];\n\t\tvar alreadyImportedModules = {};\n\t\tfor(var i = 0; i < this.length; i++) {\n\t\t\tvar id = this[i][0];\n\t\t\tif(typeof id === \"number\")\n\t\t\t\talreadyImportedModules[id] = true;\n\t\t}\n\t\tfor(i = 0; i < modules.length; i++) {\n\t\t\tvar item = modules[i];\n\t\t\t// skip already imported module\n\t\t\t// this implementation is not 100% perfect for weird media query combinations\n\t\t\t//  when a module is imported multiple times with different media queries.\n\t\t\t//  I hope this will never occur (Hey this way we have smaller bundles)\n\t\t\tif(typeof item[0] !== \"number\" || !alreadyImportedModules[item[0]]) {\n\t\t\t\tif(mediaQuery && !item[2]) {\n\t\t\t\t\titem[2] = mediaQuery;\n\t\t\t\t} else if(mediaQuery) {\n\t\t\t\t\titem[2] = \"(\" + item[2] + \") and (\" + mediaQuery + \")\";\n\t\t\t\t}\n\t\t\t\tlist.push(item);\n\t\t\t}\n\t\t}\n\t};\n\treturn list;\n};\n","/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n\nvar stylesInDom = {};\n\nvar\tmemoize = function (fn) {\n\tvar memo;\n\n\treturn function () {\n\t\tif (typeof memo === \"undefined\") memo = fn.apply(this, arguments);\n\t\treturn memo;\n\t};\n};\n\nvar isOldIE = memoize(function () {\n\t// Test for IE <= 9 as proposed by Browserhacks\n\t// @see http://browserhacks.com/#hack-e71d8692f65334173fee715c222cb805\n\t// Tests for existence of standard globals is to allow style-loader\n\t// to operate correctly into non-standard environments\n\t// @see https://github.com/webpack-contrib/style-loader/issues/177\n\treturn window && document && document.all && !window.atob;\n});\n\nvar getElement = (function (fn) {\n\tvar memo = {};\n\n\treturn function(selector) {\n\t\tif (typeof memo[selector] === \"undefined\") {\n\t\t\tmemo[selector] = fn.call(this, selector);\n\t\t}\n\n\t\treturn memo[selector]\n\t};\n})(function (target) {\n\treturn document.querySelector(target)\n});\n\nvar singleton = null;\nvar\tsingletonCounter = 0;\nvar\tstylesInsertedAtTop = [];\n\nvar\tfixUrls = require(\"./urls\");\n\nmodule.exports = function(list, options) {\n\tif (typeof DEBUG !== \"undefined\" && DEBUG) {\n\t\tif (typeof document !== \"object\") throw new Error(\"The style-loader cannot be used in a non-browser environment\");\n\t}\n\n\toptions = options || {};\n\n\toptions.attrs = typeof options.attrs === \"object\" ? options.attrs : {};\n\n\t// Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\n\t// tags it will allow on a page\n\tif (!options.singleton) options.singleton = isOldIE();\n\n\t// By default, add <style> tags to the <head> element\n\tif (!options.insertInto) options.insertInto = \"head\";\n\n\t// By default, add <style> tags to the bottom of the target\n\tif (!options.insertAt) options.insertAt = \"bottom\";\n\n\tvar styles = listToStyles(list, options);\n\n\taddStylesToDom(styles, options);\n\n\treturn function update (newList) {\n\t\tvar mayRemove = [];\n\n\t\tfor (var i = 0; i < styles.length; i++) {\n\t\t\tvar item = styles[i];\n\t\t\tvar domStyle = stylesInDom[item.id];\n\n\t\t\tdomStyle.refs--;\n\t\t\tmayRemove.push(domStyle);\n\t\t}\n\n\t\tif(newList) {\n\t\t\tvar newStyles = listToStyles(newList, options);\n\t\t\taddStylesToDom(newStyles, options);\n\t\t}\n\n\t\tfor (var i = 0; i < mayRemove.length; i++) {\n\t\t\tvar domStyle = mayRemove[i];\n\n\t\t\tif(domStyle.refs === 0) {\n\t\t\t\tfor (var j = 0; j < domStyle.parts.length; j++) domStyle.parts[j]();\n\n\t\t\t\tdelete stylesInDom[domStyle.id];\n\t\t\t}\n\t\t}\n\t};\n};\n\nfunction addStylesToDom (styles, options) {\n\tfor (var i = 0; i < styles.length; i++) {\n\t\tvar item = styles[i];\n\t\tvar domStyle = stylesInDom[item.id];\n\n\t\tif(domStyle) {\n\t\t\tdomStyle.refs++;\n\n\t\t\tfor(var j = 0; j < domStyle.parts.length; j++) {\n\t\t\t\tdomStyle.parts[j](item.parts[j]);\n\t\t\t}\n\n\t\t\tfor(; j < item.parts.length; j++) {\n\t\t\t\tdomStyle.parts.push(addStyle(item.parts[j], options));\n\t\t\t}\n\t\t} else {\n\t\t\tvar parts = [];\n\n\t\t\tfor(var j = 0; j < item.parts.length; j++) {\n\t\t\t\tparts.push(addStyle(item.parts[j], options));\n\t\t\t}\n\n\t\t\tstylesInDom[item.id] = {id: item.id, refs: 1, parts: parts};\n\t\t}\n\t}\n}\n\nfunction listToStyles (list, options) {\n\tvar styles = [];\n\tvar newStyles = {};\n\n\tfor (var i = 0; i < list.length; i++) {\n\t\tvar item = list[i];\n\t\tvar id = options.base ? item[0] + options.base : item[0];\n\t\tvar css = item[1];\n\t\tvar media = item[2];\n\t\tvar sourceMap = item[3];\n\t\tvar part = {css: css, media: media, sourceMap: sourceMap};\n\n\t\tif(!newStyles[id]) styles.push(newStyles[id] = {id: id, parts: [part]});\n\t\telse newStyles[id].parts.push(part);\n\t}\n\n\treturn styles;\n}\n\nfunction insertStyleElement (options, style) {\n\tvar target = getElement(options.insertInto)\n\n\tif (!target) {\n\t\tthrow new Error(\"Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.\");\n\t}\n\n\tvar lastStyleElementInsertedAtTop = stylesInsertedAtTop[stylesInsertedAtTop.length - 1];\n\n\tif (options.insertAt === \"top\") {\n\t\tif (!lastStyleElementInsertedAtTop) {\n\t\t\ttarget.insertBefore(style, target.firstChild);\n\t\t} else if (lastStyleElementInsertedAtTop.nextSibling) {\n\t\t\ttarget.insertBefore(style, lastStyleElementInsertedAtTop.nextSibling);\n\t\t} else {\n\t\t\ttarget.appendChild(style);\n\t\t}\n\t\tstylesInsertedAtTop.push(style);\n\t} else if (options.insertAt === \"bottom\") {\n\t\ttarget.appendChild(style);\n\t} else {\n\t\tthrow new Error(\"Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.\");\n\t}\n}\n\nfunction removeStyleElement (style) {\n\tif (style.parentNode === null) return false;\n\tstyle.parentNode.removeChild(style);\n\n\tvar idx = stylesInsertedAtTop.indexOf(style);\n\tif(idx >= 0) {\n\t\tstylesInsertedAtTop.splice(idx, 1);\n\t}\n}\n\nfunction createStyleElement (options) {\n\tvar style = document.createElement(\"style\");\n\n\toptions.attrs.type = \"text/css\";\n\n\taddAttrs(style, options.attrs);\n\tinsertStyleElement(options, style);\n\n\treturn style;\n}\n\nfunction createLinkElement (options) {\n\tvar link = document.createElement(\"link\");\n\n\toptions.attrs.type = \"text/css\";\n\toptions.attrs.rel = \"stylesheet\";\n\n\taddAttrs(link, options.attrs);\n\tinsertStyleElement(options, link);\n\n\treturn link;\n}\n\nfunction addAttrs (el, attrs) {\n\tObject.keys(attrs).forEach(function (key) {\n\t\tel.setAttribute(key, attrs[key]);\n\t});\n}\n\nfunction addStyle (obj, options) {\n\tvar style, update, remove, result;\n\n\t// If a transform function was defined, run it on the css\n\tif (options.transform && obj.css) {\n\t    result = options.transform(obj.css);\n\n\t    if (result) {\n\t    \t// If transform returns a value, use that instead of the original css.\n\t    \t// This allows running runtime transformations on the css.\n\t    \tobj.css = result;\n\t    } else {\n\t    \t// If the transform function returns a falsy value, don't add this css.\n\t    \t// This allows conditional loading of css\n\t    \treturn function() {\n\t    \t\t// noop\n\t    \t};\n\t    }\n\t}\n\n\tif (options.singleton) {\n\t\tvar styleIndex = singletonCounter++;\n\n\t\tstyle = singleton || (singleton = createStyleElement(options));\n\n\t\tupdate = applyToSingletonTag.bind(null, style, styleIndex, false);\n\t\tremove = applyToSingletonTag.bind(null, style, styleIndex, true);\n\n\t} else if (\n\t\tobj.sourceMap &&\n\t\ttypeof URL === \"function\" &&\n\t\ttypeof URL.createObjectURL === \"function\" &&\n\t\ttypeof URL.revokeObjectURL === \"function\" &&\n\t\ttypeof Blob === \"function\" &&\n\t\ttypeof btoa === \"function\"\n\t) {\n\t\tstyle = createLinkElement(options);\n\t\tupdate = updateLink.bind(null, style, options);\n\t\tremove = function () {\n\t\t\tremoveStyleElement(style);\n\n\t\t\tif(style.href) URL.revokeObjectURL(style.href);\n\t\t};\n\t} else {\n\t\tstyle = createStyleElement(options);\n\t\tupdate = applyToTag.bind(null, style);\n\t\tremove = function () {\n\t\t\tremoveStyleElement(style);\n\t\t};\n\t}\n\n\tupdate(obj);\n\n\treturn function updateStyle (newObj) {\n\t\tif (newObj) {\n\t\t\tif (\n\t\t\t\tnewObj.css === obj.css &&\n\t\t\t\tnewObj.media === obj.media &&\n\t\t\t\tnewObj.sourceMap === obj.sourceMap\n\t\t\t) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tupdate(obj = newObj);\n\t\t} else {\n\t\t\tremove();\n\t\t}\n\t};\n}\n\nvar replaceText = (function () {\n\tvar textStore = [];\n\n\treturn function (index, replacement) {\n\t\ttextStore[index] = replacement;\n\n\t\treturn textStore.filter(Boolean).join('\\n');\n\t};\n})();\n\nfunction applyToSingletonTag (style, index, remove, obj) {\n\tvar css = remove ? \"\" : obj.css;\n\n\tif (style.styleSheet) {\n\t\tstyle.styleSheet.cssText = replaceText(index, css);\n\t} else {\n\t\tvar cssNode = document.createTextNode(css);\n\t\tvar childNodes = style.childNodes;\n\n\t\tif (childNodes[index]) style.removeChild(childNodes[index]);\n\n\t\tif (childNodes.length) {\n\t\t\tstyle.insertBefore(cssNode, childNodes[index]);\n\t\t} else {\n\t\t\tstyle.appendChild(cssNode);\n\t\t}\n\t}\n}\n\nfunction applyToTag (style, obj) {\n\tvar css = obj.css;\n\tvar media = obj.media;\n\n\tif(media) {\n\t\tstyle.setAttribute(\"media\", media)\n\t}\n\n\tif(style.styleSheet) {\n\t\tstyle.styleSheet.cssText = css;\n\t} else {\n\t\twhile(style.firstChild) {\n\t\t\tstyle.removeChild(style.firstChild);\n\t\t}\n\n\t\tstyle.appendChild(document.createTextNode(css));\n\t}\n}\n\nfunction updateLink (link, options, obj) {\n\tvar css = obj.css;\n\tvar sourceMap = obj.sourceMap;\n\n\t/*\n\t\tIf convertToAbsoluteUrls isn't defined, but sourcemaps are enabled\n\t\tand there is no publicPath defined then lets turn convertToAbsoluteUrls\n\t\ton by default.  Otherwise default to the convertToAbsoluteUrls option\n\t\tdirectly\n\t*/\n\tvar autoFixUrls = options.convertToAbsoluteUrls === undefined && sourceMap;\n\n\tif (options.convertToAbsoluteUrls || autoFixUrls) {\n\t\tcss = fixUrls(css);\n\t}\n\n\tif (sourceMap) {\n\t\t// http://stackoverflow.com/a/26603875\n\t\tcss += \"\\n/*# sourceMappingURL=data:application/json;base64,\" + btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))) + \" */\";\n\t}\n\n\tvar blob = new Blob([css], { type: \"text/css\" });\n\n\tvar oldSrc = link.href;\n\n\tlink.href = URL.createObjectURL(blob);\n\n\tif(oldSrc) URL.revokeObjectURL(oldSrc);\n}\n","\n/**\n * When source maps are enabled, `style-loader` uses a link element with a data-uri to\n * embed the css on the page. This breaks all relative urls because now they are relative to a\n * bundle instead of the current page.\n *\n * One solution is to only use full urls, but that may be impossible.\n *\n * Instead, this function \"fixes\" the relative urls to be absolute according to the current page location.\n *\n * A rudimentary test suite is located at `test/fixUrls.js` and can be run via the `npm test` command.\n *\n */\n\nmodule.exports = function (css) {\n  // get current location\n  var location = typeof window !== \"undefined\" && window.location;\n\n  if (!location) {\n    throw new Error(\"fixUrls requires window.location\");\n  }\n\n\t// blank or null?\n\tif (!css || typeof css !== \"string\") {\n\t  return css;\n  }\n\n  var baseUrl = location.protocol + \"//\" + location.host;\n  var currentDir = baseUrl + location.pathname.replace(/\\/[^\\/]*$/, \"/\");\n\n\t// convert each url(...)\n\t/*\n\tThis regular expression is just a way to recursively match brackets within\n\ta string.\n\n\t /url\\s*\\(  = Match on the word \"url\" with any whitespace after it and then a parens\n\t   (  = Start a capturing group\n\t     (?:  = Start a non-capturing group\n\t         [^)(]  = Match anything that isn't a parentheses\n\t         |  = OR\n\t         \\(  = Match a start parentheses\n\t             (?:  = Start another non-capturing groups\n\t                 [^)(]+  = Match anything that isn't a parentheses\n\t                 |  = OR\n\t                 \\(  = Match a start parentheses\n\t                     [^)(]*  = Match anything that isn't a parentheses\n\t                 \\)  = Match a end parentheses\n\t             )  = End Group\n              *\\) = Match anything and then a close parens\n          )  = Close non-capturing group\n          *  = Match anything\n       )  = Close capturing group\n\t \\)  = Match a close parens\n\n\t /gi  = Get all matches, not the first.  Be case insensitive.\n\t */\n\tvar fixedCss = css.replace(/url\\s*\\(((?:[^)(]|\\((?:[^)(]+|\\([^)(]*\\))*\\))*)\\)/gi, function(fullMatch, origUrl) {\n\t\t// strip quotes (if they exist)\n\t\tvar unquotedOrigUrl = origUrl\n\t\t\t.trim()\n\t\t\t.replace(/^\"(.*)\"$/, function(o, $1){ return $1; })\n\t\t\t.replace(/^'(.*)'$/, function(o, $1){ return $1; });\n\n\t\t// already a full url? no change\n\t\tif (/^(#|data:|http:\\/\\/|https:\\/\\/|file:\\/\\/\\/)/i.test(unquotedOrigUrl)) {\n\t\t  return fullMatch;\n\t\t}\n\n\t\t// convert the url to a full url\n\t\tvar newUrl;\n\n\t\tif (unquotedOrigUrl.indexOf(\"//\") === 0) {\n\t\t  \t//TODO: should we add protocol?\n\t\t\tnewUrl = unquotedOrigUrl;\n\t\t} else if (unquotedOrigUrl.indexOf(\"/\") === 0) {\n\t\t\t// path should be relative to the base url\n\t\t\tnewUrl = baseUrl + unquotedOrigUrl; // already starts with '/'\n\t\t} else {\n\t\t\t// path should be relative to current directory\n\t\t\tnewUrl = currentDir + unquotedOrigUrl.replace(/^\\.\\//, \"\"); // Strip leading './'\n\t\t}\n\n\t\t// send back the fixed url(...)\n\t\treturn \"url(\" + JSON.stringify(newUrl) + \")\";\n\t});\n\n\t// send back the fixed css\n\treturn fixedCss;\n};\n","\r\nimport { LanguageTextFilter } from './LanguageTextFilter';\r\nimport { isAnd, doesSatisfy, isOr, checkLanguage } from './filter-utils';\r\n\r\nclass ConditionalTextFilter {\r\n  public static filterText(surveyHandler: any, question: any): string {\r\n    let conditionalText = question.text == null ? '' : LanguageTextFilter.translateQuestionText(surveyHandler, question);\r\n    if (question.text != null) {\r\n      let conditionalText: string = question.text.split(':');\r\n      if (question.setName && question.text.indexOf(\":\") !== -1) {\r\n        conditionalText = conditionalText[0] + ': <br><span class=\"text-normal\">' + conditionalText[1] + '</span>';\r\n      } else {\r\n        conditionalText = conditionalText[0];\r\n      }\r\n    }\r\n    if (question.leadingDisplayTexts == null) {\r\n      conditionalText = LanguageTextFilter.translateQuestionText(surveyHandler, question);\r\n      return conditionalText;\r\n    } else if (question.leadingDisplayTexts.length == 0) {\r\n      conditionalText = LanguageTextFilter.translateQuestionText(surveyHandler, question);\r\n      return conditionalText;\r\n    } else {\r\n      for (let fOption of question.leadingDisplayTexts) {\r\n        if (fOption != null && fOption.filter != null && fOption.filter.filterquestions != null) {\r\n          let iSatisfied: boolean = false;\r\n          let iFailed: boolean = false;\r\n          for (let filterByQuestion of fOption.filter.filterquestions) {\r\n            if (isAnd(filterByQuestion)) {\r\n              if (doesSatisfy(surveyHandler, filterByQuestion) && !iFailed) {\r\n                iSatisfied = true;\r\n              } else {\r\n                iFailed = true;\r\n                break;\r\n              }\r\n            } else if (isOr(filterByQuestion)) {\r\n              if (doesSatisfy(surveyHandler, filterByQuestion)) {\r\n                iSatisfied = true;\r\n                break;\r\n              }\r\n            }\r\n          }\r\n          if (iSatisfied && !iFailed) {\r\n            if (checkLanguage(surveyHandler, fOption)\r\n              || (surveyHandler.ccsdk.config && surveyHandler.ccsdk.config.language\r\n                && surveyHandler.ccsdk.config.language.toLowerCase().indexOf('default') !== -1\r\n                && fOption.language === null)\r\n              || (surveyHandler.ccsdk.config && !surveyHandler.ccsdk.config.language && fOption.language === null)) {\r\n              let groupTitle;\r\n              if (question.setName && conditionalText.indexOf(':') !== -1) {\r\n                groupTitle = conditionalText.split(':')[0];\r\n                conditionalText = groupTitle + ': <br><span class=\"text-normal\">' + fOption.text + '</span>';\r\n              } else {\r\n                conditionalText = fOption.text;\r\n              }\r\n            }\r\n            conditionalText;\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    return conditionalText;\r\n  }\r\n}\r\n\r\nexport { ConditionalTextFilter };","import { DomUtilities } from \"./DomUtilities\";\r\n// import { ScrollBar } from './ScrollBar';\r\nimport { Select } from \"./Select\";\r\nimport { Theme } from \"./Theme\";\r\nimport { ConditionalFlowFilter } from \"../filters/ConditionalFlowFilter\";\r\nimport { Slider } from \"./Slider\";\r\nimport { Constants } from \"../../Constants\";\r\n\r\nclass DomSurvey {\r\n  util: DomUtilities;\r\n  // scrollbar : ScrollBar;\r\n  domListeners: any;\r\n  select: Select;\r\n  theme: Theme;\r\n  qIndex: number;\r\n  currentQuestionId: string;\r\n  $questionContainer: any;\r\n  $innerQuestionContainer: any;\r\n  $popupContainer: any;\r\n  $popupContainer2: any;\r\n  $body: any;\r\n  qResponse: any;\r\n  trackSelects: any = [];\r\n  trackRadios: any = [];\r\n  ccsdk: any;\r\n  currentQuestionListeners: any = [];\r\n  trackSetupListeners: any;\r\n  $startBtn: any;\r\n  bodyElement: any;\r\n\r\n  constructor(ccsdk: any) {\r\n    let self: DomSurvey = this;\r\n    this.domListeners = [];\r\n    this.ccsdk = ccsdk;\r\n    this.qIndex = 0;\r\n    this.qResponse = {};\r\n    this.domSelectElements();\r\n    this.util = new DomUtilities();\r\n    // self.scrollbar = new ScrollBar(\"data-cc-scrollbar\");\r\n    this.util.ready(function () {\r\n      // self.util.addClassAll(self.$popupContainer,'show-slide');\r\n    });\r\n  }\r\n\r\n  setTheme(brandColor, time) {\r\n    let self: DomSurvey = this;\r\n    this.util.ready(function () {\r\n      self.theme = new Theme(brandColor, time);\r\n    });\r\n  }\r\n\r\n  setQIndex(index: number) {\r\n    this.qIndex = index;\r\n  }\r\n\r\n  getQindex() {\r\n    return this.qIndex;\r\n  }\r\n\r\n  domSelectElements() {\r\n    this.$questionContainer = document.querySelectorAll(\r\n      \".cc-questions-container\"\r\n    );\r\n    this.$popupContainer = document.querySelectorAll(\".cc-popup-container\");\r\n    this.$popupContainer2 = document.querySelectorAll(\".cc-popup-container-2\");\r\n    this.$body = document.querySelectorAll(\"body\")[0];\r\n    // this.select = new Select();\r\n  }\r\n\r\n  removePrevListener(id: string): boolean {\r\n    for (let listener of this.domListeners) {\r\n      if (listener.id == id) {\r\n        let index = this.domListeners.indexOf(listener);\r\n        (window as any).ccsdkDebug ? console.log(\"removing listener\", id) : \"\";\r\n        (window as any).ccsdkDebug\r\n          ? console.log(\"removing listener index\", index)\r\n          : \"\";\r\n        this.util.removeListener(\r\n          this.$body,\r\n          listener.type,\r\n          listener.internalHandler\r\n        );\r\n        if (index > -1) {\r\n          this.domListeners.splice(index, 1);\r\n        }\r\n        (window as any).ccsdkDebug ? console.log(this.domListeners) : \"\";\r\n      }\r\n    }\r\n    return true;\r\n  }\r\n\r\n  setupListeners() {\r\n    let self = this;\r\n    let startSurvey = this.util.initListener(\r\n      \"click\",\r\n      \".act-cc-survey-start\",\r\n      function () {\r\n        if (\r\n          !self.util.hasClass(self.$startBtn, \"disabled\") &&\r\n          self.ccsdk.surveyStatus != \"minimized\"\r\n        ) {\r\n          let onSurveyClickEvent = new CustomEvent(\r\n            Constants.SURVEY_CLICK_EVENT + \"-\" + self.ccsdk.surveyToken\r\n          );\r\n          document.dispatchEvent(onSurveyClickEvent);\r\n          self.util.addClass(self.$startBtn, \"disabled\");\r\n          self.showLoader();\r\n          self.startSurvey();\r\n        } else {\r\n          self.initSurveyDom();\r\n        }\r\n      }\r\n    );\r\n    this.domListeners.push(startSurvey);\r\n\r\n    startSurvey.internalHandler = this.util.listener(\r\n      this.$body,\r\n      startSurvey.type,\r\n      startSurvey.id,\r\n      startSurvey.cb\r\n    );\r\n\r\n    let nextQue = this.util.initListener(\r\n      \"click\",\r\n      \".act-cc-button-next\",\r\n      function () {\r\n        // alert(\"working\");\r\n        let onSurveyClickEvent = new CustomEvent(\r\n          Constants.SURVEY_CLICK_EVENT + \"-\" + self.ccsdk.surveyToken\r\n        );\r\n        document.dispatchEvent(onSurveyClickEvent);\r\n        self.nextQuestion();\r\n      }\r\n    );\r\n    this.domListeners.push(nextQue);\r\n\r\n    nextQue.internalHandler = this.util.listener(\r\n      this.$body,\r\n      nextQue.type,\r\n      nextQue.id,\r\n      nextQue.cb\r\n    );\r\n\r\n    let prevQue = this.util.initListener(\r\n      \"click\",\r\n      \".act-cc-button-prev\",\r\n      function () {\r\n        let onSurveyClickEvent = new CustomEvent(\r\n          Constants.SURVEY_CLICK_EVENT + \"-\" + self.ccsdk.surveyToken\r\n        );\r\n        document.dispatchEvent(onSurveyClickEvent);\r\n        self.prevQuestion();\r\n      }\r\n    );\r\n    this.domListeners.push(prevQue);\r\n\r\n    prevQue.internalHandler = this.util.listener(\r\n      this.$body,\r\n      prevQue.type,\r\n      prevQue.id,\r\n      prevQue.cb\r\n    );\r\n\r\n    let closeSurvey = this.util.initListener(\r\n      \"click\",\r\n      \".act-cc-button-close\",\r\n      function () {\r\n        let onSurveyCloseEvent = new CustomEvent(\r\n          Constants.SURVEY_CLOSE_EVENT + \"-\" + self.ccsdk.surveyToken\r\n        );\r\n        document.dispatchEvent(onSurveyCloseEvent);\r\n        self.ccsdk.survey.answers = {};\r\n        self.trackSelects = [];\r\n        self.destroyListeners();\r\n        self.util.trigger(document, \"ccclose\", undefined);\r\n        self.bodyElement = <HTMLElement>(\r\n          document.getElementsByTagName(\"body\")[0]\r\n        );\r\n        self.util.removeClass(self.bodyElement, \"blurr\");\r\n        self.ccsdk.survey.destroy();\r\n      }\r\n    );\r\n    this.domListeners.push(closeSurvey);\r\n\r\n    closeSurvey.internalHandler = this.util.listener(\r\n      this.$body,\r\n      closeSurvey.type,\r\n      closeSurvey.id,\r\n      closeSurvey.cb\r\n    );\r\n\r\n    let minSurvey = this.util.initListener(\r\n      \"click\",\r\n      \".act-cc-button-minimize\",\r\n      function () {\r\n        self.minimizeSurvey();\r\n      }\r\n    );\r\n    this.domListeners.push(minSurvey);\r\n\r\n    minSurvey.internalHandler = this.util.listener(\r\n      self.$body,\r\n      minSurvey.type,\r\n      minSurvey.id,\r\n      minSurvey.cb\r\n    );\r\n  }\r\n\r\n  minimizeSurvey() {\r\n    // this.$popupContainer[0].removeClass('');\r\n    this.util.removeClass(this.$popupContainer2[0], \"hide-right-left\");\r\n    this.util.addClass(this.$popupContainer2[0], \"hide-right-left\");\r\n    setTimeout(() => {\r\n      this.util.removeClass(this.$popupContainer2[0], \"show-slide\");\r\n    }, 200);\r\n    this.util.removeClass(this.$popupContainer[0], \"hide-right-left\");\r\n    this.util.addClass(this.$popupContainer[0], \"hide-right-left\");\r\n    setTimeout(() => {\r\n      this.util.addClass(this.$popupContainer[0], \"show-slide\");\r\n    }, 200);\r\n    this.ccsdk.surveyStatus = \"minimized\";\r\n    let resumeText = this.ccsdk.config.resumeButtonText\r\n      ? this.ccsdk.config.resumeButtonText\r\n      : \"Resume\";\r\n    this.$startBtn.innerHTML = resumeText;\r\n    this.util.removeClass(this.$startBtn, \"disabled\");\r\n\r\n    //update all start btns\r\n    // Array.prototype.forEach.call($startBtn, (el, i) => {\r\n    //   el.innerHTML = resumeText;\r\n    // });\r\n  }\r\n\r\n  destroyListeners() {\r\n    // (window as any).ccsdkDebug?console.log(\"Removing all listeners\"):'';\r\n    for (let listener of this.domListeners) {\r\n      this.util.removeListener(\r\n        this.$body,\r\n        listener.type,\r\n        listener.internalHandler\r\n      );\r\n    }\r\n    for (let listener of this.ccsdk.survey.domListeners) {\r\n      this.util.removeListener(\r\n        this.$body,\r\n        listener.type,\r\n        listener.internalHandler\r\n      );\r\n    }\r\n    if (this.ccsdk.survey.languageSelect) {\r\n      this.ccsdk.survey.languageSelect.destroyListeners();\r\n    }\r\n    if (this.select) {\r\n      this.select.destroyListeners();\r\n    }\r\n  }\r\n\r\n  startSurvey() {\r\n    this.ccsdk.survey.cancelKillWelcomeQuestion();\r\n    this.ccsdk.getSurveyData();\r\n  }\r\n\r\n  initSurveyDom() {\r\n    this.domSelectElements();\r\n    // (window as any).ccsdkDebug?console.log(\"click in setup listener survey start\"):'';\r\n    this.util.addClassAll(this.$popupContainer2, \"show-slide\");\r\n    this.util.removeClass(this.$popupContainer[0], \"show-slide\");\r\n    if (this.ccsdk.surveyStatus == \"minimized\") {\r\n      //resume survey\r\n    } else {\r\n      //start survey\r\n      //check if only one language is configured\r\n      (window as any).ccsdkDebug ? console.log(this.ccsdk.surveyData) : \"\";\r\n      if (\r\n        this.ccsdk.surveyData.translated === null ||\r\n        (this.ccsdk.surveyData.translated &&\r\n          Object.keys(this.ccsdk.surveyData.translated).length < 1)\r\n      ) {\r\n        this.loadFirstQuestion();\r\n      } else {\r\n        this.ccsdk.survey.displayLanguageSelector();\r\n      }\r\n    }\r\n  }\r\n\r\n  updateProgress() {\r\n    let el = <HTMLElement>document.querySelectorAll(\"#progress-line\")[0];\r\n    if (this.ccsdk && this.ccsdk.tracking) {\r\n      this.ccsdk.tracking.trackEvent(\r\n        \"Questions Answered\",\r\n        {\r\n          token: this.ccsdk.surveyToken,\r\n          data: {\r\n            name: `${this.qIndex}/${\r\n              this.ccsdk.survey.questionsToDisplay.length\r\n              }`,\r\n            action: this.currentQuestionId\r\n          }\r\n        },\r\n        null,\r\n        null\r\n      );\r\n    }\r\n    el.style.width =\r\n      (this.qIndex / this.ccsdk.survey.questionsToDisplay.length) * 100 + \"%\";\r\n  }\r\n\r\n  loadFirstQuestion() {\r\n    // applyRuleToAllEl(this.$questionContainer, );\r\n    // this.util.removeClassAll(this.$questionContainer, 'show-slide');\r\n    // this.util.addClass(this.$questionContainer, 'show-slide');\r\n\r\n    this.loadQuestionSpecifics(this.$questionContainer, 0);\r\n    this.util.removeClassAll(\r\n      this.$questionContainer[0].firstChild,\r\n      \"show-slide\"\r\n    );\r\n    this.util.addClass(this.$questionContainer[0].firstChild, \"show-slide\");\r\n    let leftIcon: any = this.util.get(\".act-cc-button-prev\");\r\n    this.util.addClassAll(leftIcon, \"hide-slide\");\r\n    let onSurveyQuestionEvent = new CustomEvent(\r\n      Constants.SURVEY_QUESTION_EVENT + \"-\" + this.ccsdk.surveyToken\r\n    );\r\n    document.dispatchEvent(onSurveyQuestionEvent);\r\n  }\r\n\r\n  nextQuestion() {\r\n    (window as any).ccsdkDebug\r\n      ? console.log(\"next question q response init\", this.qResponse)\r\n      : \"\";\r\n    // console.log('next question q response init',this.qResponse);\r\n    //empty the domListner\r\n    // this.util.removeAllListeners(this.domListeners);\r\n    let onSurveyQuestionEvent = new CustomEvent(\r\n      Constants.SURVEY_QUESTION_EVENT + \"-\" + this.ccsdk.surveyToken\r\n    );\r\n    document.dispatchEvent(onSurveyQuestionEvent);\r\n    //submit the current response\r\n    // (window as any).ccsdkDebug?console.log('submit ',this.qResponse.type, this.qResponse):'';\r\n    let isRequired: boolean = false;\r\n    let q: HTMLElement = this.$questionContainer[0].firstChild;\r\n    // (window as any).ccsdkDebug?console.log(this.$questionContainer):'';\r\n    let span: Element = this.$questionContainer[0].firstChild.querySelectorAll(\r\n      \".cc-question-container__required\"\r\n    )[0];\r\n    let validationSpan: Element = this.$questionContainer[0].firstChild.querySelectorAll(\r\n      \".cc-question-container__validation\"\r\n    )[0];\r\n    if (span) this.util.removeClass(span, \"show\");\r\n    if (validationSpan) this.util.removeClass(validationSpan, \"show\");\r\n\r\n    //check if question is required\r\n    isRequired =\r\n      q.getAttribute(\"data-required\").toLowerCase() == \"true\" ? true : false;\r\n    // console.log('required check',Object.keys(this.qResponse).length, isRequired, this.qResponse);\r\n    // if (isRequired && Object.keys(this.qResponse).length === 0) {\r\n    if (isRequired && Object.keys(this.qResponse).length === 0) {\r\n      if (span) {\r\n        this.util.addClass(span, \"show\");\r\n        this.util.removeClass(span, \"hide\");\r\n      }\r\n      return;\r\n    } else if (isRequired && !this.qResponse.text && !this.qResponse.number) {\r\n      if (span) {\r\n        this.util.addClass(span, \"show\");\r\n        this.util.removeClass(span, \"hide\");\r\n      }\r\n      return;\r\n    } else {\r\n      if (span) {\r\n        this.util.removeClass(span, \"show\");\r\n        this.util.addClass(span, \"hide\");\r\n      }\r\n\r\n      //check if validationRegex is set and is fulfilled\r\n      let validationRegex = this.ccsdk.survey.questionsToDisplay[this.qIndex]\r\n        .validationRegex;\r\n      if (validationRegex) {\r\n        (window as any).ccsdkDebug\r\n          ? console.log(\"validationRegex\", validationRegex)\r\n          : \"\";\r\n        (window as any).ccsdkDebug\r\n          ? console.log(\"response\", this.qResponse)\r\n          : \"\";\r\n        let pattern = validationRegex.match(new RegExp(\"^/(.*?)/([gimy]*)$\"));\r\n        let regex = new RegExp(validationRegex);\r\n        if (this.qResponse.text) {\r\n          if (regex.test(this.qResponse.text)) {\r\n            this.util.removeClass(validationSpan, \"show\");\r\n            this.util.addClass(validationSpan, \"hide\");\r\n          } else {\r\n            if (validationSpan) {\r\n              this.util.addClass(validationSpan, \"show\");\r\n              this.util.removeClass(validationSpan, \"hide\");\r\n            }\r\n            return;\r\n          }\r\n        } else if (this.qResponse.number) {\r\n          (window as any).ccsdkDebug\r\n            ? console.log(\"test regex text\", regex.test(this.qResponse.number))\r\n            : \"\";\r\n\r\n          if (regex.test(this.qResponse.number)) {\r\n            this.util.removeClass(validationSpan, \"show\");\r\n            this.util.addClass(validationSpan, \"hide\");\r\n          } else {\r\n            if (validationSpan) {\r\n              this.util.addClass(validationSpan, \"show\");\r\n              this.util.removeClass(validationSpan, \"hide\");\r\n            }\r\n            return;\r\n          }\r\n        }\r\n      }\r\n\r\n      if (this.qResponse !== \"undefined\") {\r\n        // (window as any).ccsdkDebug?console.log('qindex ' + this.qIndex):'';\r\n        if (\r\n          typeof this.ccsdk.survey.answers[this.currentQuestionId] !==\r\n          \"undefined\" &&\r\n          this.qResponse.type ==\r\n          this.ccsdk.survey.answers[this.currentQuestionId].type &&\r\n          this.qResponse.text ==\r\n          this.ccsdk.survey.answers[this.currentQuestionId].text &&\r\n          this.qResponse.number ==\r\n          this.ccsdk.survey.answers[this.currentQuestionId].number\r\n        ) {\r\n          // console.log('no submit');\r\n          //don't submit if already submitted.\r\n        } else if (\r\n          typeof this.ccsdk.survey.answers[this.currentQuestionId] !==\r\n          \"undefined\" &&\r\n          !this.qResponse.text &&\r\n          !this.qResponse.number\r\n        ) {\r\n          // console.log('no submit 2');\r\n          //previous entry filled\r\n        } else {\r\n          // (window as any).ccsdkDebug?console.log('submitting ' + this.currentQuestionId):'';\r\n          // console.log(this.qResponse);\r\n\r\n          let qId = this.qResponse.questionId\r\n            ? this.qResponse.questionId\r\n            : this.currentQuestionId;\r\n          this.submitQuestion(\r\n            this.qIndex,\r\n            this.qResponse,\r\n            this.qResponse.type,\r\n            qId\r\n          );\r\n          //save response\r\n          this.ccsdk.survey.answers[this.currentQuestionId] = JSON.parse(\r\n            JSON.stringify(this.qResponse)\r\n          );\r\n        }\r\n      }\r\n    }\r\n    ConditionalFlowFilter.filterQuestion(\r\n      this.ccsdk.survey,\r\n      this.ccsdk.survey.questionsToDisplay[this.qIndex]\r\n    );\r\n    // console.log(this.ccsdk.survey.questionsToDisplay);\r\n    //go to next question\r\n    this.qIndex++;\r\n    //reset the post parameters\r\n    // this.qResponse = typeof this.ccsdk.survey.answers[this.currentQuestionId] !== 'undefined' ? JSON.parse(JSON.stringify(this.ccsdk.survey.answers[this.currentQuestionId])) : {};\r\n    // this.qResponse = {};\r\n    let nextButtonState: string = \"initial\";\r\n    // (window as any).ccsdkDebug?console.log(this.$questionContainer):'';\r\n    let nextQ: HTMLElement = this.$questionContainer;\r\n    // (window as any).ccsdkDebug?console.log(this.qIndex):'';\r\n    if (this.qIndex == this.ccsdk.survey.questionsToDisplay.length) {\r\n      //Last run to show thank you message\r\n      let leftIcon: any = this.util.get(\".act-cc-button-prev\");\r\n      let rightIcon: any = this.util.get(\".cc-icon-right\");\r\n      let nextIcon: any = this.util.get(\".act-cc-button-next\");\r\n      this.util.addClassAll(leftIcon, \"hide\");\r\n      this.util.addClassAll(rightIcon, \"hide\");\r\n      this.util.addClassAll(nextIcon, \"hide\");\r\n      this.util.trigger(document, \"ccdone\", undefined);\r\n      this.util.removeClass(\r\n        this.$questionContainer[0].firstChild,\r\n        \"show-slide\"\r\n      );\r\n      this.updateProgress();\r\n    } else {\r\n      if (this.qIndex > this.ccsdk.survey.questionsToDisplay.length) {\r\n        //reset the counter to show first question\r\n        this.qIndex = 0;\r\n      }\r\n      //repopulate qResponse based on answers.\r\n      // ( window as any ).ccsdkDebug ? console.log( 'previous answer', this.ccsdk.survey.answers[ this.currentQuestionId ] ) : '';\r\n      this.qResponse =\r\n        typeof this.ccsdk.survey.answers[this.currentQuestionId] !== \"undefined\"\r\n          ? JSON.parse(\r\n            JSON.stringify(this.ccsdk.survey.answers[this.currentQuestionId])\r\n          )\r\n          : {};\r\n      // this.util.removeClassAll(this.$questionContainer[0].firstChild, 'show-slide');\r\n      // this.util.addClass(nextQ, 'show-slide');\r\n      this.updateProgress();\r\n      this.loadQuestionSpecifics(nextQ, this.qIndex);\r\n      this.util.addClass(this.$questionContainer[0].firstChild, \"show-slide\");\r\n      // if(nextButtonState === 'dirty'){\r\n      // this.submitQuestion(this.qIndex, 'test', 'multiline');\r\n      // }\r\n    }\r\n    if (this.qIndex == 0) {\r\n      let leftIcon: any = this.util.get(\".act-cc-button-prev\");\r\n      this.util.addClassAll(leftIcon, \"hide-slide\");\r\n    } else {\r\n      let leftIcon: any = this.util.get(\".act-cc-button-prev\");\r\n      this.util.addClass(leftIcon[0], \"show-slide\");\r\n      this.util.removeClass(leftIcon[0], \"hide-slide\");\r\n    }\r\n    // ( window as any ).ccsdkDebug ? console.log( 'next question q response end', this.qResponse ) : '';\r\n    // this.qResponse = {};\r\n  }\r\n\r\n  prevQuestion() {\r\n    this.submitQuestion(\r\n      this.qIndex,\r\n      { ...this.qResponse },\r\n      this.qResponse.type,\r\n      this.currentQuestionId\r\n    );\r\n    this.ccsdk.survey.answers[this.currentQuestionId] = JSON.parse(\r\n      JSON.stringify(this.qResponse)\r\n    );\r\n\r\n    this.qIndex--;\r\n    if (!this.ccsdk.survey.questionsToDisplay.length || this.qIndex < 0) {\r\n      this.qIndex = 0;\r\n      return;\r\n      // this.qIndex = this.$questionContainer.length - 1;\r\n    }\r\n    // ( window as any ).ccsdkDebug ? console.log( this.qIndex ) : '';\r\n    let onSurveyQuestionEvent = new CustomEvent(\r\n      Constants.SURVEY_QUESTION_EVENT + \"-\" + this.ccsdk.surveyToken\r\n    );\r\n    document.dispatchEvent(onSurveyQuestionEvent);\r\n    //re populate qResponse based on answers.\r\n    // this.util.removeClassAll(this.$questionContainer,'show-slide');\r\n    this.loadQuestionSpecifics(null, this.qIndex);\r\n    this.qResponse =\r\n      typeof this.ccsdk.survey.answers[this.currentQuestionId] !== \"undefined\"\r\n        ? JSON.parse(\r\n          JSON.stringify(this.ccsdk.survey.answers[this.currentQuestionId])\r\n        )\r\n        : {};\r\n    (window as any).ccsdkDebug\r\n      ? console.log(\"prevQuestion qResponse\", this.qResponse)\r\n      : \"\";\r\n    this.util.addClass(this.$questionContainer[0].firstChild, \"show-slide\");\r\n    this.updateProgress();\r\n    if (this.qIndex == 0) {\r\n      let leftIcon: any = this.util.get(\".act-cc-button-prev\");\r\n      this.util.addClassAll(leftIcon, \"hide-slide\");\r\n      this.util.removeClassAll(leftIcon, \"show-slide\");\r\n    }\r\n  }\r\n\r\n  showLoader() {\r\n    let $loader = document.querySelectorAll(\".cc-loaderimg\")[0];\r\n    this.util.addClass($loader, \"show\");\r\n    this.util.removeClass($loader, \"hide\");\r\n  }\r\n  hideLoader() {\r\n    let $loader = document.querySelectorAll(\".cc-loaderimg\")[0];\r\n    this.util.removeClass($loader, \"show\");\r\n    this.util.addClass($loader, \"hide\");\r\n  }\r\n\r\n  appendInBody(html) {\r\n    document.querySelectorAll(\"body\")[0].insertAdjacentHTML(\"afterbegin\", html);\r\n    //force update domSelect\r\n    this.domSelectElements();\r\n  }\r\n\r\n  replaceInQuestionsContainer(html) {\r\n    this.$questionContainer[0].innerHTML = html;\r\n    this.domSelectElements();\r\n  }\r\n\r\n  appendInQuestionsContainer(html) {\r\n    document\r\n      .querySelectorAll(\".cc-questions-container\")[0]\r\n      .insertAdjacentHTML(\"afterbegin\", html);\r\n    //force update domSelect\r\n    this.domSelectElements();\r\n  }\r\n\r\n  showWelcomeContainer() {\r\n    setTimeout(() => {\r\n      let startContainer = <HTMLElement>(\r\n        document.querySelectorAll(\".act-cc-welcome-question-box\")[0]\r\n      );\r\n      let bodyElement = <HTMLElement>document.getElementsByTagName(\"body\")[0];\r\n      this.util.addClass(startContainer, \"show-slide\");\r\n      // this.util.addClass( bodyElement, \"blurr\" );\r\n    }, 200);\r\n    // console.debug()\r\n    this.$startBtn = document.querySelectorAll(\".act-cc-survey-start\")[0];\r\n  }\r\n\r\n  showLanguageSelector() {\r\n    setTimeout(() => {\r\n      let startContainer = <HTMLElement>(\r\n        document.querySelectorAll(\".cc-language-selector\")[0]\r\n      );\r\n      let bodyElement = <HTMLElement>document.getElementsByTagName(\"body\")[0];\r\n      this.util.addClass(startContainer, \"show-slide\");\r\n      // this.util.addClass( bodyElement, \"blurr\" );\r\n    }, 200);\r\n    let self = this;\r\n    if (\r\n      this.util.checkIfListenerExists(\".cc-language-select\", this.domListeners)\r\n    ) {\r\n      // return;\r\n      // ( window as any ).ccsdkDebug ? console.log( \"language select - previous listeners exists\" ) : '';\r\n      this.removePrevListener(\".cc-language-select\");\r\n    }\r\n    let languageSelect = this.util.initListener(\r\n      \"click\",\r\n      \".cc-language-select\",\r\n      function () {\r\n        // let onSurveyClickEvent = new CustomEvent(Constants.SURVEY_CLICK_EVENT + \"-\" + self.ccsdk.surveyToken);\r\n        // document.dispatchEvent(onSurveyClickEvent);\r\n        //select language show next question.\r\n        // self.startSurvey();\r\n        self.ccsdk.config.language = \"default\";\r\n        self.ccsdk.config.language = \"\"; //language selection from menu then show first question\r\n      }\r\n    );\r\n\r\n    languageSelect.internalHandler = this.util.listener(\r\n      this.$body,\r\n      languageSelect.type,\r\n      languageSelect.id,\r\n      languageSelect.cb\r\n    );\r\n  }\r\n\r\n  getSurveyContainer(token: string) {\r\n    return document.querySelectorAll(\"#\" + token + \"-survey\")[0];\r\n  }\r\n\r\n  getWelcomeContainer(token: string) {\r\n    return document.querySelectorAll(\"#\" + token + \"-welcome\")[0];\r\n  }\r\n\r\n  loadQuestionSpecifics(q: HTMLElement, index: number) {\r\n    let self: DomSurvey = this;\r\n    this.$questionContainer[0].innerHTML = \"\";\r\n    let compiledTemplate = this.ccsdk.survey.compileTemplate(\r\n      this.ccsdk.survey.questionsToDisplay[index]\r\n    );\r\n    this.$questionContainer[0].innerHTML += compiledTemplate;\r\n    let qType: string = this.$questionContainer[0].firstChild.getAttribute(\r\n      \"data-type\"\r\n    );\r\n    let qId: string = this.$questionContainer[0].firstChild.getAttribute(\r\n      \"data-id\"\r\n    );\r\n    this.qResponse = {};\r\n    // (window as any).ccsdkDebug?console.log(\"QTYIPE AND QID \" , qType, qId):'';\r\n    this.currentQuestionId = qId.substring(2, qId.length);\r\n    // console.log( 'qtype', qType )\r\n    switch (qType) {\r\n      case \"scale\":\r\n        let allOptions1: any = document.querySelectorAll(\r\n          \"#\" + qId + \" .option-number-item\"\r\n        );\r\n        let optionWidth1 = 100 / allOptions1.length - 0.6;\r\n        // (window as any).ccsdkDebug?console.log(\"Option width\", allOptions1, optionWidth1.toFixed(2)):'';\r\n        // self.util.css(allOptions1 , 'width',  optionWidth1.toFixed(1) + '%');\r\n        this.setupListenersQuestionScale(index, qId);\r\n        break;\r\n      case \"nps\":\r\n        this.setupListenersQuestionNPS(index, qId);\r\n        break;\r\n      case \"multiline\":\r\n        this.setupListenersQuestionMultiline(index, qId);\r\n        break;\r\n      case \"select\":\r\n        if (typeof this.select !== \"undefined\") {\r\n          this.select.destroyListeners();\r\n        }\r\n        this.setupListenersQuestionSelect(index, qId);\r\n        break;\r\n      case \"radio\":\r\n        this.setupListenersQuestionRadio(index, qId);\r\n        break;\r\n      case \"radioImage\":\r\n        this.setupListenersQuestionRadioImage(index, qId);\r\n        break;\r\n      case \"checkbox\":\r\n        this.setupListenersQuestionCheckbox(index, qId);\r\n        break;\r\n      case \"star\":\r\n        this.setupListenersQuestionStar(index, qId);\r\n        break;\r\n      case \"smile\":\r\n        this.setupListenersQuestionSmile(index, qId);\r\n        break;\r\n      case \"csat\":\r\n        this.setupListenersQuestionCsat(index, qId);\r\n        break;\r\n      case \"slider\":\r\n        this.setupListenersQuestionSlider(index, qId);\r\n        break;\r\n      case \"singleline\":\r\n        this.setupListenersQuestionSingleline(index, qId);\r\n        break;\r\n      case \"number\":\r\n        this.setupListenersQuestionNumber(index, qId);\r\n        break;\r\n      case \"date\":\r\n        this.setupListenersForDate(index, qId);\r\n\r\n      default:\r\n        break;\r\n    }\r\n  }\r\n\r\n  // question specific listeners\r\n\r\n  setupListenersQuestionScale(index: number, qId: string) {\r\n    var self: DomSurvey = this;\r\n    let selectedRating = <HTMLElement>(\r\n      document.querySelectorAll(\"#\" + qId + \" .cc-nps-selected-rating\")[0]\r\n    );\r\n    let selectedRating1 = <HTMLElement>(\r\n      document.querySelectorAll(\"#\" + qId + \" .cc-nps-selected-rating\")[1]\r\n    );\r\n    //add id too.\r\n    if (\r\n      this.util.checkIfListenerExists(\r\n        \"#\" + qId + \" .option-number-item\",\r\n        this.domListeners\r\n      )\r\n    ) {\r\n      // return;\r\n      // ( window as any ).ccsdkDebug ? console.log( \"scale question - previous listeners exists\" ) : '';\r\n      this.removePrevListener(\"#\" + qId + \" .option-number-item\");\r\n    }\r\n\r\n    //set previous value\r\n    let questionId: any;\r\n    questionId = qId.substring(2, qId.length);\r\n    // ( window as any ).ccsdkDebug ? console.log( 'scale question', this.ccsdk.survey.answers[ questionId ] ) : '';\r\n    if (\r\n      typeof this.ccsdk.survey.answers[questionId] !== \"undefined\" &&\r\n      this.ccsdk.survey.answers[questionId] !== \"\"\r\n    ) {\r\n      let previousValue = this.ccsdk.survey.answers[questionId].number;\r\n      let previousSelection = document.querySelectorAll(\r\n        \"#\" + qId + ' .option-number-item[data-rating=\"' + previousValue + '\"]'\r\n      )[0];\r\n      // ( window as any ).ccsdkDebug ? console.log( 'scale previous selection', previousSelection ) : '';\r\n      if (typeof previousSelection !== \"undefined\") {\r\n        this.util.addClass(previousSelection, \"selected\");\r\n        self.qResponse.type = \"scale\";\r\n        self.qResponse.text = null;\r\n        self.qResponse.number = previousValue;\r\n        self.qResponse.questionId = qId;\r\n        selectedRating.innerHTML = previousValue;\r\n        selectedRating1.innerHTML = previousValue;\r\n      }\r\n    }\r\n\r\n    let ref = this.util.initListener(\r\n      \"click\",\r\n      \"#\" + qId + \" .option-number-item\",\r\n      function () {\r\n        let allOptions: any = document.querySelectorAll(\r\n          \"#\" + qId + \" .option-number-item\"\r\n        );\r\n\r\n        let rating: number = this.getAttribute(\"data-rating\");\r\n        self.util.removeClassAll(allOptions, \"selected\");\r\n        self.util.addClass(this, \"selected\");\r\n        // this.parentNode.querySelectorAll(\".option-number-input\")[0].value = rating ;\r\n        // (window as any).ccsdkDebug?console.log('Scale selected',rating):'';\r\n        self.qResponse.type = \"scale\";\r\n        self.qResponse.text = null;\r\n        self.qResponse.number = rating;\r\n        self.qResponse.questionId = qId;\r\n        selectedRating.innerHTML = \"\" + rating;\r\n        selectedRating1.innerHTML = \"\" + rating;\r\n\r\n        //move to next question automagically\r\n        // alert('calling next questions inside scale');\r\n        let onSurveyClickEvent = new CustomEvent(\r\n          Constants.SURVEY_CLICK_EVENT + \"-\" + self.ccsdk.surveyToken\r\n        );\r\n        document.dispatchEvent(onSurveyClickEvent);\r\n        setTimeout(() => {\r\n          self.nextQuestion();\r\n        }, 500);\r\n        // self.util.trigger(document,'q-answered', {\r\n        //   index : index,\r\n        //   rating : rating,\r\n        //   type : 'scale'\r\n        // });\r\n      }\r\n    );\r\n    this.domListeners.push(ref);\r\n\r\n    ref.internalHandler = this.util.listener(\r\n      this.$body,\r\n      ref.type,\r\n      ref.id,\r\n      ref.cb\r\n    );\r\n  }\r\n\r\n  setupListenersQuestionNPS(index: number, qId: string) {\r\n    var self: DomSurvey = this;\r\n    let selectedRating = <HTMLElement>(\r\n      document.querySelectorAll(\"#\" + qId + \" .cc-nps-selected-rating\")[0]\r\n    );\r\n    let allOptions: any = document.querySelectorAll(\r\n      \"#\" + qId + \" .option-number-item\"\r\n    );\r\n\r\n    //add id too.\r\n    if (\r\n      this.util.checkIfListenerExists(\r\n        \"#\" + qId + \" .option-number-item\",\r\n        this.domListeners\r\n      )\r\n    ) {\r\n      //remove listeners\r\n      // ( window as any ).ccsdkDebug ? console.log( \"nps question - previous listeners exists\" ) : '';\r\n      this.removePrevListener(\"#\" + qId + \" .option-number-item\");\r\n    }\r\n\r\n    //set previous value\r\n    let questionId: any;\r\n    questionId = qId.substring(2, qId.length);\r\n    (window as any).ccsdkDebug\r\n      ? console.log(\"nps question\", this.ccsdk.survey.answers[questionId])\r\n      : \"\";\r\n    if (\r\n      typeof this.ccsdk.survey.answers[questionId] !== \"undefined\" &&\r\n      this.ccsdk.survey.answers[questionId] !== \"\"\r\n    ) {\r\n      let previousValue = this.ccsdk.survey.answers[questionId].number;\r\n      let previousSelection = document.querySelectorAll(\r\n        \"#\" + qId + ' .option-number-item[data-rating=\"' + previousValue + '\"]'\r\n      )[0];\r\n      (window as any).ccsdkDebug\r\n        ? console.log(\"nps previous selection\", previousSelection)\r\n        : \"\";\r\n      if (typeof previousSelection !== \"undefined\") {\r\n        this.util.addClass(previousSelection, \"selected\");\r\n        let $mobileRating = document.querySelectorAll(\r\n          \".act-cc-nps-selected-rating\"\r\n        )[0];\r\n        $mobileRating.innerHTML = previousValue;\r\n        self.qResponse.type = \"nps\";\r\n        self.qResponse.text = null;\r\n        self.qResponse.number = previousValue;\r\n        self.qResponse.questionId = qId;\r\n      }\r\n    }\r\n\r\n    // (window as any).ccsdkDebug?console.log(self.domListeners):'';\r\n    let ref = this.util.initListener(\r\n      \"click\",\r\n      \"#\" + qId + \" .option-number-item\",\r\n      function () {\r\n        let rating: number = this.getAttribute(\"data-rating\");\r\n        self.util.removeClassAll(allOptions, \"selected\");\r\n        self.util.addClass(this, \"selected\");\r\n        // this.parentNode.querySelectorAll(\".option-number-input\")[0].value = rating ;\r\n        // (window as any).ccsdkDebug?console.log('Scale selected',rating):'';\r\n        self.qResponse.type = \"nps\";\r\n        self.qResponse.text = null;\r\n        self.qResponse.number = rating;\r\n        self.qResponse.questionId = qId;\r\n        selectedRating.innerHTML = \"\" + rating;\r\n        //move to next question automagically\r\n\r\n        let onSurveyClickEvent = new CustomEvent(\r\n          Constants.SURVEY_CLICK_EVENT + \"-\" + self.ccsdk.surveyToken\r\n        );\r\n        document.dispatchEvent(onSurveyClickEvent);\r\n\r\n        // alert('calling next questions inside scale');\r\n        setTimeout(() => {\r\n          self.nextQuestion();\r\n        }, 500);\r\n        // self.util.trigger(document,'q-answered', {\r\n        //   index : index,\r\n        //   rating : rating,\r\n        //   type : 'scale'\r\n        // });\r\n      }\r\n    );\r\n    this.domListeners.push(ref);\r\n\r\n    ref.internalHandler = this.util.listener(\r\n      this.$body,\r\n      ref.type,\r\n      ref.id,\r\n      ref.cb\r\n    );\r\n  }\r\n\r\n  setupListenersQuestionCheckbox(index: number, qId: string) {\r\n    var self: DomSurvey = this;\r\n    if (\r\n      this.util.checkIfListenerExists(\r\n        \"#\" + qId + \" .cc-checkbox\",\r\n        this.domListeners\r\n      )\r\n    ) {\r\n      // return;\r\n      (window as any).ccsdkDebug\r\n        ? console.log(\"checkbox question - previous listeners exists\")\r\n        : \"\";\r\n      this.removePrevListener(\"#\" + qId + \" .cc-checkbox\");\r\n    }\r\n\r\n    //set previous value\r\n    let questionId: any;\r\n    questionId = qId.substring(2, qId.length);\r\n    (window as any).ccsdkDebug\r\n      ? console.log(\"radio question\", this.ccsdk.survey.answers[questionId])\r\n      : \"\";\r\n    if (\r\n      typeof this.ccsdk.survey.answers[questionId] !== \"undefined\" &&\r\n      this.ccsdk.survey.answers[questionId] !== \"\"\r\n    ) {\r\n      let previousValues = this.ccsdk.survey.answers[questionId].text;\r\n      if (previousValues) {\r\n        previousValues = previousValues.split(\",\");\r\n        for (let previousValue of previousValues) {\r\n          let previousSelection = document.querySelectorAll(\r\n            \"#\" + qId + ' input[value=\"' + previousValue + '\"]'\r\n          )[0];\r\n          (window as any).ccsdkDebug\r\n            ? console.log(\"radio previous selection\", previousSelection)\r\n            : \"\";\r\n          if (typeof previousSelection !== \"undefined\") {\r\n            this.util.addClass(previousSelection, \"selected\");\r\n            previousSelection.setAttribute(\"checked\", \"checked\");\r\n            self.qResponse.type = \"checkbox\";\r\n            self.qResponse.text = previousValue;\r\n            self.qResponse.number = null;\r\n            self.qResponse.questionId = qId;\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    let ref = this.util.initListener(\r\n      \"click\",\r\n      \"#\" + qId + \" .cc-checkbox\",\r\n      function () {\r\n        // let allOptions : any = document.querySelectorAll('#'+qId+' .cc-checkbox input');\r\n        // let rating : number = this.querySelectorAll('input')[0].value;\r\n        let rating: string = [].filter\r\n          .call(\r\n            document.querySelectorAll(\"#\" + qId + \" .cc-checkbox input\"),\r\n            function (c) {\r\n              return c.checked;\r\n            }\r\n          )\r\n          .map(function (c) {\r\n            return c.value;\r\n          })\r\n          .join(\",\");\r\n\r\n        (window as any).ccsdkDebug\r\n          ? console.log(\"Checkbox selected\", rating)\r\n          : \"\";\r\n\r\n        self.qResponse.type = \"checkbox\";\r\n        self.qResponse.text = rating;\r\n        self.qResponse.number = null;\r\n        self.qResponse.questionId = qId;\r\n        //move to next question automagically\r\n        // self.nextQuestion();\r\n      }\r\n    );\r\n    this.domListeners.push(ref);\r\n    let onSurveyClickEvent = new CustomEvent(\r\n      Constants.SURVEY_CLICK_EVENT + \"-\" + self.ccsdk.surveyToken\r\n    );\r\n    document.dispatchEvent(onSurveyClickEvent);\r\n    ref.internalHandler = this.util.listener(\r\n      this.$body,\r\n      ref.type,\r\n      ref.id,\r\n      ref.cb\r\n    );\r\n  }\r\n\r\n  setupListenersQuestionRadio(index: number, qId: string) {\r\n    var self: DomSurvey = this;\r\n    if (\r\n      this.util.checkIfListenerExists(\r\n        \"#\" + qId + \" .cc-checkbox input\",\r\n        this.domListeners\r\n      )\r\n    ) {\r\n      // return;\r\n      //remove listeners\r\n      (window as any).ccsdkDebug\r\n        ? console.log(\"radio question - previous listeners exists\")\r\n        : \"\";\r\n      this.removePrevListener(\"#\" + qId + \" .cc-checkbox input\");\r\n    }\r\n\r\n    //set previous value\r\n    let questionId: any;\r\n    questionId = qId.substring(2, qId.length);\r\n    (window as any).ccsdkDebug\r\n      ? console.log(\"radio question\", this.ccsdk.survey.answers[questionId])\r\n      : \"\";\r\n    if (\r\n      typeof this.ccsdk.survey.answers[questionId] !== \"undefined\" &&\r\n      this.ccsdk.survey.answers[questionId] !== \"\"\r\n    ) {\r\n      let previousValue = this.ccsdk.survey.answers[questionId].text;\r\n      let previousSelection = document.querySelectorAll(\r\n        \"#\" + qId + ' input[value=\"' + previousValue + '\"]'\r\n      )[0];\r\n      (window as any).ccsdkDebug\r\n        ? console.log(\"radio previous selection\", previousSelection)\r\n        : \"\";\r\n      if (typeof previousSelection !== \"undefined\") {\r\n        this.util.addClass(previousSelection, \"selected\");\r\n        previousSelection.setAttribute(\"checked\", \"checked\");\r\n        self.qResponse.type = \"radio\";\r\n        self.qResponse.text = previousValue;\r\n        self.qResponse.number = null;\r\n        self.qResponse.questionId = qId;\r\n      }\r\n    }\r\n\r\n    let ref = this.util.initListener(\r\n      \"click\",\r\n      \"#\" + qId + \" .cc-checkbox input\",\r\n      function () {\r\n        // let allOptions : any = document.querySelectorAll('#'+qId+' .cc-checkbox');\r\n        let rating: string = this.value;\r\n        // self.util.removeClassAll(allOptions, \"selected\");\r\n        // self.util.addClass(this, \"selected\");\r\n        // this.parentNode.querySelectorAll(\".option-number-input\")[0].value = rating ;\r\n        // (window as any).ccsdkDebug?console.log('Star selected',rating):'';\r\n        self.qResponse.type = \"radio\";\r\n        self.qResponse.text = rating;\r\n        self.qResponse.number = null;\r\n        self.qResponse.questionId = qId;\r\n        let onSurveyClickEvent = new CustomEvent(\r\n          Constants.SURVEY_CLICK_EVENT + \"-\" + self.ccsdk.surveyToken\r\n        );\r\n        document.dispatchEvent(onSurveyClickEvent);\r\n        //move to next question automagically\r\n        setTimeout(() => {\r\n          self.nextQuestion();\r\n        }, 500);\r\n      }\r\n    );\r\n    this.domListeners.push(ref);\r\n\r\n    ref.internalHandler = this.util.listener(\r\n      this.$body,\r\n      ref.type,\r\n      ref.id,\r\n      ref.cb\r\n    );\r\n  }\r\n\r\n  setupListenersQuestionRadioImage(index: number, qId: string) {\r\n    var self: DomSurvey = this;\r\n    if (\r\n      this.util.checkIfListenerExists(\r\n        \"#\" + qId + \" .cc-checkbox input\",\r\n        this.domListeners\r\n      )\r\n    ) {\r\n      (window as any).ccsdkDebug\r\n        ? console.log(\"radio image question - previous listeners exists\")\r\n        : \"\";\r\n      this.removePrevListener(\"#\" + qId + \" .cc-checkbox input\");\r\n    }\r\n\r\n    //set previous value\r\n    let questionId: any;\r\n    questionId = qId.substring(2, qId.length);\r\n    (window as any).ccsdkDebug\r\n      ? console.log(\r\n        \"radio image question\",\r\n        this.ccsdk.survey.answers[questionId]\r\n      )\r\n      : \"\";\r\n    if (\r\n      typeof this.ccsdk.survey.answers[questionId] !== \"undefined\" &&\r\n      this.ccsdk.survey.answers[questionId] !== \"\"\r\n    ) {\r\n      let previousValue = this.ccsdk.survey.answers[questionId].text;\r\n      let previousSelection = document.querySelectorAll(\r\n        \"#\" + qId + ' input[value=\"' + previousValue + '\"]'\r\n      )[0];\r\n      (window as any).ccsdkDebug\r\n        ? console.log(\"radio image previous selection\", previousSelection)\r\n        : \"\";\r\n      if (typeof previousSelection !== \"undefined\") {\r\n        this.util.addClass(previousSelection, \"selected\");\r\n        previousSelection.setAttribute(\"checked\", \"checked\");\r\n        self.qResponse.type = \"radioImage\";\r\n        self.qResponse.text = previousValue;\r\n        self.qResponse.number = null;\r\n        self.qResponse.questionId = qId;\r\n      }\r\n    }\r\n\r\n    let ref = this.util.initListener(\r\n      \"click\",\r\n      \"#\" + qId + \" .cc-checkbox input\",\r\n      function () {\r\n        // let allOptions : any = document.querySelectorAll('#'+qId+' .cc-checkbox');\r\n        let rating: string = this.value;\r\n        // self.util.removeClassAll(allOptions, \"selected\");\r\n        // self.util.addClass(this, \"selected\");\r\n        // this.parentNode.querySelectorAll(\".option-number-input\")[0].value = rating ;\r\n        // (window as any).ccsdkDebug?console.log('Star selected',rating):'';\r\n        self.qResponse.type = \"radioImage\";\r\n        self.qResponse.text = rating;\r\n        self.qResponse.number = null;\r\n        self.qResponse.questionId = qId;\r\n        let onSurveyClickEvent = new CustomEvent(\r\n          Constants.SURVEY_CLICK_EVENT + \"-\" + self.ccsdk.surveyToken\r\n        );\r\n        document.dispatchEvent(onSurveyClickEvent);\r\n        //move to next question automagically\r\n        setTimeout(() => {\r\n          self.nextQuestion();\r\n        }, 500);\r\n      }\r\n    );\r\n    this.domListeners.push(ref);\r\n\r\n    ref.internalHandler = this.util.listener(\r\n      this.$body,\r\n      ref.type,\r\n      ref.id,\r\n      ref.cb\r\n    );\r\n  }\r\n\r\n  setupListenersQuestionStar(index: number, qId: string) {\r\n    var self: DomSurvey = this;\r\n    if (\r\n      this.util.checkIfListenerExists(\r\n        \"#\" + qId + \" .option-star-box\",\r\n        this.domListeners\r\n      )\r\n    ) {\r\n      //remove listeners\r\n      (window as any).ccsdkDebug\r\n        ? console.log(\"smile question - previous listeners exists\")\r\n        : \"\";\r\n      this.removePrevListener(\"#\" + qId + \" .option-star-box\");\r\n    }\r\n    //set previous value\r\n    let questionId: any;\r\n    questionId = qId.substring(2, qId.length);\r\n    (window as any).ccsdkDebug\r\n      ? console.log(\"star question\", this.ccsdk.survey.answers[questionId])\r\n      : \"\";\r\n    if (\r\n      typeof this.ccsdk.survey.answers[questionId] !== \"undefined\" &&\r\n      this.ccsdk.survey.answers[questionId] !== \"\"\r\n    ) {\r\n      let previousValue = this.ccsdk.survey.answers[questionId].number;\r\n      let previousSelection = document.querySelectorAll(\r\n        \"#\" + qId + ' .option-star-box[data-rating=\"' + previousValue + '\"]'\r\n      )[0];\r\n      (window as any).ccsdkDebug\r\n        ? console.log(\"star previous selection\", previousSelection)\r\n        : \"\";\r\n      if (\r\n        typeof previousSelection !== \"undefined\" &&\r\n        previousSelection != null\r\n      ) {\r\n        this.util.addClass(previousSelection, \"selected\");\r\n        self.qResponse.type = \"star\";\r\n        self.qResponse.text = null;\r\n        self.qResponse.number = previousValue;\r\n        self.qResponse.questionId = qId;\r\n      }\r\n    }\r\n    let ref = this.util.initListener(\r\n      \"click\",\r\n      \"#\" + qId + \" .option-star-box\",\r\n      function () {\r\n        let allOptions: any = document.querySelectorAll(\r\n          \"#\" + qId + \" .option-star-box\"\r\n        );\r\n        let rating: number = this.getAttribute(\"data-rating\");\r\n        self.util.removeClassAll(allOptions, \"selected\");\r\n        self.util.addClass(this, \"selected\");\r\n\r\n        //select previous sibling\r\n        // let child : any = this.previousSibling;\r\n        // while( ( child = child.previousSibling) != null ){\r\n        //   self.util.addClass(child, \"selected\");\r\n        // }\r\n\r\n        // this.parentNode.querySelectorAll(\".option-number-input\")[0].value = rating ;\r\n        // (window as any).ccsdkDebug?console.log('Star selected',rating):'';\r\n        self.qResponse.type = \"star\";\r\n        self.qResponse.text = null;\r\n        self.qResponse.number = rating;\r\n        self.qResponse.questionId = qId;\r\n\r\n        let onSurveyClickEvent = new CustomEvent(\r\n          Constants.SURVEY_CLICK_EVENT + \"-\" + self.ccsdk.surveyToken\r\n        );\r\n        document.dispatchEvent(onSurveyClickEvent);\r\n        //move to next question automagically\r\n        setTimeout(() => {\r\n          self.nextQuestion();\r\n        }, 500);\r\n      }\r\n    );\r\n    this.domListeners.push(ref);\r\n\r\n    ref.internalHandler = this.util.listener(\r\n      this.$body,\r\n      ref.type,\r\n      ref.id,\r\n      ref.cb\r\n    );\r\n  }\r\n\r\n  setupListenersQuestionSmile(index: number, qId: string) {\r\n    var self: DomSurvey = this;\r\n    if (\r\n      this.util.checkIfListenerExists(\r\n        \"#\" + qId + \" .option-smile-box\",\r\n        this.domListeners\r\n      )\r\n    ) {\r\n      //remove listeners\r\n      (window as any).ccsdkDebug\r\n        ? console.log(\"smile question - previous listeners exists\")\r\n        : \"\";\r\n      this.removePrevListener(\"#\" + qId + \" .option-smile-box\");\r\n    }\r\n    //set previous value\r\n    let questionId: any;\r\n    questionId = qId.substring(2, qId.length);\r\n    (window as any).ccsdkDebug\r\n      ? console.log(\"smile question\", this.ccsdk.survey.answers[questionId])\r\n      : \"\";\r\n    if (\r\n      typeof this.ccsdk.survey.answers[questionId] !== \"undefined\" &&\r\n      this.ccsdk.survey.answers[questionId] !== \"\"\r\n    ) {\r\n      let previousValue = this.ccsdk.survey.answers[questionId].number;\r\n      let previousSelection = document.querySelectorAll(\r\n        \"#\" + qId + ' .option-smile-box[data-rating=\"' + previousValue + '\"]'\r\n      )[0];\r\n      (window as any).ccsdkDebug\r\n        ? console.log(\"smile previous selection\", previousSelection)\r\n        : \"\";\r\n      if (\r\n        typeof previousSelection !== \"undefined\" &&\r\n        previousSelection != null\r\n      ) {\r\n        this.util.addClass(previousSelection, \"selected\");\r\n        self.qResponse.type = \"smile\";\r\n        self.qResponse.text = null;\r\n        self.qResponse.number = previousValue;\r\n        self.qResponse.questionId = qId;\r\n      }\r\n    }\r\n\r\n    let ref = this.util.initListener(\r\n      \"click\",\r\n      \"#\" + qId + \" .option-smile-box\",\r\n      function () {\r\n        let allOptions: any = document.querySelectorAll(\r\n          \"#\" + qId + \" .option-smile-box\"\r\n        );\r\n        let rating: number = this.getAttribute(\"data-rating\");\r\n        self.util.removeClassAll(allOptions, \"selected\");\r\n        self.util.addClass(this, \"selected\");\r\n\r\n        //select previous siblings\r\n        // let child : any = this.previousSibling;\r\n        // while( ( child = child.previousSibling) != null ){\r\n        //   self.util.addClass(child, \"selected\");\r\n        // }\r\n        // this.parentNode.querySelectorAll(\".option-number-input\")[0].value = rating ;\r\n        // (window as any).ccsdkDebug?console.log('Smile selected',rating):'';\r\n        self.qResponse.type = \"smile\";\r\n        self.qResponse.text = null;\r\n        self.qResponse.number = rating;\r\n        self.qResponse.questionId = qId;\r\n\r\n        let onSurveyClickEvent = new CustomEvent(\r\n          Constants.SURVEY_CLICK_EVENT + \"-\" + self.ccsdk.surveyToken\r\n        );\r\n        document.dispatchEvent(onSurveyClickEvent);\r\n        //move to next question automagically\r\n        setTimeout(() => {\r\n          self.nextQuestion();\r\n        }, 500);\r\n      }\r\n    );\r\n    this.domListeners.push(ref);\r\n\r\n    ref.internalHandler = this.util.listener(\r\n      this.$body,\r\n      ref.type,\r\n      ref.id,\r\n      ref.cb\r\n    );\r\n  }\r\n\r\n  setupListenersQuestionCsat(index: number, qId: string) {\r\n    var self: DomSurvey = this;\r\n    if (\r\n      this.util.checkIfListenerExists(\r\n        \"#\" + qId + \" .option-smile-box\",\r\n        this.domListeners\r\n      )\r\n    ) {\r\n      //remove listeners\r\n      (window as any).ccsdkDebug\r\n        ? console.log(\"csat question - previous listeners exists\")\r\n        : \"\";\r\n      this.removePrevListener(\"#\" + qId + \" .option-smile-box\");\r\n    }\r\n    //set previous value\r\n    let questionId: any;\r\n    questionId = qId.substring(2, qId.length);\r\n    (window as any).ccsdkDebug\r\n      ? console.log(\"csat question\", this.ccsdk.survey.answers[questionId])\r\n      : \"\";\r\n    if (\r\n      typeof this.ccsdk.survey.answers[questionId] !== \"undefined\" &&\r\n      this.ccsdk.survey.answers[questionId] !== \"\"\r\n    ) {\r\n      let previousValue = this.ccsdk.survey.answers[questionId].number;\r\n      let previousSelection = document.querySelectorAll(\r\n        \"#\" + qId + ' .option-smile-box[data-rating=\"' + previousValue + '\"]'\r\n      )[0];\r\n      (window as any).ccsdkDebug\r\n        ? console.log(\"csat previous selection\", previousSelection)\r\n        : \"\";\r\n      if (\r\n        typeof previousSelection !== \"undefined\" &&\r\n        previousSelection != null\r\n      ) {\r\n        this.util.addClass(previousSelection, \"selected\");\r\n        previousSelection\r\n          .querySelectorAll(\"input\")[0]\r\n          .setAttribute(\"checked\", \"checked\");\r\n        self.qResponse.type = \"smile\";\r\n        self.qResponse.text = null;\r\n        self.qResponse.number = previousValue;\r\n        self.qResponse.questionId = qId;\r\n      }\r\n    }\r\n\r\n    let ref = this.util.initListener(\r\n      \"click\",\r\n      \"#\" + qId + \" .option-smile-box\",\r\n      function () {\r\n        let allOptions: any = document.querySelectorAll(\r\n          \"#\" + qId + \" .option-smile-box\"\r\n        );\r\n        let rating: number = this.getAttribute(\"data-rating\");\r\n        self.util.removeClassAll(allOptions, \"selected\");\r\n        self.util.addClass(this, \"selected\");\r\n        this.querySelectorAll(\"input\")[0].setAttribute(\"checked\", \"checked\");\r\n        let child: any = this.previousSibling;\r\n        while ((child = child.previousSibling) != null) {\r\n          // (window as any).ccsdkDebug?console.log('questionscale', 'previousSiblings', child):'';\r\n          self.util.addClass(child, \"selected\");\r\n        }\r\n        // this.parentNode.querySelectorAll(\".option-number-input\")[0].value = rating ;\r\n        // (window as any).ccsdkDebug?console.log('Smile selected',rating):'';\r\n        self.qResponse.type = \"smile\";\r\n        self.qResponse.text = null;\r\n        self.qResponse.number = rating;\r\n        self.qResponse.questionId = qId;\r\n        console.log(\"dispatching event in csat\", this);\r\n        let onSurveyClickEvent = new CustomEvent(\r\n          Constants.SURVEY_CLICK_EVENT + \"-\" + self.ccsdk.surveyToken\r\n        );\r\n        document.dispatchEvent(onSurveyClickEvent);\r\n        //move to next question automagically\r\n        setTimeout(() => {\r\n          self.nextQuestion();\r\n        }, 500);\r\n      }\r\n    );\r\n    this.domListeners.push(ref);\r\n\r\n    ref.internalHandler = this.util.listener(\r\n      this.$body,\r\n      ref.type,\r\n      ref.id,\r\n      ref.cb\r\n    );\r\n  }\r\n\r\n  setupListenersQuestionMultiline(index: number, qId: string) {\r\n    let self: DomSurvey = this;\r\n    let multilineRes: string = \"\";\r\n    if (this.util.checkIfListenerExists(\"#\" + qId, this.domListeners)) {\r\n      //remove listeners\r\n      (window as any).ccsdkDebug\r\n        ? console.log(\"multiine question - previous listeners exists\")\r\n        : \"\";\r\n      this.removePrevListener(\"#\" + qId);\r\n    }\r\n    //set previous value\r\n    let questionId: any;\r\n    questionId = qId.substring(2, qId.length);\r\n    (window as any).ccsdkDebug\r\n      ? console.log(\"multiine question\", this.ccsdk.survey.answers[questionId])\r\n      : \"\";\r\n    if (\r\n      typeof this.ccsdk.survey.answers[questionId] !== \"undefined\" &&\r\n      this.ccsdk.survey.answers[questionId] !== \"\"\r\n    ) {\r\n      let previousValue = this.ccsdk.survey.answers[questionId].text;\r\n      (window as any).ccsdkDebug\r\n        ? console.log(\r\n          \"multiine input box\",\r\n          document.querySelectorAll(\"#\" + qId)[0]\r\n        )\r\n        : \"\";\r\n      let previousSelection = <HTMLInputElement>(\r\n        document.querySelectorAll(\"#\" + qId)[0]\r\n      );\r\n      (window as any).ccsdkDebug\r\n        ? console.log(\"multiine previous selection\", previousSelection)\r\n        : \"\";\r\n      (window as any).ccsdkDebug\r\n        ? console.log(\"multiine previous value\", previousValue)\r\n        : \"\";\r\n      if (\r\n        typeof previousSelection !== \"undefined\" &&\r\n        previousSelection != null &&\r\n        typeof previousValue !== \"undefined\"\r\n      ) {\r\n        previousSelection.value = previousValue;\r\n        self.qResponse.type = \"multiline\";\r\n        self.qResponse.text = previousValue;\r\n        self.qResponse.number = null;\r\n        self.qResponse.questionId = qId;\r\n      }\r\n    }\r\n    let ref = this.util.initListener(\"change\", \"#\" + qId, function () {\r\n      multilineRes = this.value;\r\n      self.qResponse.type = \"multiline\";\r\n      self.qResponse.text = multilineRes;\r\n      self.qResponse.number = null;\r\n      self.qResponse.questionId = qId;\r\n    });\r\n    this.domListeners.push(ref);\r\n\r\n    ref.internalHandler = this.util.listener(\r\n      this.$body,\r\n      ref.type,\r\n      ref.id,\r\n      ref.cb\r\n    );\r\n  }\r\n\r\n  setupListenersQuestionSingleline(index: number, qId: string) {\r\n    let self: DomSurvey = this;\r\n    let singlelineRes: string = \"\";\r\n    if (this.util.checkIfListenerExists(\"#\" + qId, this.domListeners)) {\r\n      //remove listeners\r\n      (window as any).ccsdkDebug\r\n        ? console.log(\"singleline question - previous listeners exists\")\r\n        : \"\";\r\n      this.removePrevListener(\"#\" + qId);\r\n    }\r\n    //set previous value\r\n    let questionId: any;\r\n    questionId = qId.substring(2, qId.length);\r\n    (window as any).ccsdkDebug\r\n      ? console.log(\r\n        \"singleline question\",\r\n        this.ccsdk.survey.answers[questionId]\r\n      )\r\n      : \"\";\r\n    if (\r\n      typeof this.ccsdk.survey.answers[questionId] !== \"undefined\" &&\r\n      this.ccsdk.survey.answers[questionId] !== \"\"\r\n    ) {\r\n      let previousValue = this.ccsdk.survey.answers[questionId].text;\r\n      (window as any).ccsdkDebug\r\n        ? console.log(\r\n          \"singleline input box\",\r\n          document.querySelectorAll(\"#\" + qId)[0]\r\n        )\r\n        : \"\";\r\n      let previousSelection = <HTMLInputElement>(\r\n        document.querySelectorAll(\"#\" + qId)[0]\r\n      );\r\n      (window as any).ccsdkDebug\r\n        ? console.log(\"singleline previous selection\", previousSelection)\r\n        : \"\";\r\n      (window as any).ccsdkDebug\r\n        ? console.log(\"singleline previous value\", previousValue)\r\n        : \"\";\r\n      if (\r\n        typeof previousSelection !== \"undefined\" &&\r\n        previousSelection != null &&\r\n        typeof previousValue !== \"undefined\"\r\n      ) {\r\n        previousSelection.value = previousValue;\r\n        self.qResponse.type = \"singleline\";\r\n        self.qResponse.text = previousValue;\r\n        self.qResponse.number = null;\r\n        self.qResponse.questionId = qId;\r\n      }\r\n    }\r\n    let ref = this.util.initListener(\"change\", \"#\" + qId, function () {\r\n      singlelineRes = this.value;\r\n      self.qResponse.type = \"singleline\";\r\n      self.qResponse.text = singlelineRes;\r\n      self.qResponse.number = null;\r\n      self.qResponse.questionId = qId;\r\n    });\r\n    this.domListeners.push(ref);\r\n\r\n    ref.internalHandler = this.util.listener(\r\n      this.$body,\r\n      ref.type,\r\n      ref.id,\r\n      ref.cb\r\n    );\r\n\r\n    // console.log( 'singleline qResponse', self.qResponse );\r\n  }\r\n\r\n  setupListenersForDate(index: number, qId: string) {\r\n    if (this.util.checkIfListenerExists(\".date-container\", this.domListeners)) {\r\n      //remove listeners\r\n      (window as any).ccsdkDebug\r\n        ? console.log(\"date question - previous listeners exists\")\r\n        : \"\";\r\n      this.removePrevListener(\".date-container\");\r\n    }\r\n\r\n    let questionId: any;\r\n    let self = this;\r\n    questionId = qId.substring(2, qId.length);\r\n    (window as any).ccsdkDebug\r\n      ? console.log(\"date question\", this.ccsdk.survey.answers, questionId)\r\n      : \"\";\r\n    if (\r\n      this.ccsdk.survey.answers[questionId] &&\r\n      this.ccsdk.survey.answers[questionId].number\r\n    ) {\r\n      let model = this.ccsdk.survey.answers[questionId].number;\r\n      let dateQuestion = this.util.get(\".date-container\")[0];\r\n      let list = model.toString().match(/\\d\\d/g);\r\n\r\n      (<HTMLInputElement>dateQuestion.children[0]).value = list[3];\r\n      (<HTMLInputElement>dateQuestion.children[1]).value = list[2];\r\n      (<HTMLInputElement>dateQuestion.children[2]).value = list[0] + list[1];\r\n\r\n      this.qResponse.type = \"date\";\r\n      this.qResponse.text = null;\r\n      this.qResponse.number = model;\r\n      this.qResponse.questionId = qId;\r\n    }\r\n\r\n    let ref = this.util.initListener(\"change\", \".date-container\", function () {\r\n      let date = this.children[0].value;\r\n      let month = this.children[1].value;\r\n      let year = this.children[2].value;\r\n      if (!date && !month && !year) {\r\n        return;\r\n      }\r\n\r\n      if (!date.match(/^\\d\\d$/)) {\r\n        self.util.addClass(this.children[3], \"show-error\");\r\n        return;\r\n      } else if (!month.match(/^\\d\\d$/)) {\r\n        self.util.addClass(this.children[3], \"show-error\");\r\n        return;\r\n      } else if (!year.match(/^\\d\\d\\d\\d$/)) {\r\n        self.util.addClass(this.children[3], \"show-error\");\r\n        return;\r\n      } else {\r\n        self.util.removeClass(this.children[3], \"show-error\");\r\n        let numberRes = parseInt(year + month + date, 10);\r\n        self.qResponse.type = \"number\";\r\n        self.qResponse.text = null;\r\n        self.qResponse.number = numberRes;\r\n        self.qResponse.questionId = qId;\r\n      }\r\n    });\r\n\r\n    this.domListeners.push(ref);\r\n\r\n    ref.internalHandler = this.util.listener(\r\n      this.$body,\r\n      ref.type,\r\n      ref.id,\r\n      ref.cb\r\n    );\r\n  }\r\n\r\n  setupListenersQuestionNumber(index: number, qId: string) {\r\n    let self: DomSurvey = this;\r\n    let numberRes: string = \"\";\r\n    if (this.util.checkIfListenerExists(\"#\" + qId, this.domListeners)) {\r\n      //remove listeners\r\n      (window as any).ccsdkDebug\r\n        ? console.log(\"number question - previous listeners exists\")\r\n        : \"\";\r\n      this.removePrevListener(\"#\" + qId);\r\n    }\r\n    //set previous value\r\n    let questionId: any;\r\n    questionId = qId.substring(2, qId.length);\r\n    (window as any).ccsdkDebug\r\n      ? console.log(\"number question\", this.ccsdk.survey.answers[questionId])\r\n      : \"\";\r\n    if (\r\n      typeof this.ccsdk.survey.answers[questionId] !== \"undefined\" &&\r\n      this.ccsdk.survey.answers[questionId] !== \"\"\r\n    ) {\r\n      let previousValue = this.ccsdk.survey.answers[questionId].number;\r\n      (window as any).ccsdkDebug\r\n        ? console.log(\r\n          \"number input box\",\r\n          document.querySelectorAll(\"#\" + qId)[0]\r\n        )\r\n        : \"\";\r\n      let previousSelection = <HTMLInputElement>(\r\n        document.querySelectorAll(\"#\" + qId)[0]\r\n      );\r\n      (window as any).ccsdkDebug\r\n        ? console.log(\"number previous selection\", previousSelection)\r\n        : \"\";\r\n      (window as any).ccsdkDebug\r\n        ? console.log(\"number previous value\", previousValue)\r\n        : \"\";\r\n      if (\r\n        typeof previousSelection !== \"undefined\" &&\r\n        previousSelection != null &&\r\n        typeof previousValue !== \"undefined\"\r\n      ) {\r\n        previousSelection.value = previousValue;\r\n        self.qResponse.type = \"number\";\r\n        self.qResponse.text = null;\r\n        self.qResponse.number = previousValue;\r\n        self.qResponse.questionId = qId;\r\n      }\r\n    }\r\n    let ref = this.util.initListener(\"change\", \"#\" + qId, function () {\r\n      numberRes = this.value;\r\n      self.qResponse.type = \"number\";\r\n      self.qResponse.text = null;\r\n      self.qResponse.number = numberRes;\r\n      self.qResponse.questionId = qId;\r\n    });\r\n    this.domListeners.push(ref);\r\n\r\n    ref.internalHandler = this.util.listener(\r\n      this.$body,\r\n      ref.type,\r\n      ref.id,\r\n      ref.cb\r\n    );\r\n  }\r\n\r\n  setupListenersQuestionSlider(index: number, qId: string) {\r\n    let self: DomSurvey = this;\r\n    let sliderRes: string = \"\";\r\n    let slider = new Slider();\r\n    let sliderInput = <HTMLInputElement>(\r\n      document.querySelectorAll(\"#\" + qId + \" input\")[0]\r\n    );\r\n\r\n    if (\r\n      this.util.checkIfListenerExists(\"#\" + qId + \" input\", this.domListeners)\r\n    ) {\r\n      // return;\r\n    }\r\n    //set previous value\r\n    let questionId: any;\r\n    questionId = qId.substring(2, qId.length);\r\n    (window as any).ccsdkDebug\r\n      ? console.log(\"slider question\", this.ccsdk.survey.answers[questionId])\r\n      : \"\";\r\n    if (\r\n      typeof this.ccsdk.survey.answers[questionId] !== \"undefined\" &&\r\n      this.ccsdk.survey.answers[questionId] !== \"\"\r\n    ) {\r\n      let previousValue = this.ccsdk.survey.answers[questionId].number;\r\n      (window as any).ccsdkDebug\r\n        ? console.log(\r\n          \"slider input box\",\r\n          document.querySelectorAll(\"#\" + qId)[0]\r\n        )\r\n        : \"\";\r\n      let previousSelection = <HTMLInputElement>(\r\n        document.querySelectorAll(\"#\" + qId + \" .act-slider-tip\")[0]\r\n      );\r\n      (window as any).ccsdkDebug\r\n        ? console.log(\"slider previous selection\", previousSelection)\r\n        : \"\";\r\n      (window as any).ccsdkDebug\r\n        ? console.log(\"slider previous value\", previousValue)\r\n        : \"\";\r\n      if (\r\n        typeof previousSelection !== \"undefined\" &&\r\n        previousSelection != null &&\r\n        typeof previousValue !== \"undefined\"\r\n      ) {\r\n        previousSelection.innerHTML = previousValue;\r\n        sliderInput.value = previousValue;\r\n        self.qResponse.type = \"slider\";\r\n        self.qResponse.number = previousValue;\r\n        self.qResponse.text = null;\r\n        self.qResponse.questionId = qId;\r\n      }\r\n    }\r\n    let ref = this.util.initListener(\r\n      \"change\",\r\n      \"#\" + qId + \" input\",\r\n      function () {\r\n        sliderRes = this.value;\r\n        self.qResponse.type = \"slider\";\r\n        self.qResponse.number = sliderRes;\r\n        self.qResponse.text = null;\r\n        self.qResponse.questionId = qId;\r\n        //move to next question automagically\r\n        // self.nextQuestion();\r\n      }\r\n    );\r\n    this.domListeners.push(ref);\r\n\r\n    ref.internalHandler = this.util.listener(\r\n      this.$body,\r\n      ref.type,\r\n      ref.id,\r\n      ref.cb\r\n    );\r\n  }\r\n\r\n  setupListenersQuestionSelect(index: number, qId: string) {\r\n    let self: DomSurvey = this;\r\n    let questionId: any;\r\n    (window as any).ccsdkDebug\r\n      ? console.log(\"select que\", this.domListeners)\r\n      : \"\";\r\n    questionId = qId.substring(2, qId.length);\r\n    // (window as any).ccsdkDebug?console.log(this.ccsdk.survey.answers[questionId]):'';\r\n    // (window as any).ccsdkDebug?console.log(this.ccsdk.survey.surveyAnswers[questionId]):'';\r\n    if (\r\n      this.util.checkIfListenerExists(\r\n        \"#\" + qId + \" .cc-select-options .cc-select-option\",\r\n        this.domListeners\r\n      )\r\n    ) {\r\n      (window as any).ccsdkDebug\r\n        ? console.log(\"select que listner exists\")\r\n        : \"\";\r\n      this.removePrevListener(\r\n        \"#\" + qId + \" .cc-select-options .cc-select-option\"\r\n      );\r\n\r\n      // return;\r\n    }\r\n    (window as any).ccsdkDebug ? console.log(\"select que\") : \"\";\r\n\r\n    // if(!self.util.arrayContains.call(self.trackSelects, qId)){\r\n    (window as any).ccsdkDebug\r\n      ? console.log(\"select que initialize select\")\r\n      : \"\";\r\n\r\n    self.select = new Select(qId);\r\n    self.select.destroyListeners();\r\n    self.select.init(qId);\r\n\r\n    if (\r\n      typeof this.ccsdk.survey.answers[questionId] !== \"undefined\" &&\r\n      this.ccsdk.survey.answers[questionId] !== \"\"\r\n    ) {\r\n      if (this.ccsdk.survey.answers[questionId].text) {\r\n        let question = this.ccsdk.survey.getQuestionById(questionId);\r\n        self.select.setValue(\r\n          this.ccsdk.survey.answers[questionId].text,\r\n          question,\r\n          this.ccsdk.survey\r\n        );\r\n        self.select.selectOptions(this.ccsdk.survey.answers[questionId].text);\r\n        self.qResponse.type = \"select\";\r\n        self.qResponse.text = this.ccsdk.survey.answers[questionId].text;\r\n        self.qResponse.number = null;\r\n        self.qResponse.questionId = qId;\r\n      }\r\n    }\r\n    self.trackSelects.push(qId);\r\n    // }\r\n    let selectRes: string = \"\";\r\n    let ref = this.util.initListener(\r\n      \"click\",\r\n      \"#\" + qId + \" .cc-select-options .cc-select-option\",\r\n      function () {\r\n        // selectRes = this.getAttribute('data-value');\r\n        selectRes = document\r\n          .querySelectorAll(\"#\" + qId + \" .cc-select-trigger\")[0]\r\n          .getAttribute(\"data-selection-value\");\r\n        // (window as any).ccsdkDebug?console.log(selectRes):'';\r\n        self.qResponse.type = \"select\";\r\n        self.qResponse.text = selectRes;\r\n        self.qResponse.number = null;\r\n        self.qResponse.questionId = qId;\r\n        //move to next question automagically\r\n\r\n        let onSurveyClickEvent = new CustomEvent(\r\n          Constants.SURVEY_CLICK_EVENT + \"-\" + self.ccsdk.surveyToken\r\n        );\r\n        document.dispatchEvent(onSurveyClickEvent);\r\n\r\n        // self.nextQuestion();\r\n      }\r\n    );\r\n\r\n    // this.util.removeListener(this.$body, ref.type, listener.internalHandler);\r\n    this.domListeners.push(ref);\r\n\r\n    ref.internalHandler = this.util.listener(\r\n      this.$body,\r\n      ref.type,\r\n      ref.id,\r\n      ref.cb\r\n    );\r\n  }\r\n\r\n  // addListenersNextButtonSubmit(index : number, data : any, type : string){\r\n  //   let self : DomSurvey = this;\r\n  //   let btnNext = self.util.get('.act-cc-button-next')[0];\r\n  //   self.util.on('click', btnNext, this.submitQuestion(\r\n  //     index, data, type\r\n  //   ));\r\n  //\r\n  // }\r\n\r\n  // removeListenersNextButtonSubmit(index : number, data : any, type : string){\r\n  //   let self : DomSurvey = this;\r\n  //   let btnNext = self.util.get('.act-cc-button-next');\r\n  //   self.util.on('click', btnNext, this.submitQuestion(\r\n  //     index, data, type\r\n  //   ));\r\n  //   self.util.off('click', btnNext, this.submitQuestion(\r\n  //     index, data, type\r\n  //   ));\r\n  // }\r\n\r\n  submitQuestion(index: number, data: any, type: string, qId: string) {\r\n    (window as any).ccsdkDebug ? console.log(\"type\", type, \"res\", data) : \"\";\r\n    this.util.trigger(document, \"q-answered\", {\r\n      index: index,\r\n      data: data,\r\n      type: type,\r\n      questionId: qId.match(/^id/) ? qId.substring(2, qId.length) : qId\r\n    });\r\n  }\r\n}\r\n\r\nexport { DomSurvey };\r\n","import { DomUtilities } from './DomUtilities';\r\n\r\nclass Theme {\r\n\tutil: DomUtilities;\r\n\tbrandColorDark: string;\r\n\tbrandColorWhite: string;\r\n\tconstructor( brandColor, time ) {\r\n\t\tthis.util = new DomUtilities();\r\n\t\tthis.brandColorDark = this.util.shadeBlendConvert( -0.3, brandColor, undefined );\r\n\t\tthis.brandColorWhite = this.util.shadeBlendConvert( 0.1, brandColor, undefined );\r\n\t\tlet css: string = `\r\n\t\t.cc-sdk #progressBar{\r\n\t\t\tbackground : ${this.brandColorDark };\r\n\t\t}\r\n\t\t.cc-sdk #progress-line{ \r\n\t\t\tbackground: ${brandColor };\r\n\t\t}\r\n\t\t.cc-sdk .cc-checkbox input[type=\"checkbox\"]:checked + label:before {\r\n\t\t\tbackground:${brandColor };\r\n\t\t}\r\n\t\t.ccsdk-overlay.glass{\r\n\t\t\tbackground-color:${this.util.hexToRGB( brandColor, .5 ) };\r\n\t\t}\r\n\t\t.cc-sdk .cc-checkbox input[type=\"checkbox\"]:checked + label:after {\r\n\t\t\tborder-color: #fff;\r\n\t\t}\r\n\t\t.cc-sdk .cc-checkbox input[type=\"radio\"]:checked + label:before {\r\n\t\t\tborder-color: ${brandColor };\r\n\t\t}\r\n\t\t.cc-sdk .cc-checkbox input[type=\"radio\"]:checked + label:before {\r\n\t\t\tborder-color: ${brandColor };\r\n\t\t}\r\n\t\t.cc-sdk .cc-checkbox input[type=\"radio\"]:checked + label:after {\r\n\t\t\tbackground: ${brandColor };\r\n\t\t}\r\n\t\t.cc-sdk .cc-sdk-form-control:focus {\r\n\t\t\tborder-color: ${brandColor };\r\n\t\t}\r\n\t\t.cc-sdk .cc-message-box__btn{\r\n\t\t\tbackground: ${brandColor };\r\n\t\t\tcolor:#fff;\r\n\t\t}\r\n\t\t\t.cc-sdk .submit-icon{\r\n\t\t\t\tbackground-image: url(\"data:image/svg+xml;charset=utf8,%3Csvg%20width%3D%2747px%27%20height%3D%2747px%27%20viewBox%3D%270%200%2047%2047%27%20version%3D%271.1%27%20xmlns%3D%27http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%27%20xmlns%3Axlink%3D%27http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%27%3E%3Ctitle%3EGroup%2016%3C%2Ftitle%3E%3Cdesc%3ECreated%20with%20Sketch.%3C%2Fdesc%3E%3Cdefs%3E%3Ccircle%20id%3D%27path-1%27%20cx%3D%2719.3130459%27%20cy%3D%2719.3130459%27%20r%3D%2719.3130459%27%3E%3C%2Fcircle%3E%3Cfilter%20x%3D%27-18.1%25%27%20y%3D%27-12.9%25%27%20width%3D%27136.2%25%27%20height%3D%27136.2%25%27%20filterUnits%3D%27objectBoundingBox%27%20id%3D%27filter-2%27%3E%3CfeOffset%20dx%3D%270%27%20dy%3D%272%27%20in%3D%27SourceAlpha%27%20result%3D%27shadowOffsetOuter1%27%3E%3C%2FfeOffset%3E%3CfeGaussianBlur%20stdDeviation%3D%272%27%20in%3D%27shadowOffsetOuter1%27%20result%3D%27shadowBlurOuter1%27%3E%3C%2FfeGaussianBlur%3E%3CfeColorMatrix%20values%3D%270%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200.116423234%200%27%20type%3D%27matrix%27%20in%3D%27shadowBlurOuter1%27%3E%3C%2FfeColorMatrix%3E%3C%2Ffilter%3E%3C%2Fdefs%3E%3Cg%20id%3D%27Page-1%27%20stroke%3D%27none%27%20stroke-width%3D%271%27%20fill%3D%27none%27%20fill-rule%3D%27evenodd%27%3E%3Cg%20id%3D%271-copy-20%27%20transform%3D%27translate(-1246.000000%2C%20-664.000000)%27%3E%3Cg%20id%3D%27Group-16%27%20transform%3D%27translate(1250.000000%2C%20666.000000)%27%3E%3Cg%20id%3D%27Oval-4%27%3E%3Cuse%20fill%3D%27white%27%20fill-opacity%3D%271%27%20filter%3D%27url(%23filter-2)%27%20xlink%3Ahref%3D%27%23path-1%27%3E%3C%2Fuse%3E%3Cuse%20fill%3D%27${encodeURIComponent( brandColor ) }%27%20fill-rule%3D%27evenodd%27%20xlink%3Ahref%3D%27%23path-1%27%3E%3C%2Fuse%3E%3C%2Fg%3E%3Cg%20id%3D%27Group-5%27%20transform%3D%27translate(12.000000%2C%2011.000000)%27%20fill-rule%3D%27nonzero%27%20fill%3D%27%23FFFFFF%27%3E%3Cg%20id%3D%27fast-forward-arrows%27%20transform%3D%27translate(6.173934%2C%200.000000)%27%3E%3Cpolygon%20id%3D%27Shape%27%20points%3D%270.993357559%200%200%200.993357559%207.30823082%208.3015552%200%2015.6097197%200.993357559%2016.6030772%209.29491276%208.3015552%27%3E%3C%2Fpolygon%3E%3C%2Fg%3E%3Cg%20id%3D%27fast-forward-arrows-copy%27%3E%3Cpolygon%20id%3D%27Shape%27%20points%3D%270.993357559%200%200%200.993357559%207.30823082%208.3015552%200%2015.6097197%200.993357559%2016.6030772%209.29491276%208.3015552%27%3E%3C%2Fpolygon%3E%3C%2Fg%3E%3C%2Fg%3E%3C%2Fg%3E%3C%2Fg%3E%3C%2Fg%3E%3C%2Fsvg%3E\");\r\n\t\t\t}\r\n\t\t\t[dir=\"rtl\"].cc-sdk .submit-icon{\r\n\t\t\t\tbackground-image: url(\"data:image/svg+xml;charset=utf8,%3Csvg%20width%3D%2747px%27%20height%3D%2747px%27%20viewBox%3D%270%200%2047%2047%27%20version%3D%271.1%27%20xmlns%3D%27http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%27%20xmlns%3Axlink%3D%27http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%27%3E%0A%20%20%20%20%3Cdesc%3ECreated%20with%20Sketch.%3C%2Fdesc%3E%0A%20%20%20%20%3Cdefs%3E%3C%2Fdefs%3E%0A%20%20%20%20%3Cg%20id%3D%27Page-1%27%20stroke%3D%27none%27%20stroke-width%3D%271%27%20fill%3D%27none%27%20fill-rule%3D%27evenodd%27%3E%0A%20%20%20%20%20%20%20%20%3Cg%20id%3D%27Submit_Icon%27%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cg%20id%3D%27Oval-4%27%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cg%20id%3D%27path-1-link%27%20fill-rule%3D%27nonzero%27%20fill%3D%27%23white%27%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Ccircle%20id%3D%27path-1%27%20cx%3D%2719.3130459%27%20cy%3D%2719.3130459%27%20r%3D%2719.3130459%27%3E%3C%2Fcircle%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C%2Fg%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cg%20id%3D%27path-1-link%27%20fill%3D%27${encodeURIComponent( brandColor ) }%27%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Ccircle%20id%3D%27path-1%27%20cx%3D%2719.3130459%27%20cy%3D%2719.3130459%27%20r%3D%2719.3130459%27%3E%3C%2Fcircle%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C%2Fg%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3C%2Fg%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cg%20id%3D%27Group-5%27%20transform%3D%27translate(12.000000%2C%2011.000000)%27%20fill-rule%3D%27nonzero%27%20fill%3D%27%23ffffff%27%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cg%20id%3D%27fast-forward-arrows%27%20transform%3D%27translate(11.173934%2C%208.500000)%20scale(-1%2C%201)%20translate(-11.173934%2C%20-8.500000)%20translate(6.173934%2C%200.000000)%27%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cpolygon%20id%3D%27Shape%27%20points%3D%270.993357559%200%200%200.993357559%207.30823082%208.3015552%200%2015.6097197%200.993357559%2016.6030772%209.29491276%208.3015552%27%3E%3C%2Fpolygon%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C%2Fg%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cg%20id%3D%27fast-forward-arrows-copy%27%20transform%3D%27translate(5.000000%2C%208.500000)%20scale(-1%2C%201)%20translate(-5.000000%2C%20-8.500000)%20%27%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cpolygon%20id%3D%27Shape%27%20points%3D%270.993357559%200%200%200.993357559%207.30823082%208.3015552%200%2015.6097197%200.993357559%2016.6030772%209.29491276%208.3015552%27%3E%3C%2Fpolygon%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C%2Fg%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3C%2Fg%3E%0A%20%20%20%20%20%20%20%20%3C%2Fg%3E%0A%20%20%20%20%3C%2Fg%3E%0A%3C%2Fsvg%3E\");\r\n\t\t\t}\r\n\t\t\t.cc-sdk .cc-question-container__required-label{\r\n\t\t\tcolor: ${brandColor };\r\n\t\t}\r\n\t\t.cc-sdk input[type=\"range\"]::-webkit-slider-runnable-track{\r\n\t\t\tbackground: ${brandColor } !important;\r\n\t\t\t   background: -moz-linear-gradient(-45deg, ${brandColor } 0%, ${ this.brandColorDark } 100%)!important;\r\n\t\t\t   background: -webkit-linear-gradient(-45deg, ${brandColor }' 0%,${ this.brandColorDark } 100%)!important;\r\n\t\t\t   background: linear-gradient(135deg, ${brandColor } 0%,${ this.brandColorDark } 100%)!important;\r\n\t\t\t   filter: progid:DXImageTransform.Microsoft.gradient( startColorstr=${brandColor }, endColorstr=${ this.brandColorDark },GradientType=1 );\r\n\t\t   }\r\n\t\t.cc-sdk input[type=\"range\"]::-moz-range-track {\r\n\t\t\tbackground: ${brandColor } !important;\r\n\t\t\tbackground: -moz-linear-gradient(-45deg, ${brandColor } 0%, ${ this.brandColorDark } 100%)!important;\r\n\t\t\tbackground: -webkit-linear-gradient(-45deg, ${brandColor } 0%, ${ this.brandColorDark } 100%)!important;\r\n\t\t\tbackground: linear-gradient(135deg, ${brandColor } 0%,${ this.brandColorDark } 100%)!important;\r\n\t\t\tfilter: progid:DXImageTransform.Microsoft.gradient( startColorstr=${brandColor }, endColorstr=${ this.brandColorDark },GradientType=1 );\r\n\t\t}\r\n\t\t   .cc-sdk input[type=\"range\"]::-webkit-slider-thumb{\r\n\t\t\tborder: 1px solid ${brandColor } ;\r\n\t\t\tbackground-color: #fff;\r\n\t\t   }\r\n\t\t   .cc-sdk input[type=\"range\"]::-moz-range-thumb {\r\n\t\t\tborder: 1px solid ${brandColor } ;\r\n\t\t\tbackground-color: #fff;\r\n\t\t   }\r\n\t\t   .cc-sdk svg.timer circle {\r\n\t\t\tanimation: countdown ${time }s linear 1 forwards;\r\n\t\t\tstroke: ${brandColor };\r\n\t\t   }\r\n\t\t   .cc-sdk input[type=range].selected::-webkit-slider-thumb {\r\n\t\t\t\tbackground-color: ${brandColor };\r\n\t\t\t}\r\n\t\t\t.cc-sdk input[type = range].selected::-moz - range - thumb {\r\n\t\t\t\tbackground-color: ${brandColor };\r\n\t\t\t}\r\n\t\t\t.cc-sdk .cc-checkbox label:hover:before{\r\n\t\t\t\tborder: solid 1px ${brandColor };\r\n\t\t\t}\r\n\t\t @media (max-width: 768px){\r\n\t \t\t\t.ccsdk-overlay.glass{\r\n\t \t\t\tbackground-color:rgba(255,255,255,.85);\r\n\t \t\t\tbackground-image:none;\r\n\t\t\t\t}\r\n\t\t\t\t.cc-sdk.cc-popup-container{\r\n\t\t\t\t\tbackground-color : transparent;\r\n\t\t\t\t}\r\n\t\t\t\t.cc-sdk.cc-popup-container .ccsdk-overlay.glass{\r\n\t\t\t\t\tbackground-color : ${this.util.hexToRGB( brandColor, .9 ) };\r\n\t\t\t\t}\r\n\t\t\t\t.cc-sdk.cc-popup-container .cc-message-box .cc-message-box__text{\r\n\t\t\t\t\tcolor:#fff;\r\n\t\t\t\t}\r\n\t\t`;\r\n\t\tthis.util.appendStyle( css );\r\n\r\n\t}\r\n}\r\nexport { Theme }\r\n","import { DomUtilities } from './DomUtilities';\r\nclass Slider {\r\n  inputRange: any;\r\n  rangeTip: any;\r\n  maxValue: number;\r\n  speed: number;\r\n  currValue: number;\r\n  rafID: any;\r\n  timeout: any;\r\n  util: any\r\n\r\n  constructor() {\r\n    this.inputRange = document.getElementsByClassName( 'cc-sdk-range' )[ 0 ];\r\n    this.rangeTip = this.inputRange.parentNode.querySelectorAll( \".act-slider-tip\" )[ 0 ];\r\n    this.util = new DomUtilities();\r\n    //  this.maxValue = 100; // the higher the smoother when dragging\r\n    this.speed = 5;\r\n\r\n\r\n    // set min/max value\r\n    // this.inputRange.min = 0;\r\n    this.inputRange.min = this.inputRange.getAttribute( 'min' );\r\n    // this.inputRange.max = this.maxValue;\r\n    this.inputRange.max = this.inputRange.getAttribute( 'max' );\r\n    this.setupListeners();\r\n  }\r\n\r\n  setupListeners() {\r\n    let self: Slider = this;\r\n\r\n    // bind events\r\n    this.inputRange.addEventListener( 'mouseup', this.clearTo, false );\r\n\r\n    // move gradient\r\n    this.inputRange.addEventListener( 'input', function () {\r\n      self.updateRangeTip();\r\n      self.util.addClass( this, 'selected' );\r\n\r\n      //Change slide thumb color on way up\r\n      if ( this.value > 20 ) {\r\n        self.inputRange.classList.add( 'ltpurple' );\r\n      }\r\n      if ( this.value > 40 ) {\r\n        self.inputRange.classList.add( 'purple' );\r\n      }\r\n      if ( this.value > 60 ) {\r\n        self.inputRange.classList.add( 'pink' );\r\n      }\r\n\r\n      //Change slide thumb color on way down\r\n      if ( this.value < 20 ) {\r\n        self.inputRange.classList.remove( 'ltpurple' );\r\n      }\r\n      if ( this.value < 40 ) {\r\n        self.inputRange.classList.remove( 'purple' );\r\n      }\r\n      if ( this.value < 60 ) {\r\n        self.inputRange.classList.remove( 'pink' );\r\n      }\r\n    } );\r\n  }\r\n\r\n\r\n\r\n  updateRangeTip() {\r\n    let self: Slider = this;\r\n    this.rangeTip.style.display = 'block';\r\n    this.rangeTip.innerHTML = this.inputRange.value;\r\n  }\r\n\r\n  clearTo() {\r\n    clearTimeout( this.timeout );\r\n  }\r\n\r\n  // listen for unlock\r\n  // unlockStartHandler() {\r\n  //   let self : any = this;\r\n  //   // clear raf if trying again\r\n  //   window.cancelAnimationFrame(this.rafID);\r\n  //   // set to desired value\r\n  //   this.currValue = +self.value;\r\n  // }\r\n\r\n  // unlockEndHandler() {\r\n  //   // store current value\r\n  //   this.currValue = + this.value;\r\n  //   // determine if we have reached success or not\r\n  //   if(this.currValue >= this.maxValue) {\r\n  //      this.successHandler();\r\n  //   }\r\n  //   else {\r\n  //      this.rafID = window.requestAnimationFrame(this.animateHandler);\r\n  //   }\r\n  // }\r\n\r\n  // handle range animation\r\n  animateHandler() {\r\n    // calculate gradient transition\r\n    var transX = this.currValue - this.maxValue;\r\n\r\n    // update input range\r\n    this.inputRange.value = this.currValue;\r\n\r\n    //Change slide thumb color on mouse up\r\n    if ( this.currValue < 20 ) {\r\n      this.inputRange.classList.remove( 'ltpurple' );\r\n    }\r\n    if ( this.currValue < 40 ) {\r\n      this.inputRange.classList.remove( 'purple' );\r\n    }\r\n    if ( this.currValue < 60 ) {\r\n      this.inputRange.classList.remove( 'pink' );\r\n    }\r\n\r\n    // determine if we need to continue\r\n    if ( this.currValue > -1 ) {\r\n      window.requestAnimationFrame( this.animateHandler );\r\n    }\r\n\r\n    // decrement value\r\n    this.currValue = this.currValue - this.speed;\r\n  }\r\n\r\n  // handle successful unlock\r\n  successHandler() {\r\n  }\r\n\r\n\r\n\r\n}\r\n\r\nexport { Slider };\r\n","//Manages trigger.\r\nimport { Cookie } from \"./helpers/Cookie\";\r\nimport { Constants } from \"./Constants\";\r\nimport { Triggers } from \"./Triggers\";\r\n//collect initial data\r\n//if on site time is null, add on site time\r\nif (Cookie.get(Constants.CCTriggerSiteStartTime) == null) {\r\n  Cookie.set(Constants.CCTriggerSiteStartTime, new Date(), undefined, undefined);\r\n}\r\n//always add on page Time\r\nCookie.set(Constants.CCTriggerPageStartTime, new Date(), undefined, undefined);\r\n\r\nlet sitePageViewCount = Cookie.get(Constants.CCTriggerSitePageViewCount);\r\nif (sitePageViewCount == null) {\r\n  Cookie.set(Constants.CCTriggerSitePageViewCount, 1, undefined, undefined);\r\n} else {\r\n  sitePageViewCount = (parseInt(sitePageViewCount) + 1).toString();\r\n  Cookie.set(Constants.CCTriggerSitePageViewCount, sitePageViewCount, undefined, undefined);\r\n}\r\n\r\nlet pathname = window.location.pathname;\r\nif (pathname.match(/\\./)) {\r\n  pathname = pathname.substring(0, pathname.lastIndexOf('/'));\r\n}\r\nlet individualPageViewCount = Cookie.get(Constants.CCTriggerIndividualPageViewCount);\r\nif (individualPageViewCount == null) {\r\n  Cookie.set(Constants.CCTriggerIndividualPageViewCount + pathname, 1, undefined, undefined);\r\n} else {\r\n  individualPageViewCount = (parseInt(individualPageViewCount) + 1).toString();\r\n  Cookie.set(Constants.CCTriggerIndividualPageViewCount + pathname, individualPageViewCount, undefined, undefined);\r\n}\r\n\r\n(window as any).click = 0;\r\n\r\nwindow.onscroll = function (e) {\r\n  // called when the window is scrolled.  \r\n  let doc = document.documentElement;\r\n  let left = (window.pageXOffset || doc.scrollLeft) - (doc.clientLeft || 0);\r\n  let top = (window.pageYOffset || doc.scrollTop) - (doc.clientTop || 0);\r\n  (window as any).ccsdkTopOffset = top;\r\n  TriggerManager.processScrollTriggers(top);\r\n}\r\n\r\ndocument.onclick = function (e) {\r\n  (window as any).click++;\r\n}\r\n\r\n//TriggerManager adds to survey Queue\r\nclass TriggerManager {\r\n\r\n  static triggerInterval: any = null;\r\n  static triggerInstances: any = {};\r\n\r\n  constructor() {\r\n    //initialize triggers\r\n    //add those triggers which aren't completed yet.\r\n  }\r\n\r\n  static addSurvey(surveyId: any, trigger: Triggers) {\r\n    TriggerManager.triggerInstances[surveyId] = trigger;\r\n    if (Object.keys(TriggerManager.triggerInstances).length >= 1) {\r\n      (window as any).ccsdkDebug ? console.log(TriggerManager.triggerInterval) : '';\r\n      if (TriggerManager.triggerInterval == null) {\r\n        (window as any).ccsdkDebug ? console.log(\"TriggerHandler : Setting up Interval Trigger Handlers.\") : '';\r\n        TriggerManager.triggerInterval = setInterval(TriggerManager.processIntervalTriggers, 1000);\r\n      }\r\n      //processing sequential triggers if any.\r\n      // console.log(\"TriggerHandler : Processing sequential triggers for  \" + surveyId);\r\n      // TriggerManager.processTriggersBySurveyId(surveyId);\r\n    }\r\n  }\r\n\r\n  static removeSurvey(surveyId: string) {\r\n    delete TriggerManager.triggerInstances[surveyId];\r\n    if (Object.keys(TriggerManager.triggerInstances).length == 0) {\r\n      clearInterval(TriggerManager.triggerInterval);\r\n    }\r\n  }\r\n\r\n  static processIntervalTriggers() {\r\n    //if some survey is already running skip processing surveys for now?or queue it?.\r\n    let pathname = window.location.pathname;\r\n    if (pathname.match(/\\./)) {\r\n      pathname = pathname.substring(0, pathname.lastIndexOf('/'));\r\n    }\r\n    Cookie.set(Constants.CCTriggerPageElapsedTime + pathname, new Date(), undefined, undefined);\r\n    Cookie.set(Constants.CCTriggerSiteElapsedTime, new Date(), undefined, undefined);\r\n\r\n    for (let trigger in TriggerManager.triggerInstances) {\r\n      TriggerManager.triggerInstances[trigger].processIntervalTriggers();\r\n      TriggerManager.triggerInstances[trigger].processConditionalTriggers();\r\n    }\r\n  }\r\n\r\n  static processScrollTriggers(scrollNow) {\r\n    for (let trigger in TriggerManager.triggerInstances) {\r\n      //process all scroll triggers.\r\n      TriggerManager.triggerInstances[trigger].processScrollTriggers(scrollNow);\r\n    }\r\n  }\r\n\r\n  static disableTriggers(surveyId: string) {\r\n    TriggerManager.triggerInstances[surveyId].disableTriggers();\r\n  }\r\n\r\n};\r\n\r\n\r\n\r\nexport { TriggerManager };","import { Cookie } from \"./helpers/Cookie\";\r\nimport { Constants } from \"./Constants\";\r\nimport { SurveyManager } from \"./SurveyManager\";\r\nimport { TriggerUtils } from \"./helpers/TriggerUtils\";\r\nimport { CCSDKConfig } from \"./interfaces/CCSDKConfig\";\r\n\r\nclass Triggers {\r\n\r\n  ccsdk: any;\r\n  pageCountTrigger: boolean;\r\n  pageTimeTrigger: boolean;\r\n  siteCountTrigger: boolean;\r\n  siteTimeTrigger: boolean;\r\n  urlParamTrigger: boolean;\r\n  notUrlParamTrigger: boolean;\r\n  utmParamTrigger: boolean;\r\n  scrollPixelsTrigger: boolean;\r\n  minPageCount: number;\r\n  minSiteCount: number;\r\n  minPageTime: number;\r\n  minSiteTime: number;\r\n  minScrollPixels: number;\r\n  utm: string;\r\n  inUrl: RegExp;\r\n  notinUrl: RegExp;\r\n  pageCountTriggerEnabled: boolean;\r\n  siteCountTriggerEnabled: boolean;\r\n  pageTimeTriggerEnabled: boolean;\r\n  siteTimeTriggerEnabled: boolean;\r\n  urlParamTriggerEnabled: boolean;\r\n  notUrlParamTriggerEnabled: boolean;\r\n  utmParamTriggerEnabled: boolean;\r\n  scrollPixelsTriggerEnabled: boolean;\r\n\r\n  conditionalTriggers: any;\r\n\r\n  constructor(ccsdk) {\r\n    this.ccsdk = ccsdk;\r\n    this.pageCountTrigger = false;\r\n    this.siteCountTrigger = false;\r\n    this.pageTimeTrigger = false;\r\n    this.siteTimeTrigger = false;\r\n    this.urlParamTrigger = false;\r\n    this.notUrlParamTrigger = false;\r\n    this.utmParamTrigger = false;\r\n    this.scrollPixelsTrigger = false;\r\n\r\n    //disable all triggers.\r\n    this.pageCountTriggerEnabled = false;\r\n    this.siteCountTriggerEnabled = false;\r\n    this.pageTimeTriggerEnabled = false;\r\n    this.siteTimeTriggerEnabled = false;\r\n    this.urlParamTriggerEnabled = false;\r\n    this.notUrlParamTriggerEnabled = false;\r\n    this.utmParamTriggerEnabled = false;\r\n    this.scrollPixelsTriggerEnabled = false;\r\n    this.conditionalTriggers = {};\r\n  }\r\n\r\n\r\n  enableClickTrigger(target: string, cb: any) {\r\n    let item = document.querySelectorAll(target)[0];\r\n    if (typeof item !== 'undefined') {\r\n      item.addEventListener('click', cb);\r\n    } else {\r\n      console.log('selector does not match')\r\n    }\r\n  }\r\n\r\n  enablePageCountTrigger(minPageCount: number) {\r\n    this.minPageCount = minPageCount;\r\n    this.pageCountTriggerEnabled = true;\r\n    this.TriggerPopUpByPageCount();\r\n  }\r\n\r\n  enableSiteCountTrigger(minSiteCount: number) {\r\n    this.minSiteCount = minSiteCount;\r\n    this.pageCountTriggerEnabled = true;\r\n    this.TriggerPopUpByPageCount();\r\n  }\r\n\r\n  enablePageTimeTrigger(minPageTime: number) {\r\n    this.minPageTime = minPageTime;\r\n    this.pageTimeTriggerEnabled = true;\r\n    this.TriggerPopUpByTimeSpentOnPage();\r\n  }\r\n\r\n  enableSiteTimeTrigger(minSiteTime: number) {\r\n    this.minSiteTime = minSiteTime;\r\n    this.siteTimeTriggerEnabled = true;\r\n    this.TriggerPopUpByTimeSpentOnSite();\r\n  }\r\n\r\n  enablePopUpByURLPatternTrigger(urlPattern: RegExp) {\r\n    this.inUrl = urlPattern;\r\n    this.urlParamTriggerEnabled = true;\r\n    this.TriggerPopUpByURLPattern();\r\n  }\r\n\r\n  enablePopUpByNotURLPatternTrigger(urlPattern: RegExp) {\r\n    this.notinUrl = urlPattern;\r\n    this.notUrlParamTriggerEnabled = true;\r\n    this.TriggerPopUpByNotURLPattern();\r\n  }\r\n\r\n  enablePopUpByUTMPatternTrigger(urlPattern: string) {\r\n    this.utm = urlPattern;\r\n    this.utmParamTriggerEnabled = true;\r\n    this.TriggerPopUpByUTMParameter();\r\n  }\r\n\r\n  enableScrollPixelsTrigger(minScrollPixels: number) {\r\n    this.minScrollPixels = minScrollPixels;\r\n    this.scrollPixelsTriggerEnabled = true;\r\n\r\n  }\r\n\r\n  processIntervalTriggers() {\r\n    //if survey already launched\r\n    //skip processing.\r\n    if (this.ccsdk.surveyRunning || this.ccsdk.surveyDone) {\r\n      return;\r\n    }\r\n    this.TriggerPopUpByTimeSpentOnPage();\r\n    this.TriggerPopUpByTimeSpentOnSite();\r\n  }\r\n\r\n  setConditionalTriggers(config: CCSDKConfig) {\r\n    (window as any).ccsdkDebug ? console.log(config.grepURL) : '';\r\n    //\r\n    if ((typeof config.click !== 'undefined') && (config.click != 0)) {\r\n      this.conditionalTriggers.click = config.click;\r\n    }\r\n    if ((typeof config.onExitDetect !== 'undefined')) {\r\n      this.conditionalTriggers.onExitDetect = config.onExitDetect;\r\n    }\r\n    // if ((typeof config.cssSelector !== 'undefined')) {\r\n    //   this.conditionalTriggers.cssSelector = config.cssSelector;\r\n    // }\r\n    if ((typeof config.waitSeconds !== 'undefined') && (config.waitSeconds !== 0)) {\r\n      this.conditionalTriggers.waitSeconds = config.waitSeconds;\r\n    }\r\n    if ((typeof config.scrollPercent !== 'undefined') && (config.scrollPercent !== 0)) {\r\n      this.conditionalTriggers.scrollPercent = config.scrollPercent;\r\n    }\r\n    if ((typeof config.grepInvertURL !== 'undefined') && (config.grepInvertURL)) {\r\n      this.conditionalTriggers.grepInvertURL = config.grepInvertURL;\r\n    }\r\n    if ((typeof config.grepURL !== 'undefined') && (config.grepURL)) {\r\n      this.conditionalTriggers.grepURL = config.grepURL;\r\n    }\r\n\r\n  }\r\n\r\n  processConditionalTriggers() {\r\n    //gather all conditional triggers and process them.\r\n    let self = this;\r\n    let isEnabled = true;\r\n    if (this.ccsdk.surveyRunning || this.ccsdk.surveyDone) {\r\n      (window as any).ccsdkDebug ? console.log('returning') : '';\r\n      return;\r\n    }\r\n    if (typeof this.conditionalTriggers !== 'undefined') {\r\n      if (Object.keys(this.conditionalTriggers).length == 0) {\r\n        return false;\r\n      }\r\n      for (let conditionalTrigger in this.conditionalTriggers) {\r\n        if (this.conditionalTriggers[conditionalTrigger] != null) {\r\n          switch (conditionalTrigger) {\r\n            case \"onExitDetect\":\r\n              let onExitDetect = self.ccsdk.util.initListener(\"mouseout\", \"document\", function () {\r\n                (window as any).ccsdkDebug ? console.log(\"Mouse out\") : '';\r\n\r\n              });\r\n\r\n              onExitDetect.internalHandler = self.ccsdk.util.listener(document, onExitDetect.type, onExitDetect.id, onExitDetect.cb);\r\n\r\n              break;\r\n            case \"click\":\r\n              //find click count on screen\r\n              //calculate click count\r\n              // if((window as any).click > this.conditionalTriggers.click) {\r\n              //   return SurveyManager.addSurvey(this.ccsdk.surveyToken);\r\n              // }\r\n              isEnabled = isEnabled && ((window as any).click >= this.conditionalTriggers.click);\r\n              break;\r\n            case \"waitSeconds\":\r\n              let pageStartTime = new Date(Cookie.get(Constants.CCTriggerPageStartTime)).getTime();\r\n              let pathname = window.location.pathname;\r\n              if (pathname.match(/\\./)) {\r\n                pathname = pathname.substring(0, pathname.lastIndexOf('/'));\r\n              }\r\n              let pageTime = new Date(Cookie.get(Constants.CCTriggerPageElapsedTime + pathname)).getTime();\r\n              isEnabled = isEnabled && TriggerUtils.checkTimeCondition(pageTime, pageStartTime, this.conditionalTriggers[conditionalTrigger]);\r\n              (window as any).ccsdkDebug ? console.log('waitSeconds enabled', isEnabled) : '';\r\n              break;\r\n            case \"scrollPercent\":\r\n              //fill it with current scroll position\r\n              isEnabled = isEnabled && TriggerUtils.checkScroll((window as any).ccsdkTopOffset, this.conditionalTriggers[conditionalTrigger]);\r\n              (window as any).ccsdkDebug ? console.log('scrollPercent enabled', isEnabled) : '';\r\n\r\n              break;\r\n            case \"grepURL\":\r\n              isEnabled = isEnabled && TriggerUtils.checkInUrl(this.conditionalTriggers[conditionalTrigger]);\r\n              (window as any).ccsdkDebug ? console.log('grepURL enabled', isEnabled) : '';\r\n              break;\r\n            case \"grepInvertURL\":\r\n              isEnabled = isEnabled && !TriggerUtils.checkInUrl(this.conditionalTriggers[conditionalTrigger]);\r\n              (window as any).ccsdkDebug ? console.log('grepInvertURL enabled', isEnabled) : '';\r\n              break;\r\n          }\r\n        }\r\n      }\r\n      if (isEnabled) {\r\n        if (this.ccsdk && this.ccsdk.tracking) {\r\n          this.ccsdk.tracking.trackEvent('Popped Up', {\r\n            token: this.ccsdk.tracking.token,\r\n            data: {\r\n              name: null,\r\n              action: null\r\n            }\r\n          }, null, null)\r\n        }\r\n        SurveyManager.addSurvey(this.ccsdk.surveyToken);\r\n      }\r\n    } else {\r\n      //do nothing.\r\n    }\r\n  }\r\n\r\n  processNonConditionalTriggers() {\r\n    //process all non conditional one shot triggers here?\r\n  }\r\n\r\n  processScrollTriggers(scrollNow: number) {\r\n    this.TriggerPopUpByScrollPixels(scrollNow);\r\n  }\r\n\r\n  TriggerPopUpByPageCount() {\r\n    let pageCount = parseInt(Cookie.get(Constants.CCTriggerSitePageViewCount));\r\n    if (pageCount == NaN) {\r\n      pageCount = 0;\r\n    }\r\n    //!(window as any).globalSurveyRunning && \r\n    if (!this.ccsdk.surveyRunning && !this.ccsdk.surveyDone && !this.pageCountTrigger && TriggerUtils.checkPageCount(pageCount, this.minPageCount)) {\r\n      this.pageCountTrigger = true;\r\n      //displayQuestion\r\n      // this.ccsdk.initSurvey();\r\n      SurveyManager.addSurvey(this.ccsdk.surveyToken);\r\n    } else {\r\n      //already executed.\r\n      //or condition not satisified yet.\r\n    }\r\n  }\r\n\r\n\r\n  //minPageTime in seconds\r\n  TriggerPopUpByTimeSpentOnPage() {\r\n    let pageStartTime = new Date(Cookie.get(Constants.CCTriggerPageStartTime)).getTime();\r\n    let pathname = window.location.pathname;\r\n    if (pathname.match(/\\./)) {\r\n      pathname = pathname.substring(0, pathname.lastIndexOf('/'));\r\n    }\r\n\r\n    let pageTime = new Date(Cookie.get(Constants.CCTriggerPageElapsedTime + pathname)).getTime();\r\n\r\n    //!(window as any).globalSurveyRunning && \r\n    if (!this.ccsdk.surveyRunning && !this.ccsdk.surveyDone && !this.pageTimeTrigger && TriggerUtils.checkTimeCondition(pageTime, pageStartTime, this.minPageTime)) {\r\n      this.pageTimeTrigger = true;\r\n      //displayQuestion\r\n      // this.ccsdk.initSurvey();\r\n      SurveyManager.addSurvey(this.ccsdk.surveyToken);\r\n    } else {\r\n      //already executed.\r\n      //or condition not satisified yet.\r\n    }\r\n  }\r\n\r\n  TriggerPopUpByTimeSpentOnSite() {\r\n    let siteStartTime = new Date(Cookie.get(Constants.CCTriggerSiteStartTime)).getTime();\r\n    let siteTime = new Date(Cookie.get(Constants.CCTriggerSiteElapsedTime)).getTime();\r\n    //!(window as any).globalSurveyRunning && \r\n    if (!this.ccsdk.surveyRunning && !this.ccsdk.surveyDone && !this.siteTimeTrigger && TriggerUtils.checkTimeCondition(siteTime, siteStartTime, this.minSiteTime)) {\r\n      this.siteTimeTrigger = true;\r\n      //displayQuestion\r\n      // this.ccsdk.initSurvey();\r\n      SurveyManager.addSurvey(this.ccsdk.surveyToken);\r\n    } else {\r\n      //already executed.\r\n      //or condition not satisified yet.\r\n    }\r\n  }\r\n\r\n  TriggerPopUpByInactivity() {\r\n\r\n  }\r\n\r\n  TriggerPopUpByScrollPixels(scrollNow: number) {\r\n    //!(window as any).globalSurveyRunning && \r\n    if (!this.ccsdk.surveyRunning && !this.ccsdk.surveyDone && !this.scrollPixelsTrigger && TriggerUtils.checkScroll(scrollNow, this.minScrollPixels)) {\r\n      this.scrollPixelsTrigger = true;\r\n      // this.ccsdk.initSurvey();\r\n      SurveyManager.addSurvey(this.ccsdk.surveyToken);\r\n      // this.ccsdk.initSurvey();\r\n      // SurveyManager.addSurvey(this.ccsdk.surveyToken);\r\n    } else {\r\n      //already executed?\r\n      //or condition not satisified yet.\r\n    }\r\n  }\r\n\r\n  //run only once?\r\n  TriggerPopUpByURLPattern() {\r\n    //!(window as any).globalSurveyRunning && \r\n    if (!this.ccsdk.surveyRunning && !this.ccsdk.surveyDone && !this.urlParamTrigger && TriggerUtils.checkInUrl(this.inUrl)) {\r\n      this.urlParamTrigger = true;\r\n      // this.ccsdk.initSurvey();\r\n      SurveyManager.addSurvey(this.ccsdk.surveyToken);\r\n    } else {\r\n\r\n    }\r\n  }\r\n\r\n  TriggerPopUpByNotURLPattern() {\r\n    //!(window as any).globalSurveyRunning && \r\n    if (!this.ccsdk.surveyRunning && !this.ccsdk.surveyDone && !this.notUrlParamTrigger && !TriggerUtils.checkInUrl(this.inUrl)) {\r\n      this.notUrlParamTrigger = true;\r\n      // this.ccsdk.initSurvey();\r\n      SurveyManager.addSurvey(this.ccsdk.surveyToken);\r\n    } else {\r\n\r\n    }\r\n  }\r\n\r\n  TriggerPopUpByUTMParameter() {\r\n    let utmP = this.utm.split(\"=\");\r\n    let utmVal = Cookie.getParameterByName(utmP[0], undefined);\r\n    //!(window as any).globalSurveyRunning && \r\n    if (!this.ccsdk.surveyRunning && !this.ccsdk.surveyDone && !this.utmParamTrigger && utmVal === utmP[1]) {\r\n      this.utmParamTrigger = true;\r\n\r\n      // this.ccsdk.initSurvey();\r\n      SurveyManager.addSurvey(this.ccsdk.surveyToken);\r\n    }\r\n  }\r\n\r\n  resetTriggers() {\r\n    this.pageCountTrigger = false;\r\n    this.pageTimeTrigger = false;\r\n    this.siteTimeTrigger = false;\r\n    this.urlParamTrigger = false;\r\n    this.scrollPixelsTrigger = false;\r\n  }\r\n}\r\n\r\nexport { Triggers };","class TriggerUtils {\r\n\r\n\r\n    public static checkInUrl(inUrl : RegExp) {\r\n        return window.location.href.match(inUrl) != null && window.location.href.match(inUrl).length > 0;\r\n    }\r\n\r\n    public static checkTimeCondition(pageTime : number, pageStartTime : number, minPageTime : number) {\r\n        return Math.round((pageTime - pageStartTime) / 1000) > minPageTime;\r\n    }\r\n\r\n    public static checkScroll(scrollNow : number, minScrollPixels : number) {\r\n        return scrollNow > minScrollPixels;\r\n    }\r\n\r\n    public static checkPageCount(pageCount : number, minPageCount : number) {\r\n        return pageCount >= minPageCount;\r\n    }\r\n}\r\n\r\nexport { TriggerUtils };","import { RequestHelper } from './Request';\r\n\r\nexport class MatomoTracker {\r\n\r\n  public username;\r\n  public token;\r\n\r\n  trackEvent(event, payload, successCb, errorCb) {\r\n    let url\r\n    try {\r\n      url = new URL('https://matomo.getcloudcherry.com/piwik.php');\r\n    } catch (err) {\r\n      if (errorCb && typeof errorCb === 'function') {\r\n        errorCb();\r\n      }\r\n      return;\r\n    }\r\n\r\n    if (!url || !url.searchParams) {\r\n      if (errorCb && typeof errorCb === 'function') {\r\n        errorCb();\r\n        return;\r\n      } else {\r\n        return;\r\n      }\r\n    }\r\n    // constants for project\r\n    const idsite = 4;\r\n    const rec = 1;\r\n\r\n    let searchParams = {\r\n      idsite,\r\n      rec,\r\n      action_name: event,\r\n      url: window.location.href,\r\n      action_url: window.location.href,\r\n      uid: this.username,\r\n      _cvar: { '1': ['Token', payload.token] },\r\n      new_visit: event === 'Welcome Pop up Position' ? 1 : 0,\r\n      e_c: event,\r\n      e_a: payload.data.action,\r\n      e_n: payload.data.name,\r\n      rand: Math.ceil(Math.random() * 100)\r\n    };\r\n    Object.keys(searchParams).forEach(x => {\r\n      let param;\r\n      if (typeof searchParams[x] === 'string') {\r\n        param = searchParams[x];\r\n      } else {\r\n        param = JSON.stringify(searchParams[x]);\r\n      }\r\n      url.searchParams.set(x, param);\r\n    })\r\n\r\n    return RequestHelper.post(url.toString(), null, successCb, errorCb);\r\n  }\r\n}"],"sourceRoot":""}